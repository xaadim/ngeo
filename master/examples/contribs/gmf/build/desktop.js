
/*
 * Redirect to https
 */
if (window.location.protocol == 'http:' &&
    window.location.port != '3000' &&
    window.location.host != 'localhost') {
  var restOfUrl = window.location.href.substr(5);
  /** @type {Location} */
  window.location = 'https:' + restOfUrl;
}

/*! jQuery v2.2.3 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,
e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});

/*
 AngularJS v1.5.3
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(T,P,u){'use strict';function O(a){return function(){var b=arguments[0],d;d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.3/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent,e;e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function za(a){if(null==a||Ya(a))return!1;if(M(a)||y(a)||H&&a instanceof H)return!0;
var b="length"in Object(a)&&a.length;return R(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function q(a,b,d){var c,e;if(a)if(D(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(M(a)||za(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(oc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&
b.call(d,a[c],c,a);else for(c in a)va.call(a,c)&&b.call(d,a[c],c,a);return a}function pc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function qc(a){return function(b,d){a(d,b)}}function Wd(){return++qb}function Ob(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(J(g)||D(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&J(n)?fa(n)?a[m]=new Date(n.valueOf()):Za(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):
Pb(n)?a[m]=n.clone():(J(a[m])||(a[m]=M(n)?[]:{}),Ob(a[m],[n],!0)):a[m]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function S(a){return Ob(a,Aa.call(arguments,1),!1)}function Xd(a){return Ob(a,Aa.call(arguments,1),!0)}function Y(a){return parseInt(a,10)}function Qb(a,b){return S(Object.create(a),b)}function E(){}function $a(a){return a}function da(a){return function(){return a}}function rc(a){return D(a.toString)&&a.toString!==ka}function z(a){return"undefined"===typeof a}function A(a){return"undefined"!==
typeof a}function J(a){return null!==a&&"object"===typeof a}function oc(a){return null!==a&&"object"===typeof a&&!sc(a)}function y(a){return"string"===typeof a}function R(a){return"number"===typeof a}function fa(a){return"[object Date]"===ka.call(a)}function D(a){return"function"===typeof a}function Za(a){return"[object RegExp]"===ka.call(a)}function Ya(a){return a&&a.window===a}function ab(a){return a&&a.$evalAsync&&a.$watch}function Oa(a){return"boolean"===typeof a}function Yd(a){return a&&R(a.length)&&
Zd.test(ka.call(a))}function Pb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function $d(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function oa(a){return N(a.nodeName||a[0]&&a[0].nodeName)}function bb(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function pa(a,b){function d(a,b){var d=b.$$hashKey,e;if(M(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(oc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&
(b[e]=c(a[e]));else for(e in a)va.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!J(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Ya(a)||ab(a))throw Ba("cpws");var b=!1,c=e(a);c===u&&(c=M(a)?[]:Object.create(sc(a)),b=!0);f.push(a);g.push(c);return b?d(a,c):c}function e(a){switch(ka.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(c(a.buffer));
case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(D(a.cloneNode))return a.cloneNode(!0)}var f=[],
g=[];if(b){if(Yd(b)||"[object ArrayBuffer]"===ka.call(b))throw Ba("cpta");if(a===b)throw Ba("cpi");M(b)?b.length=0:q(b,function(a,c){"$$hashKey"!==c&&delete b[c]});f.push(a);g.push(b);return d(a,b)}return c(a)}function ia(a,b){if(M(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(J(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function na(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d==typeof b&&
"object"==d)if(M(a)){if(!M(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!na(a[c],b[c]))return!1;return!0}}else{if(fa(a))return fa(b)?na(a.getTime(),b.getTime()):!1;if(Za(a))return Za(b)?a.toString()==b.toString():!1;if(ab(a)||ab(b)||Ya(a)||Ya(b)||M(b)||fa(b)||Za(b))return!1;d=V();for(c in a)if("$"!==c.charAt(0)&&!D(a[c])){if(!na(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&A(b[c])&&!D(b[c]))return!1;return!0}return!1}function cb(a,b,d){return a.concat(Aa.call(b,
d))}function tc(a,b){var d=2<arguments.length?Aa.call(arguments,2):[];return!D(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,cb(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ae(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=u:Ya(b)?d="$WINDOW":b&&P===b?d="$DOCUMENT":ab(b)&&(d="$SCOPE");return d}function db(a,b){if(z(a))return u;R(b)||(b=b?2:null);return JSON.stringify(a,ae,b)}function uc(a){return y(a)?
JSON.parse(a):a}function vc(a,b){a=a.replace(be,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(d)?b:d}function Rb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=vc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function wa(a){a=H(a).clone();try{a.empty()}catch(b){}var d=H("<div>").append(a).html();try{return a[0].nodeType===Pa?N(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+N(b)})}catch(c){return N(d)}}function wc(a){try{return decodeURIComponent(a)}catch(b){}}
function xc(a){var b={};q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=wc(e),A(e)&&(f=A(f)?wc(f):!0,va.call(b,e)?M(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Sb(a){var b=[];q(a,function(a,c){M(a)?q(a,function(a){b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))}):b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))});return b.length?b.join("&"):""}function rb(a){return ja(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,
"=").replace(/%2B/gi,"+")}function ja(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ce(a,b){var d,c,e=Qa.length;for(c=0;c<e;++c)if(d=Qa[c]+b,y(d=a.getAttribute(d)))return d;return null}function de(a,b){var d,c,e={};q(Qa,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});q(Qa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":",
"\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(e.strictDi=null!==ce(d,"strict-di"),b(d,c?[c]:[],e))}function yc(a,b,d){J(d)||(d={});d=S({strictDi:!1},d);var c=function(){a=H(a);if(a.injector()){var c=a[0]===P?"document":wa(a);throw Ba("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=eb(b,d.strictDi);c.invoke(["$rootScope",
"$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;T&&e.test(T.name)&&(d.debugInfoEnabled=!0,T.name=T.name.replace(e,""));if(T&&!f.test(T.name))return c();T.name=T.name.replace(f,"");ea.resumeBootstrap=function(a){q(a,function(a){b.push(a)});return c()};D(ea.resumeDeferredBootstrap)&&ea.resumeDeferredBootstrap()}function ee(){T.name="NG_ENABLE_DEBUG_INFO!"+T.name;T.location.reload()}
function fe(a){a=ea.element(a).injector();if(!a)throw Ba("test");return a.get("$$testability")}function zc(a,b){b=b||"_";return a.replace(ge,function(a,c){return(c?b:"")+a.toLowerCase()})}function he(){var a;if(!Ac){var b=sb();($=z(b)?T.jQuery:b?T[b]:u)&&$.fn.on?(H=$,S($.fn,{scope:Ra.scope,isolateScope:Ra.isolateScope,controller:Ra.controller,injector:Ra.injector,inheritedData:Ra.inheritedData}),a=$.cleanData,$.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=$._data(f,"events"))&&c.$destroy&&
$(f).triggerHandler("$destroy");a(b)}):H=U;ea.element=H;Ac=!0}}function tb(a,b,d){if(!a)throw Ba("areq",b||"?",d||"required");return a}function Sa(a,b,d){d&&M(a)&&(a=a[a.length-1]);tb(D(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ta(a,b){if("hasOwnProperty"===a)throw Ba("badname",b);}function Bc(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&D(a)?tc(e,a):a}function ub(a){for(var b=
a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=H(Aa.call(a,0,e))),c.push(b);return c||a}function V(){return Object.create(null)}function ie(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=O("$injector"),c=O("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||O;return b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,d,e,f){f||(f=c);return function(){f[e||
"push"]([b,d,arguments]);return L}}function b(a,d){return function(b,e){e&&D(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return L}}if(!g)throw d("nomod",f);var c=[],e=[],p=[],F=a("$injector","invoke","push",e),L={_invokeQueue:c,_configBlocks:e,_runBlocks:p,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider",
"register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:F,run:function(a){p.push(a);return this}};h&&F(h);return L})}})}function je(a){S(a,{bootstrap:yc,copy:pa,extend:S,merge:Xd,equals:na,element:H,forEach:q,injector:eb,noop:E,bind:tc,toJson:db,fromJson:uc,identity:$a,isUndefined:z,isDefined:A,isString:y,isFunction:D,isObject:J,isNumber:R,isElement:Pb,isArray:M,
version:ke,isDate:fa,lowercase:N,uppercase:vb,callbacks:{counter:0},getTestability:fe,$$minErr:O,$$csp:Ga,reloadWithDebugInfo:ee});Tb=ie(T);Tb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:le});a.provider("$compile",Cc).directive({a:me,input:Dc,textarea:Dc,form:ne,script:oe,select:pe,style:qe,option:re,ngBind:se,ngBindHtml:te,ngBindTemplate:ue,ngClass:ve,ngClassEven:we,ngClassOdd:xe,ngCloak:ye,ngController:ze,ngForm:Ae,ngHide:Be,ngIf:Ce,ngInclude:De,ngInit:Ee,ngNonBindable:Fe,
ngPluralize:Ge,ngRepeat:He,ngShow:Ie,ngStyle:Je,ngSwitch:Ke,ngSwitchWhen:Le,ngSwitchDefault:Me,ngOptions:Ne,ngTransclude:Oe,ngModel:Pe,ngList:Qe,ngChange:Re,pattern:Ec,ngPattern:Ec,required:Fc,ngRequired:Fc,minlength:Gc,ngMinlength:Gc,maxlength:Hc,ngMaxlength:Hc,ngValue:Se,ngModelOptions:Te}).directive({ngInclude:Ue}).directive(wb).directive(Ic);a.provider({$anchorScroll:Ve,$animate:We,$animateCss:Xe,$$animateJs:Ye,$$animateQueue:Ze,$$AnimateRunner:$e,$$animateAsyncRun:af,$browser:bf,$cacheFactory:cf,
$controller:df,$document:ef,$exceptionHandler:ff,$filter:Jc,$$forceReflow:gf,$interpolate:hf,$interval:jf,$http:kf,$httpParamSerializer:lf,$httpParamSerializerJQLike:mf,$httpBackend:nf,$xhrFactory:of,$location:pf,$log:qf,$parse:rf,$rootScope:sf,$q:tf,$$q:uf,$sce:vf,$sceDelegate:wf,$sniffer:xf,$templateCache:yf,$templateRequest:zf,$$testability:Af,$timeout:Bf,$window:Cf,$$rAF:Df,$$jqLite:Ef,$$HashMap:Ff,$$cookieReader:Gf})}])}function fb(a){return a.replace(Hf,function(a,d,c,e){return e?c.toUpperCase():
c}).replace(If,"Moz$1")}function Kc(a){a=a.nodeType;return 1===a||!a||9===a}function Lc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Ub.test(a)){d=d||e.appendChild(b.createElement("div"));c=(Jf.exec(a)||["",""])[1].toLowerCase();c=ha[c]||ha._default;d.innerHTML=c[1]+a.replace(Kf,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=cb(f,d.childNodes);d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";q(f,function(a){e.appendChild(a)});return e}function Mc(a,
b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function U(a){if(a instanceof U)return a;var b;y(a)&&(a=W(a),b=!0);if(!(this instanceof U)){if(b&&"<"!=a.charAt(0))throw Vb("nosel");return new U(a)}if(b){b=P;var d;a=(d=Lf.exec(a))?[b.createElement(d[1])]:(d=Lc(a,b))?d.childNodes:[]}Nc(this,a)}function Wb(a){return a.cloneNode(!0)}function xb(a,b){b||gb(a);if(a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)gb(d[c])}function Oc(a,b,d,c){if(A(c))throw Vb("offargs");
var e=(c=yb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];A(d)&&bb(c||[],d);A(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};q(b.split(" "),function(a){g(a);zb[a]&&g(zb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function gb(a,b){var d=a.ng339,c=d&&hb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Oc(a)),delete hb[d],a.ng339=u))}function yb(a,b){var d=a.ng339,d=d&&hb[d];b&&!d&&(a.ng339=d=++Mf,
d=hb[d]={events:{},data:{},handle:u});return d}function Xb(a,b,d){if(Kc(a)){var c=A(d),e=!c&&b&&!J(b),f=!b;a=(a=yb(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];S(a,b)}}}function Ab(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Bb(a,b){b&&a.setAttribute&&q(b.split(" "),function(b){a.setAttribute("class",W((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+W(b)+" "," ")))})}function Cb(a,
b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=W(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",W(d))}}function Nc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Pc(a,b){return Db(a,"$"+(b||"ngController")+"Controller")}function Db(a,b,d){9==a.nodeType&&(a=a.documentElement);for(b=
M(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(A(d=H.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Qc(a){for(xb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Yb(a,b){b||xb(a);var d=a.parentNode;d&&d.removeChild(a)}function Nf(a,b){b=b||T;if("complete"===b.document.readyState)b.setTimeout(a);else H(b).on("load",a)}function Rc(a,b){var d=Eb[b.toLowerCase()];return d&&Sc[oa(a)]&&d}function Of(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};
var f=b[d||c.type],g=f?f.length:0;if(g){if(z(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||Pf;1<g&&(f=ia(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function Pf(a,b,d){d.call(a,b)}function Qf(a,b,
d){var c=b.relatedTarget;c&&(c===a||Rf.call(a,c))||d.call(a,b)}function Ef(){this.$get=function(){return S(U,{hasClass:function(a,b){a.attr&&(a=a[0]);return Ab(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Cb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)}})}}function Ha(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Wd)():d+":"+a}function Ua(a,b){if(b){var d=0;this.nextUid=
function(){return++d}}q(a,this.put,this)}function Tc(a){a=a.toString().replace(Sf,"");return a.match(Tf)||a.match(Uf)}function Vf(a){return(a=Tc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function eb(a,b){function d(a){return function(b,c){if(J(b))q(b,qc(a));else return a(b,c)}}function c(a,b){Ta(a,"service");if(D(b)||M(b))b=p.instantiate(b);if(!b.$get)throw Ia("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=x.invoke(b,this);if(z(c))throw Ia("undef",a);
return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){tb(z(a)||M(a),"modulesToLoad","not an array");var b=[],c;q(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{y(a)?(c=Tb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):D(a)?b.push(p.invoke(a)):M(a)?b.push(p.invoke(a)):Sa(a,"module")}catch(e){throw M(a)&&(a=a[a.length-1]),e.message&&e.stack&&
-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ia("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ia("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=eb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ia("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:
d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);M(a)&&(a=a[a.length-1]);d=11>=Da?!1:"function"===typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a));return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=M(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:eb.$$annotate,has:function(b){return n.hasOwnProperty(b+
"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Ua([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,da(b),!1)}),constant:d(function(a,b){Ta(a,"constant");n[a]=b;F[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=x.invoke(d,c);return x.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){ea.isString(b)&&l.push(b);
throw Ia("unpr",l.join(" <- "));}),F={},L=h(F,function(a,b){var c=p.get(a+"Provider",b);return x.invoke(c.$get,c,u,a)}),x=L;n.$injectorProvider={$get:da(L)};var r=g(a),x=L.get("$injector");x.strictDi=b;q(r,function(a){a&&x.invoke(a)});return x}function Ve(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===oa(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();
var c;c=g.yOffset;D(c)?c=c():Pb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):R(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=y(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Nf(function(){c.$evalAsync(g)})});return g}]}function ib(a,b){if(!a&&!b)return"";
if(!a)return b;if(!b)return a;M(a)&&(a=a.join(" "));M(b)&&(b=b.join(" "));return a+" "+b}function Wf(a){y(a)&&(a=a.split(" "));var b=V();q(a,function(a){a.length&&(b[a]=!0)});return b}function Ja(a){return J(a)?a:{}}function Xf(a,b,d,c){function e(a){try{a.apply(null,Aa.call(arguments,1))}finally{if(L--,0===L)for(;x.length;)try{x.pop()()}catch(b){d.error(b)}}}function f(){t=null;g();h()}function g(){r=G();r=z(r)?null:r;na(r,I)&&(r=I);I=r}function h(){if(v!==k.url()||w!==r)v=k.url(),w=r,q(C,function(a){a(k.url(),
r)})}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,F={};k.isMock=!1;var L=0,x=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){L++};k.notifyWhenNoOutstandingRequests=function(a){0===L?a():x.push(a)};var r,w,v=l.href,Q=b.find("base"),t=null,G=c.history?function(){try{return m.state}catch(a){}}:E;g();w=r;k.url=function(b,d,e){z(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=w===e;if(v===b&&(!c.history||f))return k;
var h=v&&Ka(v)===Ka(b);v=b;w=e;if(!c.history||h&&f){if(!h||t)t=b;d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b;l.href!==b&&(t=b)}else m[d?"replaceState":"pushState"](e,"",b),g(),w=r;return k}return t||l.href.replace(/%27/g,"'")};k.state=function(){return r};var C=[],K=!1,I=null;k.onUrlChange=function(b){if(!K){if(c.history)H(a).on("popstate",f);H(a).on("hashchange",f);K=!0}C.push(b);return b};k.$$applicationDestroyed=function(){H(a).off("hashchange popstate",f)};
k.$$checkUrlChange=h;k.baseHref=function(){var a=Q.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};k.defer=function(a,b){var c;L++;c=n(function(){delete F[c];e(a)},b||0);F[c]=!0;return c};k.defer.cancel=function(a){return F[a]?(delete F[a],p(a),e(E),!0):!1}}function bf(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new Xf(a,c,b,d)}]}function cf(){this.$get=function(){function a(a,c){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=
null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw O("$cacheFactory")("iid",a);var g=0,h=S({},c,{id:a}),k=V(),l=c&&c.capacity||Number.MAX_VALUE,m=V(),n=null,p=null;return b[a]={put:function(a,b){if(!z(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in k||g++;k[a]=b;g>l&&this.remove(p.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==n&&(n=b.p);b==p&&(p=
b.n);f(b.n,b.p);delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=V();g=0;m=V();n=p=null},destroy:function(){m=h=k=null;delete b[a]},info:function(){return S({},h,{size:g})}}}var b={};a.info=function(){var a={};q(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function yf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Cc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e={};q(a,function(a,f){if(a in m)e[f]=
m[a];else{var g=a.match(d);if(!g)throw ga("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(m[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==N(b))throw ga("baddir",a);if(a!==a.trim())throw ga("baddir",a);}var e={},f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=$d("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/,
m=V();this.directive=function L(b,d){Ta(b,"directive");y(b)?(c(b),tb(d,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];q(e[b],function(e,f){try{var g=a.invoke(e);D(g)?g={compile:da(g)}:!g.compile&&g.link&&(g.compile=da(g.link));g.priority=g.priority||0;g.index=f;g.name=g.name||b;g.require=g.require||g.controller&&g.name;g.restrict=g.restrict||"EA";g.$$moduleName=e.$$moduleName;d.push(g)}catch(h){c(h)}});return d}])),
e[b].push(d)):q(b,qc(L));return this};this.component=function(a,b){function c(a){function e(b){return D(b)||M(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"";return{controller:d,controllerAs:Uc(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require}}var d=b.controller||E;q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=
a,d[b]=a)});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return A(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return A(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var n=!0;this.debugInfoEnabled=function(a){return A(a)?(n=a,this):n};var p=10;this.onChangesTtl=function(a){return arguments.length?(p=a,this):p};this.$get=["$injector","$interpolate",
"$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,m,v,Q,t,G,C,K){function I(){try{if(!--pa)throw $=u,ga("infchng",p);t.$apply(function(){for(var a=0,b=$.length;a<b;++a)$[a]();$=u})}finally{pa++}}function qa(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function Ca(a,b,c){la.innerHTML="<span "+b+">";b=la.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);
d.value=c;a.attributes.setNamedItem(d)}function B(a,b){try{a.addClass(b)}catch(c){}}function ba(a,b,c,d,e){a instanceof H||(a=H(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Pa&&k.nodeValue.match(f)&&Mc(k,a[g]=P.createElement("span"))}var l=xa(a,b,a,c,d,e);ba.$$addScopeClass(a);var m=null;return function(b,c,d){tb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&
(f=f.$$boundTransclude);m||(m=(d=d&&d[0])?"foreignobject"!==oa(d)&&ka.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==m?H(ca(m,H("<div>").append(a).html())):c?Ra.clone.call(a):a;if(g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);ba.$$addScopeInfo(d,b);c&&c(d,b);l&&l(b,d,d,f);return d}}function xa(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,n,p,G;if(r)for(G=Array(c.length),m=0;m<h.length;m+=3)f=h[m],G[f]=c[f];else G=c;m=0;for(n=h.length;m<n;)k=G[h[m++]],c=h[m++],f=h[m++],c?(c.scope?
(l=a.$new(),ba.$$addScopeInfo(H(k),l)):l=a,p=c.transcludeOnThisElement?s(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?s(a,b):null,c(f,l,k,d,p)):f&&f(a,k.childNodes,u,e)}for(var h=[],k,l,m,n,r,p=0;p<a.length;p++){k=new qa;l=A(a[p],[],k,0===p?d:u,e);(f=l.length?ra(l,a[p],k,b,c,null,[],[],f):null)&&f.scope&&ba.$$addScopeClass(k.$$element);k=f&&f.terminal||!(m=a[p].childNodes)||!m.length?null:xa(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(p,f,k),
n=!0,r=r||f;f=null}return n?g:null}function s(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=V(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?s(a,b.$$slots[f],c):null;return d}function A(a,b,c,d,e){var h=c.$attr,k;switch(a.nodeType){case 1:Fa(b,ya(oa(a)),"E",d,e);for(var l,m,n,r=a.attributes,p=0,G=r&&r.length;p<G;p++){var v=!1,C=!1;l=r[p];k=l.name;m=W(l.value);l=ya(k);if(n=za.test(l))k=
k.replace(Vc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});(l=l.match(Ba))&&R(l[1])&&(v=k,C=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=ya(k.toLowerCase());h[l]=k;if(n||!c.hasOwnProperty(l))c[l]=m,Rc(a,l)&&(c[l]=!0);fa(a,b,m,l,n);Fa(b,l,"A",d,e,v,C)}a=a.className;J(a)&&(a=a.animVal);if(y(a)&&""!==a)for(;k=g.exec(a);)l=ya(k[2]),Fa(b,l,"C",d,e)&&(c[l]=W(k[3])),a=a.substr(k.index+k[0].length);break;case Pa:if(11===Da)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===
Pa;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);Y(b,a.nodeValue);break;case 8:try{if(k=f.exec(a.nodeValue))l=ya(k[1]),Fa(b,l,"M",d,e)&&(c[l]=W(k[2]))}catch(w){}}b.sort(Z);return b}function Wc(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ga("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return H(d)}function O(a,b,c){return function(d,e,f,g,h){e=Wc(e[0],
b,c);return a(d,e,f,g,h)}}function Zb(a,b,c,d,e,f){var g;return a?ba(b,c,d,e,f):function(){g||(g=ba(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function ra(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&(a=O(a,c,d));a.require=B.require;a.directiveName=L;if(C===B||B.$$isolateScope)a=ia(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=O(b,c,d));b.require=B.require;b.directiveName=L;if(C===B||B.$$isolateScope)b=ia(b,{isolateScope:!0});k.push(b)}}function n(a,c,e,f,g){function l(a,b,c,d){var e;
ab(a)||(d=c,c=b,b=a,a=u);Ca&&(e=K);c||(c=Ca?t.parent():t);if(d){var f=g.$$slots[d];if(f)return f(a,b,e,c,s);if(z(f))throw ga("noslot",d,wa(t));}else return g(a,b,e,c,s)}var m,r,p,B,I,K,x,t;b===e?(f=d,t=d.$$element):(t=H(e),f=new qa(t,d));I=c;C?B=c.$new(!0):G&&(I=c.$parent);g&&(x=l,x.$$boundTransclude=g,x.isSlotFilled=function(a){return!!g.$$slots[a]});v&&(K=T(t,f,x,v,B,c,C));C&&(ba.$$addScopeInfo(t,B,!0,!(w&&(w===C||w===C.$$originalDirective))),ba.$$addScopeClass(t,!0),B.$$isolateBindings=C.$$isolateBindings,
(p=ha(c,f,B,B.$$isolateBindings,C))&&B.$on("$destroy",p));for(r in K){p=v[r];var Va=K[r],Q=p.$$bindings.bindToController;Va.identifier&&Q&&(m=ha(I,f,Va.instance,Q,p));var L=Va();L!==Va.instance&&(Va.instance=L,t.data("$"+p.name+"Controller",L),m&&m(),m=ha(I,f,Va.instance,Q,p))}q(v,function(a,b){var c=a.require;a.bindToController&&!M(c)&&J(c)&&S(K[b].instance,jb(b,c,t,K))});q(K,function(a){var b=a.instance;D(b.$onInit)&&b.$onInit();D(b.$onDestroy)&&I.$on("$destroy",function(){b.$onDestroy()})});m=
0;for(r=h.length;m<r;m++)p=h[m],ja(p,p.isolateScope?B:c,t,f,p.require&&jb(p.directiveName,p.require,t,K),x);var s=c;C&&(C.template||null===C.templateUrl)&&(s=B);a&&a(s,e.childNodes,u,g);for(m=k.length-1;0<=m;m--)p=k[m],ja(p,p.isolateScope?B:c,t,f,p.require&&jb(p.directiveName,p.require,t,K),x);q(K,function(a){a=a.instance;D(a.$postLink)&&a.$postLink()})}l=l||{};for(var p=-Number.MAX_VALUE,G=l.newScopeDirective,v=l.controllerDirectives,C=l.newIsolateScopeDirective,w=l.templateDirective,I=l.nonTlbTranscludeDirective,
K=!1,x=!1,Ca=l.hasElementTranscludeDirective,t=d.$$element=H(b),B,L,Q,s=e,xa,Ea=!1,E=!1,y,ra=0,N=a.length;ra<N;ra++){B=a[ra];var R=B.$$start,Fa=B.$$end;R&&(t=Wc(b,R,Fa));Q=u;if(p>B.priority)break;if(y=B.scope)B.templateUrl||(J(y)?(X("new/isolated scope",C||G,B,t),C=B):X("new/isolated scope",C,B,t)),G=G||B;L=B.name;if(!Ea&&(B.replace&&(B.templateUrl||B.template)||B.transclude&&!B.$$tlb)){for(y=ra+1;Ea=a[y++];)if(Ea.transclude&&!Ea.$$tlb||Ea.replace&&(Ea.templateUrl||Ea.template)){E=!0;break}Ea=!0}!B.templateUrl&&
B.controller&&(y=B.controller,v=v||V(),X("'"+L+"' controller",v[L],B,t),v[L]=B);if(y=B.transclude)if(K=!0,B.$$tlb||(X("transclusion",I,B,t),I=B),"element"==y)Ca=!0,p=B.priority,Q=t,t=d.$$element=H(ba.$$createComment(L,d[L])),b=t[0],da(f,Aa.call(Q,0),b),Q[0].$$parentNode=Q[0].parentNode,s=Zb(E,Q,e,p,g&&g.name,{nonTlbTranscludeDirective:I});else{var P=V();Q=H(Wb(b)).contents();if(J(y)){Q=[];var Z=V(),Y=V();q(y,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Z[a]=b;P[b]=null;Y[b]=c});q(t.contents(),
function(a){var b=Z[ya(oa(a))];b?(Y[b]=!0,P[b]=P[b]||[],P[b].push(a)):Q.push(a)});q(Y,function(a,b){if(!a)throw ga("reqslot",b);});for(var $ in P)P[$]&&(P[$]=Zb(E,P[$],e))}t.empty();s=Zb(E,Q,e,u,u,{needsNewScope:B.$$isolateScope||B.$$newScope});s.$$slots=P}if(B.template)if(x=!0,X("template",w,B,t),w=B,y=D(B.template)?B.template(t,d):B.template,y=ua(y),B.replace){g=B;Q=Ub.test(y)?Xc(ca(B.templateNamespace,W(y))):[];b=Q[0];if(1!=Q.length||1!==b.nodeType)throw ga("tplrt",L,"");da(f,t,b);N={$attr:{}};
y=A(b,[],N);var ea=a.splice(ra+1,a.length-(ra+1));(C||G)&&Yc(y,C,G);a=a.concat(y).concat(ea);U(d,N);N=a.length}else t.html(y);if(B.templateUrl)x=!0,X("template",w,B,t),w=B,B.replace&&(g=B),n=aa(a.splice(ra,a.length-ra),t,d,f,K&&s,h,k,{controllerDirectives:v,newScopeDirective:G!==B&&G,newIsolateScopeDirective:C,templateDirective:w,nonTlbTranscludeDirective:I}),N=a.length;else if(B.compile)try{xa=B.compile(t,d,s),D(xa)?m(null,xa,R,Fa):xa&&m(xa.pre,xa.post,R,Fa)}catch(fa){c(fa,wa(t))}B.terminal&&(n.terminal=
!0,p=Math.max(p,B.priority))}n.scope=G&&!0===G.scope;n.transcludeOnThisElement=K;n.templateOnThisElement=x;n.transclude=s;l.hasElementTranscludeDirective=Ca;return n}function jb(a,b,c,d){var e;if(y(b)){var f=b.match(k);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw ga("ctreq",b,a);}else if(M(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=jb(a,b[g],c,d);else J(b)&&(e=
{},q(b,function(b,f){e[f]=jb(a,b,c,d)}));return e||null}function T(a,b,c,d,e,f,g){var h=V(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"==n&&(n=b[l.name]);m=Q(n,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}function Yc(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Qb(a[d],{$$isolateScope:b,$$newScope:c})}function Fa(b,f,g,h,k,l,m){if(f===k)return null;k=null;if(e.hasOwnProperty(f)){var n;f=
a.get(f+"Directive");for(var p=0,G=f.length;p<G;p++)try{if(n=f[p],(z(h)||h>n.priority)&&-1!=n.restrict.indexOf(g)){l&&(n=Qb(n,{$$start:l,$$end:m}));if(!n.$$bindings){var v=n,C=n,w=n.name,B={isolateScope:null,bindToController:null};J(C.scope)&&(!0===C.bindToController?(B.bindToController=d(C.scope,w,!0),B.isolateScope={}):B.isolateScope=d(C.scope,w,!1));J(C.bindToController)&&(B.bindToController=d(C.bindToController,w,!0));if(J(B.bindToController)){var I=C.controller,K=C.controllerAs;if(!I)throw ga("noctrl",
w);if(!Uc(I,K))throw ga("noident",w);}var x=v.$$bindings=B;J(x.isolateScope)&&(n.$$isolateBindings=x.isolateScope)}b.push(n);k=n}}catch(t){c(t)}}return k}function R(b){if(e.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,f=c.length;d<f;d++)if(b=c[d],b.multiElement)return!0;return!1}function U(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;q(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,f){"class"==f?(B(e,b),a["class"]=(a["class"]?
a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function aa(a,b,c,d,e,f,g,h){var k=[],l,n,p=b[0],r=a.shift(),G=Qb(r,{templateUrl:null,transclude:null,replace:null,$$originalDirective:r}),v=D(r.templateUrl)?r.templateUrl(b,c):r.templateUrl,C=r.templateNamespace;b.empty();m(v).then(function(m){var w,I;m=ua(m);if(r.replace){m=Ub.test(m)?Xc(ca(C,W(m))):[];w=m[0];if(1!=m.length||1!==
w.nodeType)throw ga("tplrt",r.name,v);m={$attr:{}};da(d,b,w);var K=A(w,[],m);J(r.scope)&&Yc(K,!0);a=K.concat(a);U(c,m)}else w=p,b.html(m);a.unshift(G);l=ra(a,w,c,e,b,r,f,g,h);q(d,function(a,c){a==w&&(d[c]=b[0])});for(n=xa(b[0].childNodes,e);k.length;){m=k.shift();I=k.shift();var x=k.shift(),t=k.shift(),K=b[0];if(!m.$$destroyed){if(I!==p){var qa=I.className;h.hasElementTranscludeDirective&&r.replace||(K=Wb(w));da(x,H(I),K);B(H(K),qa)}I=l.transcludeOnThisElement?s(m,l.transclude,t):t;l(n,m,K,d,I)}}k=
null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=s(b,l.transclude,e)),l(n,b,c,d,a)))}}function Z(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function X(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ga("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,wa(d));}function Y(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;
b&&ba.$$addBindingClass(a);return function(a,c){var e=c.parent();b||ba.$$addBindingClass(e);ba.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ca(a,b){a=N(a||"html");switch(a){case "svg":case "math":var c=P.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function ea(a,b){if("srcdoc"==b)return G.HTML;var c=oa(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return G.RESOURCE_URL}
function fa(a,c,d,e,f){var g=ea(a,e);f=h[e]||f;var k=b(d,!0,g,f);if(k){if("multiple"===e&&"select"===oa(a))throw ga("selmulti",wa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,h){c=h.$$observers||(h.$$observers=V());if(l.test(e))throw ga("nodomevents");var m=h[e];m!==d&&(k=m&&b(m,!0,g,f),d=m);k&&(h[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(h.$$observers&&h.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?h.$updateClass(a,b):h.$set(e,a)}))}}}})}}function da(a,b,
c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=P.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);H.hasData(d)&&(H.data(c,H.data(d)),H(d).off("$destroy"));H.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function ia(a,b){return S(function(){return a.apply(null,arguments)},
a,b)}function ja(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,wa(d))}}function ha(a,c,d,e,f){function g(b,c,e){D(d.$onChanges)&&c!==e&&($||(a.$$postDigest(I),$=[]),l||(l={},$.push(h)),l[b]&&(e=l[b].previousValue),l[b]={previousValue:e,currentValue:c})}function h(){d.$onChanges(l);l=u}var k=[],l;q(e,function(e,h){var l=e.attrName,m=e.optional,n,r,p,G;switch(e.mode){case "@":m||va.call(c,l)||(d[h]=c[l]=void 0);c.$observe(l,function(a){y(a)&&(g(h,a,d[h]),d[h]=a)});c.$$observers[l].$$scope=a;n=c[l];y(n)?
d[h]=b(n)(a):Oa(n)&&(d[h]=n);break;case "=":if(!va.call(c,l)){if(m)break;c[l]=void 0}if(m&&!c[l])break;r=v(c[l]);G=r.literal?na:function(a,b){return a===b||a!==a&&b!==b};p=r.assign||function(){n=d[h]=r(a);throw ga("nonassign",c[l],l,f.name);};n=d[h]=r(a);m=function(b){G(b,d[h])||(G(b,n)?p(a,b=d[h]):d[h]=b);return n=b};m.$stateful=!0;m=e.collection?a.$watchCollection(c[l],m):a.$watch(v(c[l],m),null,r.literal);k.push(m);break;case "<":if(!va.call(c,l)){if(m)break;c[l]=void 0}if(m&&!c[l])break;r=v(c[l]);
d[h]=r(a);m=a.$watch(r,function(a){g(h,a,d[h]);d[h]=a},r.literal);k.push(m);break;case "&":r=c.hasOwnProperty(l)?v(c[l]):E;if(r===E&&m)break;d[h]=function(b){return r(a,b)}}});return k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}var ma=/^\w/,la=P.createElement("div"),pa=p,$;qa.prototype={$normalize:ya,$addClass:function(a){a&&0<a.length&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Zc(a,b);c&&
c.length&&C.addClass(this.$$element,c);(c=Zc(b,a))&&c.length&&C.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=Rc(this.$$element[0],a),g=$c[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=zc(a,"-"));f=oa(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=K(b,"src"===a);else if("img"===f&&"srcset"===a){for(var f="",g=W(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?
k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+K(W(g[m]),!0),f=f+(" "+W(g[m+1]));g=W(g[2*l]).split(/\s/);f+=K(W(g[0]),!0);2===g.length&&(f+=" "+W(g[1]));this[a]=b=f}!1!==d&&(null===b||z(b)?this.$$element.removeAttr(e):ma.test(e)?this.$$element.attr(e,b):Ca(this.$$element[0],e,b));(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=V()),e=d[a]||(d[a]=[]);e.push(b);t.$evalAsync(function(){e.$$inter||
!c.hasOwnProperty(a)||z(c[a])||b(c[a])});return function(){bb(e,b)}}};var sa=b.startSymbol(),ta=b.endSymbol(),ua="{{"==sa&&"}}"==ta?$a:function(a){return a.replace(/\{\{/g,sa).replace(/}}/g,ta)},za=/^ngAttr[A-Z]/,Ba=/^(.+)Start$/;ba.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];M(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:E;ba.$$addBindingClass=n?function(a){B(a,"ng-binding")}:E;ba.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",
b)}:E;ba.$$addScopeClass=n?function(a,b){B(a,b?"ng-isolate-scope":"ng-scope")}:E;ba.$$createComment=function(a,b){var c="";n&&(c=" "+(a||"")+": "+(b||"")+" ");return P.createComment(c)};return ba}]}function ya(a){return fb(a.replace(Vc,""))}function Zc(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function Xc(a){a=H(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&
Yf.call(a,b,1);return a}function Uc(a,b){if(b&&y(b))return b;if(y(a)){var d=ad.exec(a);if(d)return d[3]}}function df(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Ta(b,"controller");J(b)?S(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!J(a.$scope))throw O("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;h=!0===h;k&&y(k)&&(n=k);if(y(f)){k=f.match(ad);
if(!k)throw Zf("ctrlfmt",f);m=k[1];n=n||k[3];f=a.hasOwnProperty(m)?a[m]:Bc(g.$scope,m,!0)||(b?Bc(c,m,!0):u);Sa(f,m,!0)}if(h)return h=(M(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),S(function(){var a=d.invoke(f,l,g,m);a!==l&&(J(a)||D(a))&&(l=a,n&&e(g,n,l,m||f.name));return l},{instance:l,identifier:n});l=d.instantiate(f,g,m);n&&e(g,n,l,m||f.name);return l}}]}function ef(){this.$get=["$window",function(a){return H(a.document)}]}function ff(){this.$get=["$log",function(a){return function(b,
d){a.error.apply(a,arguments)}}]}function $b(a){return J(a)?fa(a)?a.toISOString():db(a):a}function lf(){this.$get=function(){return function(a){if(!a)return"";var b=[];pc(a,function(a,c){null===a||z(a)||(M(a)?q(a,function(a){b.push(ja(c)+"="+ja($b(a)))}):b.push(ja(c)+"="+ja($b(a))))});return b.join("&")}}}function mf(){this.$get=function(){return function(a){function b(a,e,f){null===a||z(a)||(M(a)?q(a,function(a,c){b(a,e+"["+(J(a)?c:"")+"]")}):J(a)&&!fa(a)?pc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?
"":"]"))}):d.push(ja(e)+"="+ja($b(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function ac(a,b){if(y(a)){var d=a.replace($f,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(bd))||(c=(c=d.match(ag))&&bg[c[0]].test(d));c&&(a=uc(d))}}return a}function cd(a){var b=V(),d;y(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=N(W(a.substr(0,d)));a=W(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):J(a)&&q(a,function(a,d){var f=N(d),g=W(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}
function dd(a){var b;return function(d){b||(b=cd(a));return d?(d=b[N(d)],void 0===d&&(d=null),d):b}}function ed(a,b,d,c){if(D(c))return c(a,b,d);q(c,function(c){a=c(a,b,d)});return a}function kf(){var a=this.defaults={transformResponse:[ac],transformRequest:[function(a){return J(a)&&"[object File]"!==ka.call(a)&&"[object Blob]"!==ka.call(a)&&"[object FormData]"!==ka.call(a)?db(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ia(bc),put:ia(bc),patch:ia(bc)},xsrfCookieName:"XSRF-TOKEN",
xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return A(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return A(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a){var b=S({},a);b.data=ed(a.data,a.headers,a.status,f.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}function e(a,
b){var c,d={};q(a,function(a,e){D(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}if(!J(b))throw O("$http")("badreq",b);if(!y(b.url))throw O("$http")("badreq",b.url);var f=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);f.headers=function(b){var c=a.headers,d=S({},b.headers),f,g,h,c=S({},c.common,c[N(b.method)]);a:for(f in c){g=N(f);for(h in d)if(N(h)===g)continue a;d[f]=c[f]}return e(d,ia(b))}(b);f.method=vb(f.method);
f.paramSerializer=y(f.paramSerializer)?l.get(f.paramSerializer):f.paramSerializer;var g=[function(b){var d=b.headers,e=ed(b.data,dd(d),u,b.transformRequest);z(e)&&q(d,function(a,b){"content-type"===N(b)&&delete d[b]});z(b.withCredentials)&&!z(a.withCredentials)&&(b.withCredentials=a.withCredentials);return n(b,e).then(c,c)},u],h=k.when(f);for(q(L,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError);(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){b=
g.shift();var m=g.shift(),h=h.then(b,m)}d?(h.success=function(a){Sa(a,"fn");h.then(function(b){a(b.data,b.status,b.headers,f)});return h},h.error=function(a){Sa(a,"fn");h.then(null,function(b){a(b.data,b.status,b.headers,f)});return h}):(h.success=fd("success"),h.error=fd("error"));return h}function n(c,d){function g(a,c,d,e){function f(){l(c,a,d,e)}K&&(200<=a&&300>a?K.put(L,[a,c,cd(d),e]):K.remove(L));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function l(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?G.resolve:
G.reject)({data:a,status:b,headers:dd(d),config:c,statusText:e})}function n(a){l(a.data,a.status,ia(a.headers()),a.statusText)}function t(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var G=k.defer(),C=G.promise,K,I,qa=c.headers,L=p(c.url,c.paramSerializer(c.params));m.pendingRequests.push(c);C.then(t,t);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(K=J(c.cache)?c.cache:J(a.cache)?a.cache:F);K&&(I=K.get(L),A(I)?I&&D(I.then)?I.then(n,n):M(I)?
l(I[1],I[0],ia(I[2]),I[3]):l(I,200,{},"OK"):K.put(L,C));z(I)&&((I=gd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:u)&&(qa[c.xsrfHeaderName||a.xsrfHeaderName]=I),e(c.method,L,d,g,qa,c.timeout,c.withCredentials,c.responseType));return C}function p(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);return a}var F=g("$http");a.paramSerializer=y(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var L=[];q(c,function(a){L.unshift(y(a)?l.get(a):l.invoke(a))});m.pendingRequests=[];(function(a){q(arguments,
function(a){m[a]=function(b,c){return m(S({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){q(arguments,function(a){m[a]=function(b,c,d){return m(S({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");m.defaults=a;return m}]}function of(){this.$get=function(){return function(){return new T.XMLHttpRequest}}}function nf(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,d,c){return cg(a,c,a.defer,b.angular.callbacks,d[0])}]}function cg(a,b,d,
c,e){function f(a,b,d){var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",m,!1);e.body.removeChild(f);f=null;var g=-1,F="unknown";a&&("load"!==a.type||c[b].called||(a={type:"error"}),F=a.type,g="error"===a.type?404:200);d&&d(g,F)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,k,l,m,n,p,F){function L(){w&&w();v&&v.abort()}
function x(b,c,e,f,g){A(t)&&d.cancel(t);w=v=null;b(c,e,f,g);a.$$completeOutstandingRequest(E)}a.$$incOutstandingRequestCount();h=h||a.url();if("jsonp"==N(e)){var r="_"+(c.counter++).toString(36);c[r]=function(a){c[r].data=a;c[r].called=!0};var w=f(h.replace("JSON_CALLBACK","angular.callbacks."+r),r,function(a,b){x(l,a,c[r].data,"",b);c[r]=E})}else{var v=b(e,h);v.open(e,h,!0);q(m,function(a,b){A(a)&&v.setRequestHeader(b,a)});v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,
c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==sa(h).protocol?404:0);x(l,c,b,v.getAllResponseHeaders(),a)};e=function(){x(l,-1,null,null,"")};v.onerror=e;v.onabort=e;p&&(v.withCredentials=!0);if(F)try{v.responseType=F}catch(Q){if("json"!==F)throw Q;}v.send(z(k)?null:k)}if(0<n)var t=d(L,n);else n&&D(n.then)&&n.then(L)}}function hf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler",
"$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function k(f,k,n,r){function p(a){try{var b=a;a=n?e.getTrusted(n,b):e.valueOf(b);var d;if(r&&!A(a))d=a;else if(null==a)d="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=db(a)}d=a}return d}catch(g){c(La.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var v;k||(k=g(f),v=da(k),v.exp=f,v.expressions=
[],v.$$watchDelegate=h);return v}r=!!r;var q,t,G=0,C=[],K=[];v=f.length;for(var I=[],qa=[];G<v;)if(-1!=(q=f.indexOf(a,G))&&-1!=(t=f.indexOf(b,q+l)))G!==q&&I.push(g(f.substring(G,q))),G=f.substring(q+l,t),C.push(G),K.push(d(G,p)),G=t+m,qa.push(I.length),I.push("");else{G!==v&&I.push(g(f.substring(G)));break}n&&1<I.length&&La.throwNoconcat(f);if(!k||C.length){var Ca=function(a){for(var b=0,c=C.length;b<c;b++){if(r&&z(a[b]))return;I[qa[b]]=a[b]}return I.join("")};return S(function(a){var b=0,d=C.length,
e=Array(d);try{for(;b<d;b++)e[b]=K[b](a);return Ca(e)}catch(g){c(La.interr(f,g))}},{exp:f,expressions:C,$$watchDelegate:function(a,b){var c;return a.$watchGroup(K,function(d,e){var f=Ca(d);D(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function jf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,
k,l,m){function n(){p?f.apply(null,F):f(r)}var p=4<arguments.length,F=p?Aa.call(arguments,4):[],q=b.setInterval,x=b.clearInterval,r=0,w=A(m)&&!m,v=(w?c:d).defer(),Q=v.promise;l=A(l)?l:0;Q.$$intervalId=q(function(){w?e.defer(n):a.$evalAsync(n);v.notify(r++);0<l&&r>=l&&(v.resolve(r),x(Q.$$intervalId),delete g[Q.$$intervalId]);w||a.$apply()},k);g[Q.$$intervalId]=v;return Q}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),
delete g[a.$$intervalId],!0):!1};return f}]}function cc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=rb(a[b]);return a.join("/")}function hd(a,b){var d=sa(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=Y(d.port)||dg[d.protocol]||null}function id(a,b){var d="/"!==a.charAt(0);d&&(a="/"+a);var c=sa(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=xc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path=
"/"+b.$$path)}function la(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Ka(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function kb(a){return a.replace(/(#.+)|#$/,"$1")}function dc(a,b,d){this.$$html5=!0;d=d||"";hd(a,this);this.$$parse=function(a){var d=la(b,a);if(!y(d))throw Fb("ipthprfx",a,b);id(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Sb(this.$$search),d=this.$$hash?"#"+rb(this.$$hash):"";this.$$url=cc(this.$$path)+(a?"?"+a:"")+
d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;A(f=la(a,c))?(g=f,g=A(f=la(d,f))?b+(la("/",f)||f):a+g):A(f=la(b,c))?g=b+f:b==c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function ec(a,b,d){hd(a,this);this.$$parse=function(c){var e=la(a,c)||la(b,c),f;z(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",z(e)&&(a=c,this.replace())):(f=la(d,e),z(f)&&(f=e));id(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&
(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Sb(this.$$search),e=this.$$hash?"#"+rb(this.$$hash):"";this.$$url=cc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"")};this.$$parseLinkUrl=function(b,d){return Ka(a)==Ka(b)?(this.$$parse(b),!0):!1}}function jd(a,b,d){this.$$html5=!0;ec.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==Ka(c)?
f=c:(g=la(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Sb(this.$$search),e=this.$$hash?"#"+rb(this.$$hash):"";this.$$url=cc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url}}function Gb(a){return function(){return this[a]}}function kd(a,b){return function(d){if(z(d))return this[a];this[a]=b(d);this.$$compose();return this}}function pf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return A(b)?(a=b,this):
a};this.html5Mode=function(a){return Oa(a)?(b.enabled=a,this):J(a)?(Oa(a.enabled)&&(b.enabled=a.enabled),Oa(a.requireBase)&&(b.requireBase=a.requireBase),Oa(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,
b)}var l,m;m=c.baseHref();var n=c.url(),p;if(b.enabled){if(!m&&b.requireBase)throw Fb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/");m=e.history?dc:jd}else p=Ka(n),m=ec;var F=p.substr(0,Ka(p).lastIndexOf("/")+1);l=new m(p,F,"#"+a);l.$$parseLinkUrl(n,n);l.$$state=c.state();var q=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=H(a.target);"a"!==oa(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;
var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");J(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=sa(h.animVal).href);q.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});kb(l.absUrl())!=kb(n)&&c.url(l.absUrl(),!0);var x=!0;c.onUrlChange(function(a,b){z(la(F,a))?g.location.href=a:(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=kb(a);l.$$parse(a);
l.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(x=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=kb(c.url()),b=kb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(x||m)x=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:
l.$$state),k(a,f)))});l.$$replace=!1});return l}]}function qf(){var a=!0,b=this;this.debugEnabled=function(b){return A(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||E;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];q(arguments,function(b){a.push(c(b))});
return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Wa(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ca("isecfld",b);return a}function eg(a){return a+""}function ta(a,b){if(a){if(a.constructor===a)throw ca("isecfn",b);if(a.window===a)throw ca("isecwindow",b);if(a.children&&
(a.nodeName||a.prop&&a.attr&&a.find))throw ca("isecdom",b);if(a===Object)throw ca("isecobj",b);}return a}function ld(a,b){if(a){if(a.constructor===a)throw ca("isecfn",b);if(a===fg||a===gg||a===hg)throw ca("isecff",b);}}function Hb(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw ca("isecaf",b);}function ig(a,b){return"undefined"!==typeof a?a:b}function md(a,b){return"undefined"===typeof a?b:"undefined"===
typeof b?a:a+b}function aa(a,b){var d,c;switch(a.type){case s.Program:d=!0;q(a.body,function(a){aa(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case s.Literal:a.constant=!0;a.toWatch=[];break;case s.UnaryExpression:aa(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:aa(a.left,b);aa(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:aa(a.left,
b);aa(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:aa(a.test,b);aa(a.alternate,b);aa(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=!1;a.toWatch=[a];break;case s.MemberExpression:aa(a.object,b);a.computed&&aa(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case s.CallExpression:d=
a.filter?!b(a.callee.name).$stateful:!1;c=[];q(a.arguments,function(a){aa(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case s.AssignmentExpression:aa(a.left,b);aa(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case s.ArrayExpression:d=!0;c=[];q(a.elements,function(a){aa(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case s.ObjectExpression:d=
!0;c=[];q(a.properties,function(a){aa(a.value,b);d=d&&a.value.constant;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case s.ThisExpression:a.constant=!1;a.toWatch=[];break;case s.LocalsExpression:a.constant=!1,a.toWatch=[]}}function nd(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:u}}function od(a){return a.type===s.Identifier||a.type===s.MemberExpression}function pd(a){if(1===a.body.length&&od(a.body[0].expression))return{type:s.AssignmentExpression,
left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function qd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression)}function rd(a,b){this.astBuilder=a;this.$filter=b}function sd(a,b){this.astBuilder=a;this.$filter=b}function Ib(a){return"constructor"==a}function fc(a){return D(a.valueOf)?a.valueOf():jg.call(a)}function rf(){var a=V(),b=V(),d={"true":!0,
"false":!1,"null":null,undefined:u};this.addLiteral=function(a,b){d[a]=b};this.$get=["$filter",function(c){function e(d,e,g){var p,t,G;g=g||x;switch(typeof d){case "string":G=d=d.trim();var C=g?b:a;p=C[G];if(!p){":"===d.charAt(0)&&":"===d.charAt(1)&&(t=!0,d=d.substring(2));p=g?L:F;var K=new gc(p);p=(new hc(K,c,p)).parse(d);p.constant?p.$$watchDelegate=m:t?p.$$watchDelegate=p.literal?l:k:p.inputs&&(p.$$watchDelegate=h);g&&(p=f(p));C[G]=p}return n(p,e);case "function":return n(d,e);default:return n(E,
e)}}function f(a){function b(c,d,e,f){var g=x;x=!0;try{return a(c,d,e,f)}finally{x=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=f(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=f(a.inputs[c]);b.inputs=a.inputs;return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=fc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d,e){var f=d.inputs,h;if(1===f.length){var k=g,f=f[0];return a.$watch(function(a){var b=
f(a);g(b,k)||(h=d(a,u,u,[b]),k=b&&fc(b));return h},b,c,e)}for(var l=[],m=[],n=0,p=f.length;n<p;n++)l[n]=g,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var k=f[c](a);if(b||(b=!g(k,l[c])))m[c]=k,l[c]=k&&fc(k)}b&&(h=d(a,u,u,m));return h},b,c,e)}function k(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;D(b)&&b.apply(this,arguments);A(a)&&d.$$postDigest(function(){A(f)&&e()})},c)}function l(a,b,c,d){function e(a){var b=!0;q(a,function(a){A(a)||
(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;D(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function m(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function n(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==l&&c!==k?function(c,e,f,g){f=d&&g?g[0]:a(c,e,f,g);return b(f,c,e)}:function(c,d,e,f){e=a(c,d,e,f);c=b(e,c,d);return A(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:
b.$stateful||(c.$$watchDelegate=h,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var p=Ga().noUnsafeEval,F={csp:p,expensiveChecks:!1,literals:pa(d)},L={csp:p,expensiveChecks:!0,literals:pa(d)},x=!1;e.$$runningExpensiveChecks=function(){return x};return e}]}function tf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return td(function(b){a.$evalAsync(b)},b)}]}function uf(){this.$get=["$browser","$exceptionHandler",function(a,b){return td(function(b){a.defer(b)},b)}]}function td(a,
b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=u;for(var f=0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];try{D(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=O("$q",TypeError);S(d.prototype,{then:function(a,b,c){if(z(a)&&z(b)&&
z(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&e(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}});S(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}
function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{if(J(a)||D(a))g=a&&a.then;D(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&
d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(D(a)?a(c):c)}catch(h){b(h)}}})}});var h=function(a,b){var c=new f;b?c.resolve(a):c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{D(c)&&(d=c())}catch(e){return h(e,!1)}return d&&D(d.then)?d.then(function(){return h(a,b)},function(a){return h(a,!1)}):h(a,b)},l=function(a,b,c,d){var e=new f;e.resolve(a);return e.promise.then(b,c,d)},m=function(a){if(!D(a))throw g("norslvr",a);var b=new f;a(function(a){b.resolve(a)},
function(a){b.reject(a)});return b.promise};m.prototype=d.prototype;m.defer=function(){var a=new f;a.resolve=c(a,a.resolve);a.reject=c(a,a.reject);a.notify=c(a,a.notify);return a};m.reject=function(a){var b=new f;b.reject(a);return b.promise};m.when=l;m.resolve=l;m.all=function(a){var b=new f,c=0,d=M(a)?[]:{};q(a,function(a,e){c++;l(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return m}function Df(){this.$get=
["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function sf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=
0;this.$id=++qb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=O("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===Da&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++qb;this.$$phase=
this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function n(a){if(w.$$phase)throw d("inprog",w.$$phase);w.$$phase=a}function p(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function F(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function s(){}function x(){for(;t.length;)try{t.shift()()}catch(a){f(a)}e=
null}function r(){null===e&&(e=h.defer(function(){w.$apply(x)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,
a);var h=this,k=h.$$watchers,l={fn:b,last:s,get:f,exp:e||a,eq:!!d};c=null;D(b)||(l.fn=E);k||(k=h.$$watchers=[]);k.unshift(l);p(this,1);return function(){0<=bb(k,l)&&p(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});q(a,function(a,
b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!z(e)){if(J(e))if(za(e))for(f!==n&&(f=n,v=f.length=0,l++),a=e.length,v!==a&&(l++,f.length=v=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},v=0,l++);a=0;for(b in e)va.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(v++,f[b]=g,l++));if(v>
a)for(b in l++,f)va.call(e,b)||(v--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=g(a,c),n=[],p={},r=!0,v=0;return this.$watch(m,function(){r?(r=!1,b(e,e,d)):b(e,h,d);if(k)if(J(e))if(za(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)va.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,p,r,q,t=b,F,A=[],z,y;n("$digest");h.$$checkUrlChange();this===w&&null!==e&&(h.defer.cancel(e),x());c=null;do{q=!1;
for(F=this;v.length;){try{y=v.shift(),y.scope.$eval(y.expression,y.locals)}catch(E){f(E)}c=null}a:do{if(p=F.$$watchers)for(r=p.length;r--;)try{if(a=p[r])if(m=a.get,(g=m(F))!==(k=a.last)&&!(a.eq?na(g,k):"number"===typeof g&&"number"===typeof k&&isNaN(g)&&isNaN(k)))q=!0,c=a,a.last=a.eq?pa(g,null):g,l=a.fn,l(g,k===s?g:k,F),5>t&&(z=4-t,A[z]||(A[z]=[]),A[z].push({msg:D(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}));else if(a===c){q=!1;break a}}catch(H){f(H)}if(!(p=F.$$watchersCount&&
F.$$childHead||F!==this&&F.$$nextSibling))for(;F!==this&&!(p=F.$$nextSibling);)F=F.$parent}while(F=p);if((q||v.length)&&!t--)throw w.$$phase=null,d("infdig",b,A);}while(q||v.length);for(w.$$phase=null;u.length;)try{u.shift()()}catch(J){f(J)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===w&&h.$$applicationDestroyed();p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)F(this,this.$$listenerCount[b],b);a&&a.$$childHead==
this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E;this.$on=this.$watch=this.$watchGroup=function(){return E};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){w.$$phase||
v.length||h.defer(function(){v.length&&w.$digest()});v.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){u.push(a)},$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{w.$$phase=null}}catch(b){f(b)}finally{try{w.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&t.push(b);a=g(a);r()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=
0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,F(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=cb([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);
h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=cb([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=
null;return e}};var w=new m,v=w.$$asyncQueue=[],u=w.$$postDigestQueue=[],t=w.$$applyAsyncQueue=[];return w}]}function le(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return A(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return A(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=sa(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function kg(a){if("self"===a)return a;
if(y(a)){if(-1<a.indexOf("***"))throw ua("iwcard",a);a=ud(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+a+"$")}if(Za(a))return new RegExp("^"+a.source+"$");throw ua("imatcher");}function vd(a){var b=[];A(a)&&q(a,function(a){b.push(kg(a))});return b}function wf(){this.SCE_CONTEXTS=ma;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=vd(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=vd(a));return b};this.$get=["$injector",
function(d){function c(a,b){return"self"===a?gd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw ua("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};h[ma.HTML]=e(g);h[ma.CSS]=e(g);h[ma.URL]=e(g);h[ma.JS]=e(g);h[ma.RESOURCE_URL]=
e(h[ma.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw ua("icontext",a,b);if(null===b||z(b)||""===b)return b;if("string"!==typeof b)throw ua("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||z(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===ma.RESOURCE_URL){var g=sa(e.toString()),n,p,q=!1;n=0;for(p=a.length;n<p;n++)if(c(a[n],g)){q=!0;break}if(q)for(n=0,p=b.length;n<p;n++)if(c(b[n],
g)){q=!1;break}if(q)return e;throw ua("insecurl",e.toString());}if(d===ma.HTML)return f(e);throw ua("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function vf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Da)throw ua("iequirks");var c=ia(ma);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},
c.valueOf=$a);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;q(ma,function(a,b){var d=N(b);c[fb("parse_as_"+d)]=function(b){return e(a,b)};c[fb("get_trusted_"+d)]=function(b){return f(a,b)};c[fb("trust_as_"+d)]=function(b){return g(a,b)}});return c}]}function xf(){this.$get=["$window","$document",function(a,b){var d={},c=!(a.chrome&&a.chrome.app&&a.chrome.app.runtime)&&a.history&&a.history.pushState,
e=Y((/android (\d+)/.exec(N((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h,k=/^(Moz|webkit|ms)(?=[A-Z])/,l=g.body&&g.body.style,m=!1,n=!1;if(l){for(var p in l)if(m=k.exec(p)){h=m[0];h=h.substr(0,1).toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in l&&"webkit");m=!!("transition"in l||h+"Transition"in l);n=!!("animation"in l||h+"Animation"in l);!e||m&&n||(m=y(l.webkitTransition),n=y(l.webkitAnimation))}return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===
a&&11>=Da)return!1;if(z(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ga(),vendorPrefix:h,transitions:m,animations:n,android:e}}]}function zf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++;y(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var k=d.defaults&&d.defaults.transformResponse;M(k)?k=k.filter(function(a){return a!==ac}):k===ac&&(k=null);return d.get(g,
S({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){b.put(g,a.data);return a.data},function(a){if(!h)throw lg("tpload",g,a.status,a.statusText);return c.reject(a)})}f.totalPendingRequests=0;return f}]}function Af(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];q(a,function(a){var c=ea.element(a).data("$binding");c&&q(c,function(c){d?(new RegExp("(^|\\s)"+
ud(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Bf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",
function(a,b,d,c,e){function f(f,k,l){D(f)||(l=k,k=f,f=E);var m=Aa.call(arguments,3),n=A(l)&&!l,p=(n?c:d).defer(),q=p.promise,s;s=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[q.$$timeoutId]}n||a.$apply()},k);q.$$timeoutId=s;g[s]=p;return q}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function sa(a){Da&&(Z.setAttribute("href",a),a=
Z.href);Z.setAttribute("href",a);return{href:Z.href,protocol:Z.protocol?Z.protocol.replace(/:$/,""):"",host:Z.host,search:Z.search?Z.search.replace(/^\?/,""):"",hash:Z.hash?Z.hash.replace(/^#/,""):"",hostname:Z.hostname,port:Z.port,pathname:"/"===Z.pathname.charAt(0)?Z.pathname:"/"+Z.pathname}}function gd(a){a=y(a)?sa(a):a;return a.protocol===wd.protocol&&a.host===wd.host}function Cf(){this.$get=da(T)}function xd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},
c={},e="";return function(){var a,g,h,k,l;a=d.cookie||"";if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),z(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function Gf(){this.$get=xd}function Jc(a){function b(d,c){if(J(d)){var e={};q(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",yd);b("date",zd);b("filter",mg);
b("json",ng);b("limitTo",og);b("lowercase",pg);b("number",Ad);b("orderBy",Bd);b("uppercase",qg)}function mg(){return function(a,b,d){if(!za(a)){if(null==a)return a;throw O("filter")("notarray",a);}var c;switch(ic(b)){case "function":break;case "boolean":case "null":case "number":case "string":c=!0;case "object":b=rg(b,d,c);break;default:return a}return Array.prototype.filter.call(a,b)}}function rg(a,b,d){var c=J(a)&&"$"in a;!0===b?b=na:D(b)||(b=function(a,b){if(z(a))return!1;if(null===a||null===b)return a===
b;if(J(b)||J(a)&&!rc(a))return!1;a=N(""+a);b=N(""+b);return-1!==a.indexOf(b)});return function(e){return c&&!J(e)?Ma(e,a.$,b,!1):Ma(e,a,b,d)}}function Ma(a,b,d,c,e){var f=ic(a),g=ic(b);if("string"===g&&"!"===b.charAt(0))return!Ma(a,b.substring(1),d,c);if(M(a))return a.some(function(a){return Ma(a,b,d,c)});switch(f){case "object":var h;if(c){for(h in a)if("$"!==h.charAt(0)&&Ma(a[h],b,d,!0))return!0;return e?!1:Ma(a,b,d,!1)}if("object"===g){for(h in b)if(e=b[h],!D(e)&&!z(e)&&(f="$"===h,!Ma(f?a:a[h],
e,d,f,f)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function ic(a){return null===a?"null":typeof a}function yd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){z(c)&&(c=b.CURRENCY_SYM);z(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Cd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Ad(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Cd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function sg(a){var b=0,d,c,e,f,g;-1<
(c=a.indexOf(Dd))&&(a=a.replace(Dd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)==jc;e++);if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==jc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Ed&&(d=d.splice(0,Ed-1),b=c-1,c=1);return{d:d,e:b,i:c}}function tg(a,b,d,c){var e=a.d,f=e.length-a.i;b=z(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=
Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Cd(a,b,d,c,e){if(!y(a)&&!R(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=sg(h);tg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,
b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h):(f=k,k=[0]);h=[];for(k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize).join(""));k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Jb(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=jc+a;d&&(a=a.substr(a.length-b));return e+a}function X(a,b,d,c,e){d=
d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12==d&&(f=12);return Jb(f,b,c,e)}}function lb(a,b,d){return function(c,e){var f=c["get"+a](),g=vb((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Fd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Gd(a){return function(b){var d=Fd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Jb(b,a)}}function kc(a,b){return 0>=a.getFullYear()?
b.ERAS[0]:b.ERAS[1]}function zd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Y(b[9]+b[10]),g=Y(b[9]+b[11]));h.call(a,Y(b[1]),Y(b[2])-1,Y(b[3]));f=Y(b[4]||0)-f;g=Y(b[5]||0)-g;h=Y(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=
[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;y(c)&&(c=ug.test(c)?Y(c):b(c));R(c)&&(c=new Date(c));if(!fa(c)||!isFinite(c.getTime()))return c;for(;d;)(l=vg.exec(d))?(h=cb(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=vc(f,m),c=Rb(c,f,!0));q(h,function(b){k=wg[b];g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function ng(){return function(a,b){z(b)&&(b=2);return db(a,b)}}function og(){return function(a,b,d){b=Infinity===
Math.abs(Number(b))?Number(b):Y(b);if(isNaN(b))return a;R(a)&&(a=a.toString());if(!M(a)&&!y(a))return a;d=!d||isNaN(d)?0:Y(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?a.slice(d,d+b):0===d?a.slice(b,a.length):a.slice(Math.max(0,d+b),d)}}function Bd(a){function b(b,d){d=d?-1:1;return b.map(function(b){var c=1,h=$a;if(D(b))h=b;else if(y(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(h=a(b),h.constant))var k=h(),h=function(a){return a[k]}}return{get:h,
descending:c*d}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}return function(a,e,f){if(null==a)return a;if(!za(a))throw O("orderBy")("notarray",a);M(e)||(e=[e]);0===e.length&&(e=["+"]);var g=b(e,f);g.push({get:function(){return{}},descending:f?-1:1});a=Array.prototype.map.call(a,function(a,b){return{value:a,predicateValues:g.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("string"===c)e=e.toLowerCase();else if("object"===
c)a:{if("function"===typeof e.valueOf&&(e=e.valueOf(),d(e)))break a;if(rc(e)&&(e=e.toString(),d(e)))break a;e=b}return{value:e,type:c}})}});a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],f=b.predicateValues[d],q=0;c.type===f.type?c.value!==f.value&&(q=c.value<f.value?-1:1):q=c.type<f.type?-1:1;if(c=q*g[d].descending)break}return c});return a=a.map(function(a){return a.value})}}function Na(a){D(a)&&(a={link:a});a.restrict=a.restrict||"AC";return da(a)}function Hd(a,
b,d,c,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=u;f.$name=e(b.name||b.ngForm||"")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Kb;f.$rollbackViewValue=function(){q(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){q(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Ta(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=
a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];q(f.$pending,function(b,c){f.$setValidity(c,null,a)});q(f.$error,function(b,c){f.$setValidity(c,null,a)});q(f.$$success,function(b,c){f.$setValidity(c,null,a)});bb(g,a);a.$$parentForm=Kb};Id({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(bb(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Xa);c.addClass(a,
Lb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Xa,Lb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;q(g,function(a){a.$setPristine()})};f.$setUntouched=function(){q(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,"ng-submitted");f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function lc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function mb(a,b,d,c,e,f){var g=N(b[0].type);if(!e.android){var h=
!1;b.on("compositionstart",function(){h=!0});b.on("compositionend",function(){h=!1;l()})}var k,l=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=W(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||
m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",m)}b.on("change",l);if(Jd[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Mb(a,b){return function(d,c){var e,f;if(fa(d))return d;if(y(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-
1)&&(d=d.substring(1,d.length-1));if(xg.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function nb(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&
a.getTime()!==a.getTime())}function p(a){return A(a)&&!fa(a)?d(a)||u:a}Kd(e,f,g,h);mb(e,f,g,h,k,l);var q=h&&h.$options&&h.$options.timezone,s;h.$$parserName=a;h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,s),q&&(a=Rb(a,q)),a):u});h.$formatters.push(function(a){if(a&&!fa(a))throw ob("datefmt",a);if(n(a))return(s=a)&&q&&(s=Rb(s,q,!0)),m("date")(a,c,q);s=null;return""});if(A(g.min)||g.ngMin){var x;h.$validators.min=function(a){return!n(a)||z(x)||d(a)>=x};g.$observe("min",function(a){x=
p(a);h.$validate()})}if(A(g.max)||g.ngMax){var r;h.$validators.max=function(a){return!n(a)||z(r)||d(a)<=r};g.$observe("max",function(a){r=p(a);h.$validate()})}}}function Kd(a,b,d,c){(c.$$hasNativeValidators=J(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?u:a})}function Ld(a,b,d,c,e){if(A(c)){a=a(c);if(!a.constant)throw ob("constexpr",d,c);return a(b)}return e}function mc(a,b){a="ngClass"+a;return["$animate",function(d){function c(a,b){var c=
[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return M(a)?(q(a,function(a){b=b.concat(e(a))}),b):y(a)?a.split(" "):J(a)?(q(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a,b){var c=g.data("$classCounts")||V(),d=[];q(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function l(a){if(!0===b||f.$index%
2===b){var l=e(a||[]);if(!m){var q=k(l,1);h.$addClass(q)}else if(!na(a,m)){var s=e(m),q=c(l,s),l=c(s,l),q=k(q,1),l=k(l,-1);q&&q.length&&d.addClass(g,q);l&&l.length&&d.removeClass(g,l)}}m=ia(a)}var m;f.$watch(h[a],l,!0);h.$observe("class",function(b){l(f.$eval(h[a]))});"ngClass"!==a&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var l=e(f.$eval(h[a]));g===b?(g=k(l,1),h.$addClass(g)):(g=k(l,-1),h.$removeClass(g))}})}}}]}function Id(a){function b(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&
f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+zc(a,"-"):"";b(pb+a,!0===c);b(Md+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Md]=!(f[pb]=e.hasClass(pb));c.$setValidity=function(a,e,f){z(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Nd(c.$pending)&&(c.$pending=u));Oa(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f));c.$pending?(b(Od,!0),c.$valid=c.$invalid=
u,d("",null)):(b(Od,!1),c.$valid=Nd(c.$error),c.$invalid=!c.$valid,d("",c.$valid));e=c.$pending&&c.$pending[a]?u:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,e,c)}}function Nd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var yg=/^\/(.+)\/([a-z]*)$/,va=Object.prototype.hasOwnProperty,N=function(a){return y(a)?a.toLowerCase():a},vb=function(a){return y(a)?a.toUpperCase():a},Da,H,$,Aa=[].slice,Yf=[].splice,zg=[].push,ka=Object.prototype.toString,sc=Object.getPrototypeOf,
Ba=O("ng"),ea=T.angular||(T.angular={}),Tb,qb=0;Da=P.documentMode;E.$inject=[];$a.$inject=[];var M=Array.isArray,Zd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,W=function(a){return y(a)?a.trim():a},ud=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ga=function(){if(!A(Ga.rules)){var a=P.querySelector("[ng-csp]")||P.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");
Ga.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ga;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ga.rules},sb=function(){if(A(sb.name_))return sb.name_;var a,b,d=Qa.length,c,e;for(b=0;b<d;++b)if(c=Qa[b],a=P.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return sb.name_=e},be=/:/g,Qa=["ng-","data-ng-","ng:","x-ng-"],ge=/[A-Z]/g,Ac=!1,Pa=3,ke={full:"1.5.3",
major:1,minor:5,dot:3,codeName:"diplohaplontic-meiosis"};U.expando="ng339";var hb=U.cache={},Mf=1;U._data=function(a){return this.cache[a[this.expando]]||{}};var Hf=/([\:\-\_]+(.))/g,If=/^moz([A-Z])/,zb={mouseleave:"mouseout",mouseenter:"mouseover"},Vb=O("jqLite"),Lf=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ub=/<|&#?\w+;/,Jf=/<([\w:-]+)/,Kf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ha={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,
"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ha.optgroup=ha.option;ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead;ha.th=ha.td;var Rf=Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Ra=U.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===P.readyState?setTimeout(b):(this.on("DOMContentLoaded",b),U(T).on("load",b))},toString:function(){var a=
[];q(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?H(this[a]):H(this[this.length+a])},length:0,push:zg,sort:[].sort,splice:[].splice},Eb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Eb[N(a)]=a});var Sc={};q("input select option textarea button form details".split(" "),function(a){Sc[a]=!0});var $c={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};q({data:Xb,removeData:gb,
hasData:function(a){for(var b in hb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)gb(a[b])}},function(a,b){U[b]=a});q({data:Xb,inheritedData:Db,scope:function(a){return H.data(a,"$scope")||Db(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return H.data(a,"$isolateScope")||H.data(a,"$isolateScopeNoTemplate")},controller:Pc,injector:function(a){return Db(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ab,css:function(a,
b,d){b=fb(b);if(A(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Pa&&2!==c&&8!==c)if(c=N(b),Eb[c])if(A(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||E).specified?c:u;else if(A(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?u:a},prop:function(a,b,d){if(A(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(z(d)){var c=a.nodeType;return 1===c||c===
Pa?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(z(b)){if(a.multiple&&"select"===oa(a)){var d=[];q(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(z(b))return a.innerHTML;xb(a,!0);a.innerHTML=b},empty:Qc},function(a,b){U.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Qc&&z(2==a.length&&a!==Ab&&a!==Pc?b:c)){if(J(b)){for(e=0;e<g;e++)if(a===Xb)a(this[e],b);else for(f in b)a(this[e],
f,b[f]);return this}e=a.$dv;g=z(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});q({removeData:gb,on:function(a,b,d,c){if(A(c))throw Vb("onargs");if(Kc(a)){c=yb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Of(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],zb[b]?(h(zb[b],Qf),
h(b,u,!0)):h(b)}},off:Oc,one:function(a,b,d){a=H(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;xb(a);q(new U(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];q(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new U(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},
prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new U(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Mc(a,H(b).eq(0).clone()[0])},remove:Yb,detach:function(a){Yb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new U(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:Cb,removeClass:Bb,toggleClass:function(a,b,d){b&&q(b.split(" "),function(b){var e=d;z(e)&&(e=!Ab(a,b));(e?Cb:Bb)(a,b)})},parent:function(a){return(a=a.parentNode)&&
11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Wb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=yb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},
stopPropagation:E,type:f,target:a},b.type&&(c=S(c,b)),b=ia(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){U.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)z(f)?(f=a(this[g],b,c,e),A(f)&&(f=H(f))):Nc(f,a(this[g],b,c,e));return A(f)?f:this};U.prototype.bind=U.prototype.on;U.prototype.unbind=U.prototype.off});Ua.prototype={put:function(a,b){this[Ha(a,this.nextUid)]=b},get:function(a){return this[Ha(a,this.nextUid)]},remove:function(a){var b=
this[a=Ha(a,this.nextUid)];delete this[a];return b}};var Ff=[function(){this.$get=[function(){return Ua}]}],Tf=/^([^\(]+?)=>/,Uf=/^[^\(]*\(\s*([^\)]*)\)/m,Ag=/,/,Bg=/^\s*(_?)(\S+?)\1\s*$/,Sf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ia=O("$injector");eb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw y(d)&&d||(d=a.name||Vf(a)),Ia("strictdi",d);b=Tc(a);q(b[1].split(Ag),function(a){a.replace(Bg,function(a,b,d){c.push(d)})})}a.$inject=c}}else M(a)?
(b=a.length-1,Sa(a[b],"fn"),c=a.slice(0,b)):Sa(a,"fn",!0);return c};var Pd=O("$animate"),Ye=function(){this.$get=E},Ze=function(){var a=new Ua,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=y(b)?b.split(" "):M(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=Wf(b.attr("class")),e="",f="";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});q(b,function(a){e&&Cb(a,
e);f&&Bb(a,f)});a.remove(b)}});b.length=0}return{enabled:E,on:E,off:E,pin:E,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},We=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null);this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Pd("notcsel",
d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Pd("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||
(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){f=f&&H(f);g=g&&H(g);f=f||g.parent();b(e,f,g);return a.push(e,"enter",Ja(h))},move:function(e,f,g,h){f=f&&H(f);g=g&&H(g);f=f||g.parent();b(e,f,g);return a.push(e,"move",Ja(h))},leave:function(b,c){return a.push(b,"leave",Ja(c),function(){b.remove()})},addClass:function(b,c,g){g=Ja(g);g.addClass=ib(g.addclass,c);return a.push(b,"addClass",g)},removeClass:function(b,
c,g){g=Ja(g);g.removeClass=ib(g.removeClass,c);return a.push(b,"removeClass",g)},setClass:function(b,c,g,h){h=Ja(h);h.addClass=ib(h.addClass,c);h.removeClass=ib(h.removeClass,g);return a.push(b,"setClass",h)},animate:function(b,c,g,h,k){k=Ja(k);k.from=k.from?S(k.from,c):c;k.to=k.to?S(k.to,g):g;k.tempClasses=ib(k.tempClasses,h||"ng-inline-animate");return a.push(b,"animate",k)}}}]}],af=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();
d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},$e=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===
a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:E,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&
this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},Xe=function(){this.$get=["$$rAF","$q","$$AnimateRunner",
function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=pa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},ga=O("$compile");Cc.$inject=["$provide","$$sanitizeUriProvider"];var Vc=/^((?:x|data)[\:\-_])/i,Zf=O("$controller"),
ad=/^(\S+)(\s+as\s+([\w$]+))?$/,gf=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof H&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},bd="application/json",bc={"Content-Type":bd+";charset=utf-8"},ag=/^\[|^\{(?!\{)/,bg={"[":/]$/,"{":/}$/},$f=/^\)\]\}',?\n/,Cg=O("$http"),fd=function(a){return function(){throw Cg("legacy",a);}},La=ea.$interpolateMinErr=O("$interpolate");La.throwNoconcat=function(a){throw La("noconcat",a);};La.interr=function(a,b){return La("interr",
a,b.toString())};var Dg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,dg={http:80,https:443,ftp:21},Fb=O("$location"),Eg={$$html5:!1,$$replace:!1,absUrl:Gb("$$absUrl"),url:function(a){if(z(a))return this.$$url;var b=Dg.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Gb("$$protocol"),host:Gb("$$host"),port:Gb("$$port"),path:kd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,
b){switch(arguments.length){case 0:return this.$$search;case 1:if(y(a)||R(a))a=a.toString(),this.$$search=xc(a);else if(J(a))a=pa(a,{}),q(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Fb("isrcharg");break;default:z(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:kd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};q([jd,ec,dc],function(a){a.prototype=Object.create(Eg);a.prototype.state=
function(b){if(!arguments.length)return this.$$state;if(a!==dc||!this.$$html5)throw Fb("nostate");this.$$state=z(b)?null:b;return this}});var ca=O("$parse"),fg=Function.prototype.call,gg=Function.prototype.apply,hg=Function.prototype.bind,Nb=V();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Nb[a]=!0});var Fg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},gc=function(a){this.options=a};gc.prototype={constructor:gc,lex:function(a){this.text=a;this.index=0;for(this.tokens=
[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Nb[b],e=Nb[d];Nb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=
a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===
a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=A(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw ca("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=N(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||
c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=
this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=Fg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=function(a,b){this.lexer=a;this.options=b};s.Program="Program";s.ExpressionStatement=
"ExpressionStatement";s.AssignmentExpression="AssignmentExpression";s.ConditionalExpression="ConditionalExpression";s.LogicalExpression="LogicalExpression";s.BinaryExpression="BinaryExpression";s.UnaryExpression="UnaryExpression";s.CallExpression="CallExpression";s.MemberExpression="MemberExpression";s.Identifier="Identifier";s.Literal="Literal";s.ArrayExpression="ArrayExpression";s.Property="Property";s.ObjectExpression="ObjectExpression";s.ThisExpression="ThisExpression";s.LocalsExpression="LocalsExpression";
s.NGValueParameter="NGValueParameter";s.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=
this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:s.AssignmentExpression,left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a=
{type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,
operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:
this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=pa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:s.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",
this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());
return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.expression());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");
return{type:s.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:s.Property,kind:"init"};this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");b.value=this.expression();a.push(b)}while(this.expect(","))}this.consume("}");return{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw ca("syntax",b.text,a,b.index+1,this.text,
this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw ca("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw ca("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},
expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:s.ThisExpression},$locals:{type:s.LocalsExpression}}};rd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};aa(c,d.$filter);var e="",f;this.stage="assign";if(f=pd(c))this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+
this.generateFunction("assign","s,v,l");f=nd(c.body);d.stage="inputs";q(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(c);e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;";e=(new Function("$filter","ensureSafeMemberName","ensureSafeObject",
"ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e))(this.$filter,Wa,ta,ld,eg,Hb,ig,md,a);this.state=this.stage=u;e.literal=qd(c);e.constant=c.constant;return e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+
"};"},filterPrefix:function(){var a=[],b=this;q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,k=this,l,m;c=c||E;if(!f&&A(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,
c,e,!0));else switch(a.type){case s.Program:q(a.body,function(b,c){k.recurse(b.expression,u,u,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:m=this.escape(a.value);this.assign(b,m);c(m);break;case s.UnaryExpression:this.recurse(a.argument,u,u,function(a){h=a});m=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,m);c(m);break;case s.BinaryExpression:this.recurse(a.left,u,u,function(a){g=a});this.recurse(a.right,u,u,function(a){h=a});m="+"===
a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,m);c(m);break;case s.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));c(b);break;case s.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);break;case s.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?
"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);Wa(a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name)));(k.state.expensiveChecks||Ib(a.name))&&k.addEnsureSafeObject(b);c(b);
break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,u,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h);else{Wa(a.property.name);e&&
1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}"));m=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Ib(a.property.name))m=k.ensureSafeObject(m);k.assign(b,m);d&&(d.computed=!1,d.name=a.property.name)}},function(){k.assign(b,"undefined")});c(b)},!!e);break;case s.CallExpression:b=b||this.nextId();a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+"("+
l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);q(a.arguments,function(a){k.recurse(a,k.nextId(),u,function(a){l.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=h+"("+l.join(",")+")";m=k.ensureSafeObject(m);k.assign(b,m)},function(){k.assign(b,"undefined")});c(b)}));break;case s.AssignmentExpression:h=
this.nextId();g={};if(!od(a.left))throw ca("lval");this.recurse(a.left,u,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);m=k.member(g.context,g.name,g.computed)+a.operator+h;k.assign(b,m);c(b||m)})},1);break;case s.ArrayExpression:l=[];q(a.elements,function(a){k.recurse(a,k.nextId(),u,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(m);break;case s.ObjectExpression:l=
[];q(a.properties,function(a){k.recurse(a.value,k.nextId(),u,function(b){l.push(k.escape(a.key.type===s.Identifier?a.key.name:""+a.key.value)+":"+b)})});m="{"+l.join(",")+"}";this.assign(b,m);c(m);break;case s.ThisExpression:this.assign(b,"s");c("s");break;case s.LocalsExpression:this.assign(b,"l");c("l");break;case s.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+
a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");
d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),
";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=
this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(y(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(R(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw ca("esc");},nextId:function(a,
b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};sd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;aa(c,d.$filter);var e,f;if(e=pd(c))f=this.recurse(e);e=nd(c.body);var g;e&&(g=[],q(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];q(c.body,function(a){h.push(d.recurse(a.expression))});e=0===c.body.length?E:1===
c.body.length?h[0]:function(a,b){var c;q(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=qd(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),
this["binary"+a.operator](c,e,b);case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return Wa(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Ib(a.name),b,d,f.expression);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Wa(a.property.name,f.expression),
e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case s.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));a=e.apply(u,n,f);return b?{context:u,name:u,value:a}:a}:function(a,c,d,m){var n=
e(a,c,d,m),p;if(null!=n.value){ta(n.context,f.expression);ld(n.value,f.expression);p=[];for(var q=0;q<g.length;++q)p.push(ta(g[q](a,c,d,m),f.expression));p=ta(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case s.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,d,g,m);a=e(a,d,g,m);ta(n.value,f.expression);Hb(n.context);n.context[n.name]=a;return b?{value:a}:a};case s.ArrayExpression:return g=[],q(a.elements,function(a){g.push(f.recurse(a))}),
function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],q(a.properties,function(a){g.push({key:a.key.type===s.Identifier?a.key.name:""+a.key.value,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.LocalsExpression:return function(a,c){return b?{value:c}:c};case s.NGValueParameter:return function(a,
c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=A(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=A(d)?-d:0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=md(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);
h=(A(h)?h:0)-(A(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,
e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,
g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:u,
name:u,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:u;b&&ta(g,e);return d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var l=a(f,g,h,k),m,n;null!=l&&(m=b(f,g,h,k),m+="",Wa(m,e),c&&1!==c&&(Hb(l),l&&!l[m]&&(l[m]={})),n=l[m],ta(n,e));return d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){g=a(g,h,k,l);e&&1!==e&&(Hb(g),g&&!g[b]&&
(g[b]={}));h=null!=g?g[b]:u;(d||Ib(b))&&ta(h,f);return c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var hc=function(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new s(a,d);this.astCompiler=d.csp?new sd(this.ast,b):new rd(this.ast,b)};hc.prototype={constructor:hc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var jg=Object.prototype.valueOf,ua=O("$sce"),ma={HTML:"html",CSS:"css",URL:"url",
RESOURCE_URL:"resourceUrl",JS:"js"},lg=O("$compile"),Z=P.createElement("a"),wd=sa(T.location.href);xd.$inject=["$document"];Jc.$inject=["$provide"];var Ed=22,Dd=".",jc="0";yd.$inject=["$locale"];Ad.$inject=["$locale"];var wg={yyyy:X("FullYear",4,0,!1,!0),yy:X("FullYear",2,0,!0,!0),y:X("FullYear",1,0,!1,!0),MMMM:lb("Month"),MMM:lb("Month",!0),MM:X("Month",2,1),M:X("Month",1,1),LLLL:lb("Month",!1,!0),dd:X("Date",2),d:X("Date",1),HH:X("Hours",2),H:X("Hours",1),hh:X("Hours",2,-12),h:X("Hours",1,-12),
mm:X("Minutes",2),m:X("Minutes",1),ss:X("Seconds",2),s:X("Seconds",1),sss:X("Milliseconds",3),EEEE:lb("Day"),EEE:lb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Jb(Math[0<a?"floor":"ceil"](a/60),2)+Jb(Math.abs(a%60),2))},ww:Gd(2),w:Gd(1),G:kc,GG:kc,GGG:kc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},vg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
ug=/^\-?\d+$/;zd.$inject=["$locale"];var pg=da(N),qg=da(vb);Bd.$inject=["$parse"];var me=da({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ka.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),wb={};q(Eb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=ya("ng-"+b),e=d;"checked"===a&&(e=function(a,
b,e){e.ngModel!==e[c]&&d(a,b,e)});wb[c]=function(){return{restrict:"A",priority:100,link:e}}}});q($c,function(a,b){wb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(yg))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});q(["src","srcset","href"],function(a){var b=ya("ng-"+a);wb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===
ka.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),Da&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Kb={$addControl:E,$$renameControl:function(a,b){a.$name=b},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E};Hd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Qd=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||E}return{name:"form",
restrict:a?"EAC":"E",require:["form","^^?form"],controller:Hd,compile:function(d,f){d.addClass(Xa).addClass(pb);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",p,!1);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):E;g&&
(q(a,n),e.$observe(g,function(b){n.$name!==b&&(q(a,u),n.$$parentForm.$$renameControl(n,b),q=c(n.$name),q(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);q(a,u);S(n,Kb)})}}}}}]},ne=Qd(),Ae=Qd(!0),xg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Gg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Hg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
Ig=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Rd=/^(\d{4,})-(\d{2})-(\d{2})$/,Sd=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,nc=/^(\d{4,})-W(\d\d)$/,Td=/^(\d{4,})-(\d\d)$/,Ud=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Jd=V();q(["date","datetime-local","month","time","week"],function(a){Jd[a]=!0});var Vd={text:function(a,b,d,c,e,f){mb(a,b,d,c,e,f);lc(c)},date:nb("date",Rd,Mb(Rd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":nb("datetimelocal",Sd,Mb(Sd,"yyyy MM dd HH mm ss sss".split(" ")),
"yyyy-MM-ddTHH:mm:ss.sss"),time:nb("time",Ud,Mb(Ud,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:nb("week",nc,function(a,b){if(fa(a))return a;if(y(a)){nc.lastIndex=0;var d=nc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Fd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:nb("month",Td,Mb(Td,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Kd(a,b,d,c);mb(a,b,d,c,e,f);c.$$parserName=
"number";c.$parsers.push(function(a){return c.$isEmpty(a)?null:Ig.test(a)?parseFloat(a):u});c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!R(a))throw ob("numfmt",a);a=a.toString()}return a});if(A(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||z(g)||a>=g};d.$observe("min",function(a){A(a)&&!R(a)&&(a=parseFloat(a,10));g=R(a)&&!isNaN(a)?a:u;c.$validate()})}if(A(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||z(h)||a<=h};d.$observe("max",function(a){A(a)&&
!R(a)&&(a=parseFloat(a,10));h=R(a)&&!isNaN(a)?a:u;c.$validate()})}},url:function(a,b,d,c,e,f){mb(a,b,d,c,e,f);lc(c);c.$$parserName="url";c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||Gg.test(d)}},email:function(a,b,d,c,e,f){mb(a,b,d,c,e,f);lc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Hg.test(d)}},radio:function(a,b,d,c){z(d.name)&&b.attr("name",++qb);b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=
function(){b[0].checked=d.value==c.$viewValue};d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Ld(h,a,"ngTrueValue",d.ngTrueValue,!0),l=Ld(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return na(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:E,button:E,submit:E,reset:E,file:E},Dc=["$browser",
"$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Vd[N(g.type)]||Vd.text)(e,f,g,h[0],b,a,d,c)}}}}],Jg=/^(true|false|\d+)$/,Se=function(){return{restrict:"A",priority:100,compile:function(a,b){return Jg.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},se=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);
return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=z(a)?"":a})}}}}],ue=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=z(a)?"":a})}}}}],te=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=
b(e.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){c.html(a.getTrustedHtml(f(b))||"")})}}}}],Re=da({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),ve=mc("",!0),xe=mc("Odd",0),we=mc("Even",1),ye=Na({compile:function(a,b){b.$set("ngCloak",u);a.removeClass("ng-cloak")}}),ze=[function(){return{restrict:"A",scope:!0,controller:"@",
priority:500}}],Ic={},Kg={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=ya("ng-"+a);Ic[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Kg[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ce=["$animate","$compile",function(a,
b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f;d[d.length++]=b.$$createComment("end ngIf",e.ngIf);h={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=ub(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],De=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,
transclude:"element",controller:ea.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var q=0,s,x,r,w=function(){x&&(x.remove(),x=null);s&&(s.$destroy(),s=null);r&&(d.leave(r).then(function(){x=null}),x=r,r=null)};c.$watch(f,function(f){var m=function(){!A(h)||h&&!c.$eval(h)||b()},t=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&t===q){var b=c.$new();n.template=a;a=p(b,function(a){w();d.enter(a,null,e).then(m)});s=b;r=a;s.$emit("$includeContentLoaded",
f);c.$eval(g)}},function(){c.$$destroyed||t!==q||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),n.template=null)})}}}}],Ue=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ka.call(d[0]).match(/SVG/)?(d.empty(),a(Lc(e.template,P).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ee=Na({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),
Qe=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?W(e):e;c.$parsers.push(function(a){if(!z(a)){var b=[];a&&q(a.split(g),function(a){a&&b.push(f?W(a):a)});return b}});c.$formatters.push(function(a){return M(a)?a.join(e):u});c.$isEmpty=function(a){return!a||!a.length}}}},pb="ng-valid",Md="ng-invalid",Xa="ng-pristine",Lb="ng-dirty",Od="ng-pending",ob=O("ngModel"),Lg=["$scope","$exceptionHandler","$attrs",
"$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=u;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=u;this.$name=l(d.name||"",!1)(a);this.$$parentForm=Kb;var m=e(d.ngModel),
n=m.assign,p=m,s=n,y=null,x,r=this;this.$$setOptions=function(a){if((r.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");p=function(a){var c=m(a);D(c)&&(c=b(a));return c};s=function(a,b){D(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw ob("nonassign",d.ngModel,wa(c));};this.$render=E;this.$isEmpty=function(a){return z(a)||""===a||null===a||a!==a};this.$$updateEmptyClasses=function(a){r.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,
"ng-empty"),f.addClass(c,"ng-not-empty"))};var w=0;Id({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){r.$dirty=!1;r.$pristine=!0;f.removeClass(c,Lb);f.addClass(c,Xa)};this.$setDirty=function(){r.$dirty=!0;r.$pristine=!1;f.removeClass(c,Xa);f.addClass(c,Lb);r.$$parentForm.$setDirty()};this.$setUntouched=function(){r.$touched=!1;r.$untouched=!0;f.setClass(c,"ng-untouched","ng-touched")};this.$setTouched=function(){r.$touched=
!0;r.$untouched=!1;f.setClass(c,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){g.cancel(y);r.$viewValue=r.$$lastCommittedViewValue;r.$render()};this.$validate=function(){if(!R(r.$modelValue)||!isNaN(r.$modelValue)){var a=r.$$rawModelValue,b=r.$valid,c=r.$modelValue,d=r.$options&&r.$options.allowInvalid;r.$$runValidators(a,r.$$lastCommittedViewValue,function(e){d||b===e||(r.$modelValue=e?a:u,r.$modelValue!==c&&r.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=
!0;q(r.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(q(r.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;q(r.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!D(h.then))throw ob("nopromise",h);f(g,u);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},E):g(!0)}function f(a,b){h===w&&r.$setValidity(a,b)}function g(a){h===w&&c(a)}w++;var h=w;(function(){var a=r.$$parserName||"parse";if(z(x))f(a,null);
else return x||(q(r.$validators,function(a,b){f(b,null)}),q(r.$asyncValidators,function(a,b){f(b,null)})),f(a,x),x;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=r.$viewValue;g.cancel(y);if(r.$$lastCommittedViewValue!==a||""===a&&r.$$hasNativeValidators)r.$$updateEmptyClasses(a),r.$$lastCommittedViewValue=a,r.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=r.$$lastCommittedViewValue;if(x=z(b)?u:!0)for(var c=0;c<r.$parsers.length;c++)if(b=
r.$parsers[c](b),z(b)){x=!1;break}R(r.$modelValue)&&isNaN(r.$modelValue)&&(r.$modelValue=p(a));var d=r.$modelValue,e=r.$options&&r.$options.allowInvalid;r.$$rawModelValue=b;e&&(r.$modelValue=b,r.$modelValue!==d&&r.$$writeModelToScope());r.$$runValidators(b,r.$$lastCommittedViewValue,function(a){e||(r.$modelValue=a?b:u,r.$modelValue!==d&&r.$$writeModelToScope())})};this.$$writeModelToScope=function(){s(a,r.$modelValue);q(r.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=
function(a,b){r.$viewValue=a;r.$options&&!r.$options.updateOnDefault||r.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=r.$options;d&&A(d.debounce)&&(d=d.debounce,R(d)?c=d:R(d[b])?c=d[b]:R(d["default"])&&(c=d["default"]));g.cancel(y);c?y=g(function(){r.$commitViewValue()},c):h.$$phase?r.$commitViewValue():a.$apply(function(){r.$commitViewValue()})};a.$watch(function(){var b=p(a);if(b!==r.$modelValue&&(r.$modelValue===r.$modelValue||b===b)){r.$modelValue=r.$$rawModelValue=
b;x=u;for(var c=r.$formatters,d=c.length,e=b;d--;)e=c[d](e);r.$viewValue!==e&&(r.$$updateEmptyClasses(e),r.$viewValue=r.$$lastCommittedViewValue=e,r.$render(),r.$$runValidators(b,e,E))}return b})}],Pe=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Lg,priority:1,compile:function(b){b.addClass(Xa).addClass("ng-untouched").addClass(pb);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);
e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];if(g.$options&&g.$options.updateOn)c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Mg=/(\s+|^)default(\s+|$)/,Te=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,
b){var d=this;this.$options=pa(a.$eval(b.ngModelOptions));A(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=W(this.$options.updateOn.replace(Mg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},Fe=Na({terminal:!0,priority:1E3}),Ng=O("ngOptions"),Og=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
Ne=["$compile","$parse",function(a,b){function d(a,c,d){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function l(a){var b;if(!p&&za(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var m=a.match(Og);if(!m)throw Ng("iexp",a,wa(c));var n=m[5]||m[7],p=m[6];a=/ as /.test(m[0])&&m[1];var q=m[9];c=b(m[2]?m[1]:n);var s=a&&b(a)||c,x=q&&b(q),r=q?function(a,b){return x(d,b)}:function(a){return Ha(a)},w=function(a,
b){return r(a,y(a,b))},v=b(m[2]||m[1]),u=b(m[3]||""),t=b(m[4]||""),G=b(m[8]),C={},y=p?function(a,b){C[p]=b;C[n]=a;return C}:function(a){C[n]=a;return C};return{trackBy:q,getTrackByValue:w,getWatchables:b(G,function(a){var b=[];a=a||[];for(var c=l(a),e=c.length,f=0;f<e;f++){var g=a===c?f:c[f],k=a[g],g=y(k,g),k=r(k,g);b.push(k);if(m[2]||m[1])k=v(d,g),b.push(k);m[4]&&(g=t(d,g),b.push(g))}return b}),getOptions:function(){for(var a=[],b={},c=G(d)||[],f=l(c),g=f.length,m=0;m<g;m++){var n=c===f?m:f[m],p=
y(c[n],n),x=s(d,p),n=r(x,p),C=v(d,p),A=u(d,p),p=t(d,p),x=new e(n,x,C,A,p);a.push(x);b[n]=x}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[w(a)]},getViewValueFromOption:function(a){return q?ea.copy(a.viewValue):a.viewValue}}}}}var c=P.createElement("option"),e=P.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=E},post:function(b,g,h,k){function l(a,b){a.element=b;b.disabled=a.disabled;
a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function m(a,b,c,d){b&&N(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,b):a.appendChild(c));return c}function n(a){for(var b;a;)b=a.nextSibling,Yb(a),a=b}function p(a){var b=w&&w[0],c=G&&G[0];if(b||c)for(;a&&(a===b||a===c||8===a.nodeType||"option"===oa(a)&&""===a.value);)a=a.nextSibling;return a}function s(){var a=C&&u.readValue();C=z.getOptions();var b={},d=g[0].firstChild;t&&g.prepend(w);
d=p(d);C.items.forEach(function(a){var f,h;A(a.group)?(f=b[a.group],f||(f=m(g[0],d,"optgroup",e),d=f.nextSibling,f.label=a.group,f=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),h=m(f.groupElement,f.currentOptionElement,"option",c),l(a,h),f.currentOptionElement=h.nextSibling):(h=m(g[0],d,"option",c),l(a,h),d=h.nextSibling)});Object.keys(b).forEach(function(a){n(b[a].currentOptionElement)});n(d);x.$render();if(!x.$isEmpty(a)){var f=u.readValue();(z.trackBy||r?na(a,f):a===f)||(x.$setViewValue(f),
x.$render())}}var u=k[0],x=k[1],r=h.multiple,w;k=0;for(var v=g.children(),y=v.length;k<y;k++)if(""===v[k].value){w=v.eq(k);break}var t=!!w,G=H(c.cloneNode(!1));G.val("?");var C,z=d(h.ngOptions,g,b);r?(x.$isEmpty=function(a){return!a||0===a.length},u.writeValue=function(a){C.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){(a=C.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},u.readValue=function(){var a=g.val()||[],b=[];q(a,function(a){(a=C.selectValueMap[a])&&
!a.disabled&&b.push(C.getViewValueFromOption(a))});return b},z.trackBy&&b.$watchCollection(function(){if(M(x.$viewValue))return x.$viewValue.map(function(a){return z.getTrackByValue(a)})},function(){x.$render()})):(u.writeValue=function(a){var b=C.getOptionFromViewValue(a);b&&!b.disabled?(g[0].value!==b.selectValue&&(G.remove(),t||w.remove(),g[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||t?(G.remove(),t||g.prepend(w),g.val(""),w.prop("selected",
!0),w.attr("selected",!0)):(t||w.remove(),g.prepend(G),g.val("?"),G.prop("selected",!0),G.attr("selected",!0))},u.readValue=function(){var a=C.selectValueMap[g.val()];return a&&!a.disabled?(t||w.remove(),G.remove(),C.getViewValueFromOption(a)):null},z.trackBy&&b.$watch(function(){return z.getTrackByValue(x.$viewValue)},function(){x.$render()}));t?(w.remove(),a(w)(b),w.removeClass("ng-scope")):w=H(c.cloneNode(!1));s();b.$watchCollection(z.getWatchables,s)}}}}],Ge=["$locale","$interpolate","$log",function(a,
b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},s={},u=b.startSymbol(),x=b.endSymbol(),r=u+l+"-"+n+x,w=ea.noop,v;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+N(c[2]),p[c]=g.attr(h.$attr[b]))});q(p,function(a,d){s[d]=b(a.replace(c,r))});f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in p||(c=a.pluralCat(c-n));c===v||e&&R(v)&&isNaN(v)||(w(),e=s[c],z(e)?
(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),w=E,k()):w=f.$watch(e,k),v=c)})}}}],He=["$parse","$animate","$compile",function(a,b,d){var c=O("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===n-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
if(!l)throw c("iexp",h);var m=l[1],n=l[2],p=l[3],s=l[4],l=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var y=l[3]||l[1],x=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var r,w,v,z,t={$id:Ha};s?r=a(s):(v=function(a,b){return Ha(b)},z=function(a){return a});return function(a,d,f,g,l){r&&(w=function(b,c,d){x&&(t[x]=b);t[y]=c;t.$index=
d;return r(a,t)});var m=V();a.$watchCollection(n,function(f){var g,n,r=d[0],s,t=V(),A,E,H,D,I,F,J;p&&(a[p]=f);if(za(f))I=f,n=w||v;else for(J in n=w||z,I=[],f)va.call(f,J)&&"$"!==J.charAt(0)&&I.push(J);A=I.length;J=Array(A);for(g=0;g<A;g++)if(E=f===I?g:I[g],H=f[E],D=n(E,H,g),m[D])F=m[D],delete m[D],t[D]=F,J[g]=F;else{if(t[D])throw q(J,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,D,H);J[g]={id:D,scope:u,clone:u};t[D]=!0}for(s in m){F=m[s];D=ub(F.clone);b.leave(D);if(D[0].parentNode)for(g=0,n=D.length;g<
n;g++)D[g].$$NG_REMOVED=!0;F.scope.$destroy()}for(g=0;g<A;g++)if(E=f===I?g:I[g],H=f[E],F=J[g],F.scope){s=r;do s=s.nextSibling;while(s&&s.$$NG_REMOVED);F.clone[0]!=s&&b.move(ub(F.clone),null,r);r=F.clone[F.clone.length-1];e(F.scope,g,y,H,x,E,A)}else l(function(a,c){F.scope=c;var d=k.cloneNode(!1);a[a.length++]=d;b.enter(a,null,r);r=d;F.clone=a;t[F.id]=F;e(F.scope,g,y,H,x,E,A)});m=t})}}}}],Ie=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?
"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Be=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Je=Na(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),Ke=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],
link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=k.length;d<e;++d)a.cancel(k[d]);d=k.length=0;for(e=l.length;d<e;++d){var s=ub(h[d].clone);l[d].$destroy();(k[d]=a.leave(s)).then(m(k,d))}h.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");h.push({clone:d});a.enter(d,f.parent(),
f)})})})}}}],Le=Na({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[];c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Me=Na({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Pg=O("ngTransclude"),Oe=Na({restrict:"EAC",link:function(a,b,d,c,e){d.ngTransclude===
d.$attr.ngTransclude&&(d.ngTransclude="");if(!e)throw Pg("orphan",wa(b));e(function(a){a.length&&(b.empty(),b.append(a))},null,d.ngTransclude||d.ngTranscludeSlot)}}),oe=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Qg={$setViewValue:E,$render:E},Rg=["$element","$scope",function(a,b){var d=this,c=new Ua;d.ngModelCtrl=Qg;d.unknownOption=H(P.createElement("option"));d.renderUnknownOption=function(b){b="? "+Ha(b)+
" ?";d.unknownOption.val(b);a.prepend(d.unknownOption);a.val(b)};b.$on("$destroy",function(){d.renderUnknownOption=E});d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()};d.readValue=function(){d.removeUnknownOption();return a.val()};d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),""===b&&d.emptyOption.prop("selected",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val("")):d.renderUnknownOption(b)};d.addOption=function(a,b){if(8!==
b[0].nodeType){Ta(a,'"option value"');""===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1);d.ngModelCtrl.$render();b[0].hasAttribute("selected")&&(b[0].selected=!0)}};d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),""===a&&(d.emptyOption=u)):c.put(a,b-1))};d.hasOption=function(a){return!!c.get(a)};d.registerOption=function(a,b,c,h,k){if(h){var l;c.$observe("value",function(a){A(l)&&d.removeOption(l);l=a;d.addOption(a,b)})}else k?a.$watch(k,function(a,e){c.$set("value",a);e!==
a&&d.removeOption(e);d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value);d.ngModelCtrl.$render()})}}],pe=function(){return{restrict:"E",require:["select","?ngModel"],controller:Rg,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(d.multiple){f.readValue=function(){var a=[];q(b.find("option"),function(b){b.selected&&a.push(b.value)});return a};
f.writeValue=function(a){var c=new Ua(a);q(b.find("option"),function(a){a.selected=A(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||na(g,e.$viewValue)||(g=ia(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},re=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(A(d.value))var c=a(d.value,!0);else{var e=
a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],qe=da({restrict:"E",terminal:!1}),Fc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Ec=function(){return{restrict:"A",require:"?ngModel",link:function(a,
b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){y(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw O("ngPattern")("noregexp",f,a,wa(b));e=a||u;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||z(e)||e.test(b)}}}}},Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=Y(a);e=isNaN(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||
b.length<=e}}}}},Gc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=Y(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};T.angular.bootstrap?T.console&&console.log("WARNING: Tried to load angular more than once."):(he(),je(ea),ea.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM",
"PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,
6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,
c){var e=a|0,f=c;u===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),H(P).ready(function(){de(P,yc)}))})(window,document);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=angular.min.js.map

/*
 AngularJS v1.5.3
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(E,w,Va){'use strict';function ya(a,b,c){if(!a)throw Ka("areq",b||"?",c||"required");return a}function za(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;ba(a)&&(a=a.join(" "));ba(b)&&(b=b.join(" "));return a+" "+b}function La(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function V(a,b,c){var d="";a=ba(a)?a:a&&I(a)&&a.length?a.split(/\s+/):[];q(a,function(a,f){a&&0<a.length&&(d+=0<f?" ":"",d+=c?b+a:a+b)});return d}function Ma(a){if(a instanceof H)switch(a.length){case 0:return[];
case 1:if(1===a[0].nodeType)return a;break;default:return H(ga(a))}if(1===a.nodeType)return H(a)}function ga(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1==c.nodeType)return c}}function Na(a,b,c){q(b,function(b){a.addClass(b,c)})}function Oa(a,b,c){q(b,function(b){a.removeClass(b,c)})}function Q(a){return function(b,c){c.addClass&&(Na(a,b,c.addClass),c.addClass=null);c.removeClass&&(Oa(a,b,c.removeClass),c.removeClass=null)}}function oa(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
O;a.domOperation=function(){a.$$domOperationFired=!0;b();b=O};a.$$prepared=!0}return a}function ha(a,b){Aa(a,b);Ba(a,b)}function Aa(a,b){b.from&&(a.css(b.from),b.from=null)}function Ba(a,b){b.to&&(a.css(b.to),b.to=null)}function T(a,b,c){var d=b.options||{};c=c.options||{};var e=(d.addClass||"")+" "+(c.addClass||""),f=(d.removeClass||"")+" "+(c.removeClass||"");a=Pa(a.attr("class"),e,f);c.preparationClasses&&(d.preparationClasses=W(c.preparationClasses,d.preparationClasses),delete c.preparationClasses);
e=d.domOperation!==O?d.domOperation:null;Ca(d,c);e&&(d.domOperation=e);d.addClass=a.addClass?a.addClass:null;d.removeClass=a.removeClass?a.removeClass:null;b.addClass=d.addClass;b.removeClass=d.removeClass;return d}function Pa(a,b,c){function d(a){I(a)&&(a=a.split(" "));var b={};q(a,function(a){a.length&&(b[a]=!0)});return b}var e={};a=d(a);b=d(b);q(b,function(a,b){e[b]=1});c=d(c);q(c,function(a,b){e[b]=1===e[b]?null:-1});var f={addClass:"",removeClass:""};q(e,function(b,c){var d,e;1===b?(d="addClass",
e=!a[c]):-1===b&&(d="removeClass",e=a[c]);e&&(f[d].length&&(f[d]+=" "),f[d]+=c)});return f}function A(a){return a instanceof w.element?a[0]:a}function Qa(a,b,c){var d="";b&&(d=V(b,"ng-",!0));c.addClass&&(d=W(d,V(c.addClass,"-add")));c.removeClass&&(d=W(d,V(c.removeClass,"-remove")));d.length&&(c.preparationClasses=d,a.addClass(d))}function pa(a,b){var c=b?"-"+b+"s":"";la(a,[ma,c]);return[ma,c]}function ra(a,b){var c=b?"paused":"",d=X+"PlayState";la(a,[d,c]);return[d,c]}function la(a,b){a.style[b[0]]=
b[1]}function W(a,b){return a?b?a+" "+b:a:b}function Da(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};q(c,function(a,b){var c=e[a];if(c){var F=c.charAt(0);if("-"===F||"+"===F||0<=F)c=Ra(c);0===c&&(c=null);d[b]=c}});return d}function Ra(a){var b=0;a=a.split(/\s*,\s*/);q(a,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=parseFloat(a)||0;b=b?Math.max(a,b):a});return b}function sa(a){return 0===a||null!=a}function Ea(a,b){var c=R,d=a+"s";b?c+="Duration":d+=" linear all";
return[c,d]}function Fa(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ga(a,b,c){q(c,function(c){a[c]=Y(a[c])?a[c]:b.style.getPropertyValue(c)})}var O=w.noop,Ha=w.copy,Ca=w.extend,H=w.element,q=w.forEach,ba=w.isArray,I=w.isString,ca=w.isObject,N=w.isUndefined,Y=w.isDefined,Ia=w.isFunction,ta=w.isElement,R,ua,X,va;N(E.ontransitionend)&&
Y(E.onwebkittransitionend)?(R="WebkitTransition",ua="webkitTransitionEnd transitionend"):(R="transition",ua="transitionend");N(E.onanimationend)&&Y(E.onwebkitanimationend)?(X="WebkitAnimation",va="webkitAnimationEnd animationend"):(X="animation",va="animationend");var qa=X+"Delay",wa=X+"Duration",ma=R+"Delay";E=R+"Duration";var Ka=w.$$minErr("ng"),Sa={transitionDuration:E,transitionDelay:ma,transitionProperty:R+"Property",animationDuration:wa,animationDelay:qa,animationIterationCount:X+"IterationCount"},
Ta={transitionDuration:E,transitionDelay:ma,animationDuration:wa,animationDelay:qa};w.module("ngAnimate",[]).directive("ngAnimateSwap",["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,d,e,f,r){var x,F;b.$watchCollection(e.ngAnimateSwap||e["for"],function(e){x&&a.leave(x);F&&(F.$destroy(),F=null);if(e||0===e)F=b.$new(),r(F,function(b){x=b;a.enter(b,null,d)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,
c,d){function e(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var f=d.ngAnimateChildren;w.isString(f)&&0===f.length?c.data("$$ngAnimateChildren",!0):(e(a(f)(b)),d.$observe("ngAnimateChildren",e))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a);c()}function c(){if(d.length){for(var b=d.shift(),r=0;r<b.length;r++)b[r]();e||a(function(){e||c()})}}var d,e;d=b.queue=[];b.waitUntilQuiet=function(b){e&&e();e=a(function(){e=null;b();c()})};return b}]).provider("$$animateQueue",
["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);q(a,function(a){b[a]=!0});return b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c,d){return f[a].some(function(a){return a(b,c,d)})}function e(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||"").length;return b?c&&d:c||d}var f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(a,b,c){return!b.structural&&e(b)});f.skip.push(function(a,
b,c){return!b.structural&&!e(b)});f.skip.push(function(a,b,c){return"leave"==c.event&&b.structural});f.skip.push(function(a,b,c){return c.structural&&2===c.state&&!b.structural});f.cancel.push(function(a,b,c){return c.structural&&b.structural});f.cancel.push(function(a,b,c){return 2===c.state&&b.structural});f.cancel.push(function(a,b,d){if(d.structural)return!1;a=b.addClass;b=b.removeClass;var e=d.addClass;d=d.removeClass;return N(a)&&N(b)||N(e)&&N(d)?!1:c(a,d)||c(b,e)});this.$get=["$$rAF","$rootScope",
"$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,f,u,l,w,s,M,v,h){function P(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0;b()})}}function y(a,b,c){var g=A(b),d=A(a),k=[];(a=G[c])&&q(a,function(a){t.call(a.node,g)?k.push(a.callback):"leave"===c&&t.call(a.node,d)&&k.push(a.callback)});return k}function k(a,g,k){function m(c,g,d,k){F(function(){var c=y(J,a,g);c.length&&b(function(){q(c,function(b){b(a,
d,k)})})});c.progress(g,d,k)}function G(b){var c=a,g=h;g.preparationClasses&&(c.removeClass(g.preparationClasses),g.preparationClasses=null);g.activeClasses&&(c.removeClass(g.activeClasses),g.activeClasses=null);Ja(a,h);ha(a,h);h.domOperation();f.complete(!b)}var h=Ha(k),t,J;if(a=Ma(a))t=A(a),J=a.parent();var h=oa(h),f=new s,F=P();ba(h.addClass)&&(h.addClass=h.addClass.join(" "));h.addClass&&!I(h.addClass)&&(h.addClass=null);ba(h.removeClass)&&(h.removeClass=h.removeClass.join(" "));h.removeClass&&
!I(h.removeClass)&&(h.removeClass=null);h.from&&!ca(h.from)&&(h.from=null);h.to&&!ca(h.to)&&(h.to=null);if(!t)return G(),f;k=[t.className,h.addClass,h.removeClass].join(" ");if(!Ua(k))return G(),f;var v=0<=["enter","move","leave"].indexOf(g),l=!K||u[0].hidden||C.get(t);k=!l&&z.get(t)||{};var Z=!!k.state;l||Z&&1==k.state||(l=!n(a,J,g));if(l)return G(),f;v&&xa(a);l={structural:v,element:a,event:g,addClass:h.addClass,removeClass:h.removeClass,close:G,options:h,runner:f};if(Z){if(d("skip",a,l,k)){if(2===
k.state)return G(),f;T(a,k,l);return k.runner}if(d("cancel",a,l,k))if(2===k.state)k.runner.end();else if(k.structural)k.close();else return T(a,k,l),k.runner;else if(d("join",a,l,k))if(2===k.state)T(a,l,{});else return Qa(a,v?g:null,h),g=l.event=k.event,h=T(a,k,l),k.runner}else T(a,l,{});(Z=l.structural)||(Z="animate"===l.event&&0<Object.keys(l.options.to||{}).length||e(l));if(!Z)return G(),ka(a),f;var M=(k.counter||0)+1;l.counter=M;D(a,1,l);c.$$postDigest(function(){var b=z.get(t),c=!b,b=b||{},d=
0<(a.parent()||[]).length&&("animate"===b.event||b.structural||e(b));if(c||b.counter!==M||!d){c&&(Ja(a,h),ha(a,h));if(c||v&&b.event!==g)h.domOperation(),f.end();d||ka(a)}else g=!b.structural&&e(b,!0)?"setClass":b.event,D(a,2),b=w(a,g,b.options),b.done(function(b){G(!b);(b=z.get(t))&&b.counter===M&&ka(A(a));m(f,g,"close",{})}),f.setHost(b),m(f,g,"start",{})});return f}function xa(a){a=A(a).querySelectorAll("[data-ng-animate]");q(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate")),c=z.get(a);
if(c)switch(b){case 2:c.runner.end();case 1:z.remove(a)}})}function ka(a){a=A(a);a.removeAttribute("data-ng-animate");z.remove(a)}function J(a,b){return A(a)===A(b)}function n(a,b,c){c=H(u[0].body);var g=J(a,c)||"HTML"===a[0].nodeName,d=J(a,f),k=!1,h,m=C.get(A(a));(a=H.data(a[0],"$ngAnimatePin"))&&(b=a);for(b=A(b);b;){d||(d=J(b,f));if(1!==b.nodeType)break;a=z.get(b)||{};if(!k){var e=C.get(b);if(!0===e&&!1!==m){m=!0;break}else!1===e&&(m=!1);k=a.structural}if(N(h)||!0===h)a=H.data(b,"$$ngAnimateChildren"),
Y(a)&&(h=a);if(k&&!1===h)break;g||(g=J(b,c));if(g&&d)break;if(!d&&(a=H.data(b,"$ngAnimatePin"))){b=A(a);continue}b=b.parentNode}return(!k||h)&&!0!==m&&d&&g}function D(a,b,c){c=c||{};c.state=b;a=A(a);a.setAttribute("data-ng-animate",b);c=(b=z.get(a))?Ca(b,c):c;z.put(a,c)}var z=new l,C=new l,K=null,g=c.$watch(function(){return 0===M.totalPendingRequests},function(a){a&&(g(),c.$$postDigest(function(){c.$$postDigest(function(){null===K&&(K=!0)})}))}),G={},m=a.classNameFilter(),Ua=m?function(a){return m.test(a)}:
function(){return!0},Ja=Q(v),t=Node.prototype.contains||function(a){return this===a||!!(this.compareDocumentPosition(a)&16)},Z={on:function(a,b,c){var g=ga(b);G[a]=G[a]||[];G[a].push({node:g,callback:c});H(b).on("$destroy",function(){Z.off(a,b,c)})},off:function(a,b,c){function g(a,b,c){var d=ga(b);return a.filter(function(a){return!(a.node===d&&(!c||a.callback===c))})}var d=G[a];d&&(G[a]=1===arguments.length?null:g(d,b,c))},pin:function(a,b){ya(ta(a),"element","not an element");ya(ta(b),"parentElement",
"not an element");a.data("$ngAnimatePin",b)},push:function(a,b,c,g){c=c||{};c.domOperation=g;return k(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!K;else if(ta(a)){var g=A(a),d=C.get(g);1===c?b=!d:C.put(g,!b)}else b=K=!!a;return b}};return Z}]}]).provider("$$animation",["$animateProvider",function(a){function b(a){return a.data("$$animationRunner")}var c=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,e,
f,r,x,F){function u(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,h=d.parentNode;e.put(d,a);for(var f;h;){if(f=e.get(h)){f.processed||(f=b(f));break}h=h.parentNode}(f||c).children.push(a);return a}var c={children:[]},d,e=new x;for(d=0;d<a.length;d++){var f=a[d];e.put(f.domNode,a[d]={domNode:f.domNode,fn:f.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var b=[],c=[],d;for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var h=0,e=[];for(d=0;d<
c.length;d++){var f=c[d];0>=a&&(a=h,h=0,b.push(e),e=[]);e.push(f.fn);f.children.forEach(function(a){h++;c.push(a)});a--}e.length&&b.push(e);return b}(c)}var l=[],w=Q(a);return function(s,x,v){function h(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");var b=[];q(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)});return b}function P(a){var b=[],c={};q(a,function(a,g){var d=A(a.element),k=0<=["enter","move"].indexOf(a.event),d=a.structural?
h(d):[];if(d.length){var e=k?"to":"from";q(d,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{};c[b][e]={animationID:g,element:H(a)}})}else b.push(a)});var d={},k={};q(c,function(c,h){var e=c.from,f=c.to;if(e&&f){var m=a[e.animationID],C=a[f.animationID],n=e.animationID.toString();if(!k[n]){var D=k[n]={structural:!0,beforeStart:function(){m.beforeStart();C.beforeStart()},close:function(){m.close();C.close()},classes:y(m.classes,C.classes),from:m,to:C,anchors:[]};D.classes.length?b.push(D):
(b.push(m),b.push(C))}k[n].anchors.push({out:e.element,"in":f.element})}else e=e?e.animationID:f.animationID,f=e.toString(),d[f]||(d[f]=!0,b.push(a[e]))});return b}function y(a,b){a=a.split(" ");b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var k=a[d];if("ng-"!==k.substring(0,3))for(var e=0;e<b.length;e++)if(k===b[e]){c.push(k);break}}return c.join(" ")}function k(a){for(var b=c.length-1;0<=b;b--){var d=c[b];if(f.has(d)&&(d=f.get(d)(a)))return d}}function xa(a,c){a.from&&a.to?(b(a.from.element).setHost(c),
b(a.to.element).setHost(c)):b(a.element).setHost(c)}function ka(){var a=b(s);!a||"leave"===x&&v.$$domOperationFired||a.end()}function J(b){s.off("$destroy",ka);s.removeData("$$animationRunner");w(s,v);ha(s,v);v.domOperation();C&&a.removeClass(s,C);s.removeClass("ng-animate");D.complete(!b)}v=oa(v);var n=0<=["enter","move","leave"].indexOf(x),D=new r({end:function(){J()},cancel:function(){J(!0)}});if(!c.length)return J(),D;s.data("$$animationRunner",D);var z=za(s.attr("class"),za(v.addClass,v.removeClass)),
C=v.tempClasses;C&&(z+=" "+C,v.tempClasses=null);var K;n&&(K="ng-"+x+"-prepare",a.addClass(s,K));l.push({element:s,classes:z,event:x,structural:n,options:v,beforeStart:function(){s.addClass("ng-animate");C&&a.addClass(s,C);K&&(a.removeClass(s,K),K=null)},close:J});s.on("$destroy",ka);if(1<l.length)return D;e.$$postDigest(function(){var a=[];q(l,function(c){b(c.element)?a.push(c):c.close()});l.length=0;var c=P(a),d=[];q(c,function(a){d.push({domNode:A(a.from?a.from.element:a.element),fn:function(){a.beforeStart();
var c,d=a.close;if(b(a.anchors?a.from.element||a.to.element:a.element)){var g=k(a);g&&(c=g.start)}c?(c=c(),c.done(function(a){d(!a)}),xa(a,c)):d()}})});F(u(d))});return D}}]}]).provider("$animateCss",["$animateProvider",function(a){var b=Fa(),c=Fa();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,e,f,r,x,F,u,l){function w(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++P))+"-"+a.getAttribute("class")+
"-"+b}function s(k,h,f,l){var n;0<b.count(f)&&(n=c.get(f),n||(h=V(h,"-stagger"),e.addClass(k,h),n=Da(a,k,l),n.animationDuration=Math.max(n.animationDuration,0),n.transitionDuration=Math.max(n.transitionDuration,0),e.removeClass(k,h),c.put(f,n)));return n||{}}function M(a){y.push(a);u.waitUntilQuiet(function(){b.flush();c.flush();for(var a=x(),d=0;d<y.length;d++)y[d](a);y.length=0})}function v(c,h,e){h=b.get(e);h||(h=Da(a,c,Sa),"infinite"===h.animationIterationCount&&(h.animationIterationCount=1));
b.put(e,h);c=h;e=c.animationDelay;h=c.transitionDelay;c.maxDelay=e&&h?Math.max(e,h):e||h;c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration);return c}var h=Q(e),P=0,y=[];return function(a,c){function d(){n()}function u(){n(!0)}function n(b){if(!(P||H&&da)){P=!0;da=!1;g.$$skipPreparationClasses||e.removeClass(a,fa);e.removeClass(a,ga);ra(m,!1);pa(m,!1);q(y,function(a){m.style[a[0]]=""});h(a,g);ha(a,g);Object.keys(G).length&&q(G,function(a,b){a?m.style.setProperty(b,
a):m.style.removeProperty(b)});if(g.onDone)g.onDone();ea&&ea.length&&a.off(ea.join(" "),C);var c=a.data("$$animateCss");c&&(r.cancel(c[0].timer),a.removeData("$$animateCss"));E&&E.complete(!b)}}function D(a){p.blockTransition&&pa(m,a);p.blockKeyframeAnimation&&ra(m,!!a)}function z(){E=new f({end:d,cancel:u});M(O);n();return{$$willAnimate:!1,start:function(){return E},end:d}}function C(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));
Math.max(a-W,0)>=Q&&b>=L&&(H=!0,n())}function K(){function b(){if(!P){D(!1);q(y,function(a){m.style[a[0]]=a[1]});h(a,g);e.addClass(a,ga);if(p.recalculateTimingStyles){na=m.className+" "+fa;ia=w(m,na);B=v(m,na,ia);$=B.maxDelay;I=Math.max($,0);L=B.maxDuration;if(0===L){n();return}p.hasTransitions=0<B.transitionDuration;p.hasAnimations=0<B.animationDuration}p.applyAnimationDelay&&($="boolean"!==typeof g.delay&&sa(g.delay)?parseFloat(g.delay):$,I=Math.max($,0),B.animationDelay=$,aa=[qa,$+"s"],y.push(aa),
m.style[aa[0]]=aa[1]);Q=1E3*I;T=1E3*L;if(g.easing){var d,f=g.easing;p.hasTransitions&&(d=R+"TimingFunction",y.push([d,f]),m.style[d]=f);p.hasAnimations&&(d=X+"TimingFunction",y.push([d,f]),m.style[d]=f)}B.transitionDuration&&ea.push(ua);B.animationDuration&&ea.push(va);W=Date.now();var l=Q+1.5*T;d=W+l;var f=a.data("$$animateCss")||[],K=!0;if(f.length){var z=f[0];(K=d>z.expectedEndTime)?r.cancel(z.timer):f.push(n)}K&&(l=r(c,l,!1),f[0]={timer:l,expectedEndTime:d},f.push(n),a.data("$$animateCss",f));
if(ea.length)a.on(ea.join(" "),C);g.to&&(g.cleanupStyles&&Ga(G,m,Object.keys(g.to)),Ba(a,g))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!P)if(m.parentNode){var d=function(a){if(H)da&&a&&(da=!1,n());else if(da=!a,B.animationDuration)if(a=ra(m,da),da)y.push(a);else{var b=y,c=b.indexOf(a);0<=a&&b.splice(c,1)}},f=0<ca&&(B.transitionDuration&&0===U.transitionDuration||B.animationDuration&&0===U.animationDuration)&&Math.max(U.animationDelay,
U.transitionDelay);f?r(b,Math.floor(f*ca*1E3),!1):b();N.resume=function(){d(!0)};N.pause=function(){d(!1)}}else n()}var g=c||{};g.$$prepared||(g=oa(Ha(g)));var G={},m=A(a);if(!m||!m.parentNode||!l.enabled())return z();var y=[],x=a.attr("class"),t=La(g),P,da,H,E,N,I,Q,L,T,W,ea=[];if(0===g.duration||!F.animations&&!F.transitions)return z();var ja=g.event&&ba(g.event)?g.event.join(" "):g.event,Y="",S="";ja&&g.structural?Y=V(ja,"ng-",!0):ja&&(Y=ja);g.addClass&&(S+=V(g.addClass,"-add"));g.removeClass&&
(S.length&&(S+=" "),S+=V(g.removeClass,"-remove"));g.applyClassesEarly&&S.length&&h(a,g);var fa=[Y,S].join(" ").trim(),na=x+" "+fa,ga=V(fa,"-active"),x=t.to&&0<Object.keys(t.to).length;if(!(0<(g.keyframeStyle||"").length||x||fa))return z();var ia,U;0<g.stagger?(t=parseFloat(g.stagger),U={transitionDelay:t,animationDelay:t,transitionDuration:0,animationDuration:0}):(ia=w(m,na),U=s(m,fa,ia,Ta));g.$$skipPreparationClasses||e.addClass(a,fa);g.transitionStyle&&(t=[R,g.transitionStyle],la(m,t),y.push(t));
0<=g.duration&&(t=0<m.style[R].length,t=Ea(g.duration,t),la(m,t),y.push(t));g.keyframeStyle&&(t=[X,g.keyframeStyle],la(m,t),y.push(t));var ca=U?0<=g.staggerIndex?g.staggerIndex:b.count(ia):0;(ja=0===ca)&&!g.skipBlocking&&pa(m,9999);var B=v(m,na,ia),$=B.maxDelay;I=Math.max($,0);L=B.maxDuration;var p={};p.hasTransitions=0<B.transitionDuration;p.hasAnimations=0<B.animationDuration;p.hasTransitionAll=p.hasTransitions&&"all"==B.transitionProperty;p.applyTransitionDuration=x&&(p.hasTransitions&&!p.hasTransitionAll||
p.hasAnimations&&!p.hasTransitions);p.applyAnimationDuration=g.duration&&p.hasAnimations;p.applyTransitionDelay=sa(g.delay)&&(p.applyTransitionDuration||p.hasTransitions);p.applyAnimationDelay=sa(g.delay)&&p.hasAnimations;p.recalculateTimingStyles=0<S.length;if(p.applyTransitionDuration||p.applyAnimationDuration)L=g.duration?parseFloat(g.duration):L,p.applyTransitionDuration&&(p.hasTransitions=!0,B.transitionDuration=L,t=0<m.style[R+"Property"].length,y.push(Ea(L,t))),p.applyAnimationDuration&&(p.hasAnimations=
!0,B.animationDuration=L,y.push([wa,L+"s"]));if(0===L&&!p.recalculateTimingStyles)return z();if(null!=g.delay){var aa;"boolean"!==typeof g.delay&&(aa=parseFloat(g.delay),I=Math.max(aa,0));p.applyTransitionDelay&&y.push([ma,aa+"s"]);p.applyAnimationDelay&&y.push([qa,aa+"s"])}null==g.duration&&0<B.transitionDuration&&(p.recalculateTimingStyles=p.recalculateTimingStyles||ja);Q=1E3*I;T=1E3*L;g.skipBlocking||(p.blockTransition=0<B.transitionDuration,p.blockKeyframeAnimation=0<B.animationDuration&&0<U.animationDelay&&
0===U.animationDuration);g.from&&(g.cleanupStyles&&Ga(G,m,Object.keys(g.from)),Aa(a,g));p.blockTransition||p.blockKeyframeAnimation?D(L):g.skipBlocking||pa(m,!1);return{$$willAnimate:!0,end:d,start:function(){if(!P)return N={end:d,cancel:u,resume:null,pause:null},E=new f(N),M(K),E}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,
c,d,e,f,r,x){function F(a){return a.replace(/\bng-\S+\b/g,"")}function u(a,b){I(a)&&(a=a.split(" "));I(b)&&(b=b.split(" "));return a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function l(c,e,f){function k(a){var b={},c=A(a).getBoundingClientRect();q(["width","height","top","left"],function(a){var d=c[a];switch(a){case "top":d+=M.scrollTop;break;case "left":d+=M.scrollLeft}b[a]=Math.floor(d)+"px"});return b}function l(){var c=F(f.attr("class")||""),d=u(c,n),c=u(n,c),d=a(r,{to:k(f),addClass:"ng-anchor-in "+
d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function x(){r.remove();e.removeClass("ng-animate-shim");f.removeClass("ng-animate-shim")}var r=H(A(e).cloneNode(!0)),n=F(r.attr("class")||"");e.addClass("ng-animate-shim");f.addClass("ng-animate-shim");r.addClass("ng-anchor");v.append(r);var D;c=function(){var c=a(r,{addClass:"ng-anchor-out",delay:!0,from:k(e)});return c.$$willAnimate?c:null}();if(!c&&(D=l(),!D))return x();var z=c||D;return{start:function(){function a(){c&&
c.end()}var b,c=z.start();c.done(function(){c=null;if(!D&&(D=l()))return c=D.start(),c.done(function(){c=null;x();b.complete()}),c;x();b.complete()});return b=new d({end:a,cancel:a})}}}function w(a,b,c,e){var f=s(a,O),r=s(b,O),x=[];q(e,function(a){(a=l(c,a.out,a["in"]))&&x.push(a)});if(f||r||0!==x.length)return{start:function(){function a(){q(b,function(a){a.end()})}var b=[];f&&b.push(f.start());r&&b.push(r.start());q(x,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});d.all(b,function(a){c.complete(a)});
return c}}}function s(c){var d=c.element,e=c.options||{};c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=!0,"leave"===c.event&&(e.onDone=e.domOperation));e.preparationClasses&&(e.event=W(e.event,e.preparationClasses));c=a(d,e);return c.$$willAnimate?c:null}if(!f.animations&&!f.transitions)return O;var M=x[0].body;c=A(e);var v=H(c.parentNode&&11===c.parentNode.nodeType||M.contains(c)?c:M);Q(r);return function(a){return a.from&&a.to?w(a.from,a.to,a.classes,a.anchors):s(a)}}]}]).provider("$$animateJs",
["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=ba(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var l=c[f],q=a.$$registeredAnimations[l];q&&!e[l]&&(d.push(b.get(q)),e[l]=!0)}return d}var f=Q(d);return function(a,b,d,u){function l(){u.domOperation();f(a,u)}function w(a,b,d,e,g){switch(d){case "animate":b=[b,e.from,e.to,g];break;case "setClass":b=[b,h,H,g];break;case "addClass":b=[b,h,g];break;case "removeClass":b=[b,H,g];
break;default:b=[b,g]}b.push(e);if(a=a.apply(a,b))if(Ia(a.start)&&(a=a.start()),a instanceof c)a.done(g);else if(Ia(a))return a;return O}function s(a,b,d,e,g){var f=[];q(e,function(e){var h=e[g];h&&f.push(function(){var e,g,f=!1,k=function(a){f||(f=!0,(g||O)(a),e.complete(!a))};e=new c({end:function(){k()},cancel:function(){k(!0)}});g=w(h,a,b,d,function(a){k(!1===a)});return e})});return f}function A(a,b,d,e,g){var f=s(a,b,d,e,g);if(0===f.length){var h,k;"beforeSetClass"===g?(h=s(a,"removeClass",
d,e,"beforeRemoveClass"),k=s(a,"addClass",d,e,"beforeAddClass")):"setClass"===g&&(h=s(a,"removeClass",d,e,"removeClass"),k=s(a,"addClass",d,e,"addClass"));h&&(f=f.concat(h));k&&(f=f.concat(k))}if(0!==f.length)return function(a){var b=[];f.length&&q(f,function(a){b.push(a())});b.length?c.all(b,a):a();return function(a){q(b,function(b){a?b.cancel():b.end()})}}}var v=!1;3===arguments.length&&ca(d)&&(u=d,d=null);u=oa(u);d||(d=a.attr("class")||"",u.addClass&&(d+=" "+u.addClass),u.removeClass&&(d+=" "+
u.removeClass));var h=u.addClass,H=u.removeClass,y=e(d),k,E;if(y.length){var I,J;"leave"==b?(J="leave",I="afterLeave"):(J="before"+b.charAt(0).toUpperCase()+b.substr(1),I=b);"enter"!==b&&"move"!==b&&(k=A(a,b,u,y,J));E=A(a,b,u,y,I)}if(k||E){var n;return{$$willAnimate:!0,end:function(){n?n.end():(v=!0,l(),ha(a,u),n=new c,n.complete(!0));return n},start:function(){function b(c){v=!0;l();ha(a,u);n.complete(c)}if(n)return n;n=new c;var d,e=[];k&&e.push(function(a){d=k(a)});e.length?e.push(function(a){l();
a(!0)}):l();E&&e.push(function(a){d=E(a)});n.setHost({end:function(){v||((d||O)(void 0),b(void 0))},cancel:function(){v||((d||O)(!0),b(!0))}});c.chain(e,b);return n}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(a.from&&a.to){var b=d(a.from),r=d(a.to);if(b||r)return{start:function(){function a(){return function(){q(d,
function(a){a.end()})}}var d=[];b&&d.push(b.start());r&&d.push(r.start());c.all(d,function(a){e.complete(a)});var e=new c({end:a(),cancel:a()});return e}}}else return d(a)}}]}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map

angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(a){return a}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(a,b,c,d,e,f){function g(){f.$broadcast("gettextLanguageChanged")}var h,i="$$noContext",j='<span id="test" title="test" class="tested">test</span>',k=angular.element("<span>"+j+"</span>").html()!==j,l=function(a){return h.debug&&h.currentLanguage!==h.baseLanguage?h.debugPrefix+a:a},m=function(a){return h.showTranslatedMarkers?h.translatedMarkerPrefix+a+h.translatedMarkerSuffix:a};return h={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:d("strings"),setCurrentLanguage:function(a){this.currentLanguage=a,g()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(a,b){this.strings[a]||(this.strings[a]={});for(var c in b){var d=b[c];if(k&&(c=angular.element("<span>"+c+"</span>").html()),angular.isString(d)||angular.isArray(d)){var e={};e[i]=d,d=e}for(var f in d){var h=d[f];d[f]=angular.isArray(h)?h:[h]}this.strings[a][c]=d}g()},getStringFormFor:function(b,c,d,e){if(!b)return null;var f=this.strings[b]||{},g=f[c]||{},h=g[e||i]||[];return h[a(b,d)]},getString:function(a,c,d){var f=b(this.currentLanguage);return a=this.getStringFormFor(this.currentLanguage,a,1,d)||this.getStringFormFor(f,a,1,d)||l(a),a=c?e(a)(c):a,m(a)},getPlural:function(a,c,d,f,g){var h=b(this.currentLanguage);return c=this.getStringFormFor(this.currentLanguage,c,a,g)||this.getStringFormFor(h,c,a,g)||l(1===a?c:d),f&&(f.$count=a,c=e(c)(f)),m(c)},loadRemote:function(a){return c({method:"GET",url:a,cache:h.cache}).then(function(a){var b=a.data;for(var c in b)h.setStrings(c,b[c]);return a})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(a,b,c,d,e){function f(a,b,c){if(!a)throw new Error("You should add a "+b+" attribute whenever you add a "+c+" attribute.")}var g=function(){return String.prototype.trim?function(a){return"string"==typeof a?a.trim():a}:function(a){return"string"==typeof a?a.replace(/^\s*/,"").replace(/\s*$/,""):a}}(),h=parseInt((/msie (\d+)/.exec(angular.lowercase(e.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(e,i){f(!i.translatePlural||i.translateN,"translate-n","translate-plural"),f(!i.translateN||i.translatePlural,"translate-plural","translate-n");var j=g(e.html()),k=i.translatePlural,l=i.translateContext;return 8>=h&&"<!--IE fix-->"===j.slice(-13)&&(j=j.slice(0,-13)),{post:function(e,f,h){function i(){var b;k?(e=n||(n=e.$new()),e.$count=m(e),b=a.getPlural(e.$count,j,k,null,l)):b=a.getString(j,null,l);var h=f.contents();if(0!==h.length){if(b===g(h.html()))return void(o&&d(h)(e));var i=angular.element("<span>"+b+"</span>");d(i.contents())(e);var p=i.contents();c.enter(p,f),c.leave(h)}}var m=b(h.translateN),n=null,o=!0;h.translateN&&e.$watch(h.translateN,i),e.$on("gettextLanguageChanged",i),i(),o=!1}}}}}]),angular.module("gettext").factory("gettextFallbackLanguage",function(){var a={},b=/([^_]+)_[^_]+$/;return function(c){if(a[c])return a[c];var d=b.exec(c);return d?(a[c]=d[1],d[1]):null}}),angular.module("gettext").filter("translate",["gettextCatalog",function(a){function b(b,c){return a.getString(b,null,c)}return b.$stateful=!0,b}]),angular.module("gettext").factory("gettextPlurals",function(){return function(a,b){switch(a){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return b%10!=1||b%100==11?1:0;case"jv":return 0!=b?1:0;case"mk":return 1==b||b%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return b>1?1:0;case"lv":return b%10==1&&b%100!=11?0:0!=b?1:2;case"lt":return b%10==1&&b%100!=11?0:b%10>=2&&(10>b%100||b%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return b%10==1&&b%100!=11?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"mnk":return 0==b?0:1==b?1:2;case"ro":return 1==b?0:0==b||b%100>0&&20>b%100?1:2;case"pl":return 1==b?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"cs":case"sk":return 1==b?0:b>=2&&4>=b?1:2;case"sl":return b%100==1?1:b%100==2?2:b%100==3||b%100==4?3:0;case"mt":return 1==b?0:0==b||b%100>1&&11>b%100?1:b%100>10&&20>b%100?2:3;case"gd":return 1==b||11==b?0:2==b||12==b?1:b>2&&20>b?2:3;case"cy":return 1==b?0:2==b?1:8!=b&&11!=b?2:3;case"kw":return 1==b?0:2==b?1:3==b?2:3;case"ga":return 1==b?0:2==b?1:7>b?2:11>b?3:4;case"ar":return 0==b?0:1==b?1:2==b?2:b%100>=3&&10>=b%100?3:b%100>=11?4:5;default:return 1!=b?1:0}}});

/*
 AngularJS v1.5.3
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(x,n,y){'use strict';function s(f,k){var e=!1,a=!1;this.ngClickOverrideEnabled=function(b){return n.isDefined(b)?(b&&!a&&(a=!0,t.$$moduleName="ngTouch",k.directive("ngClick",t),f.decorator("ngClickDirective",["$delegate",function(a){if(e)a.shift();else for(var b=a.length-1;0<=b;){if("ngTouch"===a[b].$$moduleName){a.splice(b,1);break}b--}return a}])),e=b,this):e};this.$get=function(){return{ngClickOverrideEnabled:function(){return e}}}}function v(f,k,e){p.directive(f,["$parse","$swipe",function(a,
b){return function(l,u,g){function h(c){if(!d)return!1;var a=Math.abs(c.y-d.y);c=(c.x-d.x)*k;return r&&75>a&&0<c&&30<c&&.3>a/c}var m=a(g[f]),d,r,c=["touch"];n.isDefined(g.ngSwipeDisableMouse)||c.push("mouse");b.bind(u,{start:function(c,a){d=c;r=!0},cancel:function(c){r=!1},end:function(c,d){h(c)&&l.$apply(function(){u.triggerHandler(e);m(l,{$event:d})})}},c)}}])}var p=n.module("ngTouch",[]);p.provider("$touch",s);s.$inject=["$provide","$compileProvider"];p.factory("$swipe",[function(){function f(a){a=
a.originalEvent||a;var b=a.touches&&a.touches.length?a.touches:[a];a=a.changedTouches&&a.changedTouches[0]||b[0];return{x:a.clientX,y:a.clientY}}function k(a,b){var l=[];n.forEach(a,function(a){(a=e[a][b])&&l.push(a)});return l.join(" ")}var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(a,b,l){var e,g,h,m,d=!1;l=l||["mouse","touch"];a.on(k(l,"start"),function(c){h=f(c);d=!0;g=e=0;m=
h;b.start&&b.start(h,c)});var r=k(l,"cancel");if(r)a.on(r,function(c){d=!1;b.cancel&&b.cancel(c)});a.on(k(l,"move"),function(c){if(d&&h){var a=f(c);e+=Math.abs(a.x-m.x);g+=Math.abs(a.y-m.y);m=a;10>e&&10>g||(g>e?(d=!1,b.cancel&&b.cancel(c)):(c.preventDefault(),b.move&&b.move(a,c)))}});a.on(k(l,"end"),function(c){d&&(d=!1,b.end&&b.end(f(c),c))})}}}]);var t=["$parse","$timeout","$rootElement",function(f,k,e){function a(a,d,b){for(var c=0;c<a.length;c+=2){var g=a[c+1],e=b;if(25>Math.abs(a[c]-d)&&25>Math.abs(g-
e))return a.splice(c,c+2),!0}return!1}function b(b){if(!(2500<Date.now()-u)){var d=b.touches&&b.touches.length?b.touches:[b],e=d[0].clientX,d=d[0].clientY;if(!(1>e&&1>d||h&&h[0]===e&&h[1]===d)){h&&(h=null);var c=b.target;"label"===n.lowercase(c.nodeName||c[0]&&c[0].nodeName)&&(h=[e,d]);a(g,e,d)||(b.stopPropagation(),b.preventDefault(),b.target&&b.target.blur&&b.target.blur())}}}function l(a){a=a.touches&&a.touches.length?a.touches:[a];var b=a[0].clientX,e=a[0].clientY;g.push(b,e);k(function(){for(var a=
0;a<g.length;a+=2)if(g[a]==b&&g[a+1]==e){g.splice(a,a+2);break}},2500,!1)}var u,g,h;return function(h,d,k){var c=f(k.ngClick),w=!1,q,p,s,t;d.on("touchstart",function(a){w=!0;q=a.target?a.target:a.srcElement;3==q.nodeType&&(q=q.parentNode);d.addClass("ng-click-active");p=Date.now();a=a.originalEvent||a;a=(a.touches&&a.touches.length?a.touches:[a])[0];s=a.clientX;t=a.clientY});d.on("touchcancel",function(a){w=!1;d.removeClass("ng-click-active")});d.on("touchend",function(c){var h=Date.now()-p,f=c.originalEvent||
c,m=(f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f])[0],f=m.clientX,m=m.clientY,v=Math.sqrt(Math.pow(f-s,2)+Math.pow(m-t,2));w&&750>h&&12>v&&(g||(e[0].addEventListener("click",b,!0),e[0].addEventListener("touchstart",l,!0),g=[]),u=Date.now(),a(g,f,m),q&&q.blur(),n.isDefined(k.disabled)&&!1!==k.disabled||d.triggerHandler("click",[c]));w=!1;d.removeClass("ng-click-active")});d.onclick=function(a){};d.on("click",function(a,b){h.$apply(function(){c(h,
{$event:b||a})})});d.on("mousedown",function(a){d.addClass("ng-click-active")});d.on("mousemove mouseup",function(a){d.removeClass("ng-click-active")})}}];v("ngSwipeLeft",-1,"swipeleft");v("ngSwipeRight",1,"swiperight")})(window,window.angular);
//# sourceMappingURL=angular-touch.min.js.map

/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");
d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);

!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.proj4=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function Point(a,b,c){if(!(this instanceof Point))return new Point(a,b,c);if(Array.isArray(a))this.x=a[0],this.y=a[1],this.z=a[2]||0;else if("object"==typeof a)this.x=a.x,this.y=a.y,this.z=a.z||0;else if("string"==typeof a&&"undefined"==typeof b){var d=a.split(",");this.x=parseFloat(d[0],10),this.y=parseFloat(d[1],10),this.z=parseFloat(d[2],10)||0}else this.x=a,this.y=b,this.z=c||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var d=a("mgrs");Point.fromMGRS=function(a){return new Point(d.toPoint(a))},Point.prototype.toMGRS=function(a){return d.forward([this.x,this.y],a)},b.exports=Point},{mgrs:67}],2:[function(a,b,c){function Projection(a,b){if(!(this instanceof Projection))return new Projection(a);b=b||function(a){if(a)throw a};var c=d(a);if("object"!=typeof c)return void b(a);var f=g(c),h=Projection.projections.get(f.projName);h?(e(this,f),e(this,h),this.init(),b(null,this)):b(a)}var d=a("./parseCode"),e=a("./extend"),f=a("./projections"),g=a("./deriveConstants");Projection.projections=f,Projection.projections.start(),b.exports=Projection},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(a,b,c){b.exports=function(a,b,c){var d,e,f,g=c.x,h=c.y,i=c.z||0;for(f=0;3>f;f++)if(!b||2!==f||void 0!==c.z)switch(0===f?(d=g,e="x"):1===f?(d=h,e="y"):(d=i,e="z"),a.axis[f]){case"e":c[e]=d;break;case"w":c[e]=-d;break;case"n":c[e]=d;break;case"s":c[e]=-d;break;case"u":void 0!==c[e]&&(c.z=d);break;case"d":void 0!==c[e]&&(c.z=-d);break;default:return null}return c}},{}],4:[function(a,b,c){var d=Math.PI/2,e=a("./sign");b.exports=function(a){return Math.abs(a)<d?a:a-e(a)*Math.PI}},{"./sign":21}],5:[function(a,b,c){var d=2*Math.PI,e=3.14159265359,f=a("./sign");b.exports=function(a){return Math.abs(a)<=e?a:a-f(a)*d}},{"./sign":21}],6:[function(a,b,c){b.exports=function(a){return Math.abs(a)>1&&(a=a>1?1:-1),Math.asin(a)}},{}],7:[function(a,b,c){b.exports=function(a){return 1-.25*a*(1+a/16*(3+1.25*a))}},{}],8:[function(a,b,c){b.exports=function(a){return.375*a*(1+.25*a*(1+.46875*a))}},{}],9:[function(a,b,c){b.exports=function(a){return.05859375*a*a*(1+.75*a)}},{}],10:[function(a,b,c){b.exports=function(a){return a*a*a*(35/3072)}},{}],11:[function(a,b,c){b.exports=function(a,b,c){var d=b*c;return a/Math.sqrt(1-d*d)}},{}],12:[function(a,b,c){b.exports=function(a,b,c,d,e){var f,g;f=a/b;for(var h=0;15>h;h++)if(g=(a-(b*f-c*Math.sin(2*f)+d*Math.sin(4*f)-e*Math.sin(6*f)))/(b-2*c*Math.cos(2*f)+4*d*Math.cos(4*f)-6*e*Math.cos(6*f)),f+=g,Math.abs(g)<=1e-10)return f;return NaN}},{}],13:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b){var c=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(b)-c)<1e-6)return 0>b?-1*d:d;for(var e,f,g,h,i=Math.asin(.5*b),j=0;30>j;j++)if(f=Math.sin(i),g=Math.cos(i),h=a*f,e=Math.pow(1-h*h,2)/(2*g)*(b/(1-a*a)-f/(1-h*h)+.5/a*Math.log((1-h)/(1+h))),i+=e,Math.abs(e)<=1e-10)return i;return NaN}},{}],14:[function(a,b,c){b.exports=function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*e)}},{}],15:[function(a,b,c){b.exports=function(a,b,c){var d=a*b;return c/Math.sqrt(1-d*d)}},{}],16:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b){for(var c,e,f=.5*a,g=d-2*Math.atan(b),h=0;15>=h;h++)if(c=a*Math.sin(g),e=d-2*Math.atan(b*Math.pow((1-c)/(1+c),f))-g,g+=e,Math.abs(e)<=1e-10)return g;return-9999}},{}],17:[function(a,b,c){var d=1,e=.25,f=.046875,g=.01953125,h=.01068115234375,i=.75,j=.46875,k=.013020833333333334,l=.007120768229166667,m=.3645833333333333,n=.005696614583333333,o=.3076171875;b.exports=function(a){var b=[];b[0]=d-a*(e+a*(f+a*(g+a*h))),b[1]=a*(i-a*(f+a*(g+a*h)));var c=a*a;return b[2]=c*(j-a*(k+a*l)),c*=a,b[3]=c*(m-a*n),b[4]=c*a*o,b}},{}],18:[function(a,b,c){var d=a("./pj_mlfn"),e=1e-10,f=20;b.exports=function(a,b,c){for(var g=1/(1-b),h=a,i=f;i;--i){var j=Math.sin(h),k=1-b*j*j;if(k=(d(h,j,Math.cos(h),c)-a)*(k*Math.sqrt(k))*g,h-=k,Math.abs(k)<e)return h}return h}},{"./pj_mlfn":19}],19:[function(a,b,c){b.exports=function(a,b,c,d){return c*=b,b*=b,d[0]*a-c*(d[1]+b*(d[2]+b*(d[3]+b*d[4])))}},{}],20:[function(a,b,c){b.exports=function(a,b){var c;return a>1e-7?(c=a*b,(1-a*a)*(b/(1-c*c)-.5/a*Math.log((1-c)/(1+c)))):2*b}},{}],21:[function(a,b,c){b.exports=function(a){return 0>a?-1:1}},{}],22:[function(a,b,c){b.exports=function(a,b){return Math.pow((1-a)/(1+a),b)}},{}],23:[function(a,b,c){b.exports=function(a){var b={x:a[0],y:a[1]};return a.length>2&&(b.z=a[2]),a.length>3&&(b.m=a[3]),b}},{}],24:[function(a,b,c){var d=Math.PI/2;b.exports=function(a,b,c){var e=a*c,f=.5*a;return e=Math.pow((1-e)/(1+e),f),Math.tan(.5*(d-b))/e}},{}],25:[function(a,b,c){c.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},c.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},c.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},c.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},c.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},c.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},c.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},c.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},c.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},c.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},c.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},c.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},c.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},c.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},c.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},c.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(a,b,c){c.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},c.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},c.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},c.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},c.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},c.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},c.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},c.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},c.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},c.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},c.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},c.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},c.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},c.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},c.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},c.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},c.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},c.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},c.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},c.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},c.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},c.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},c.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},c.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},c.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},c.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},c.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},c.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},c.hough={a:6378270,rf:297,ellipseName:"Hough"},c.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},c.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},c.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},c.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},c.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},c.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},c.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},c.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},c.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},c.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},c.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},c.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},c.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},c.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(a,b,c){c.greenwich=0,c.lisbon=-9.131906111111,c.paris=2.337229166667,c.bogota=-74.080916666667,c.madrid=-3.687938888889,c.rome=12.452333333333,c.bern=7.439583333333,c.jakarta=106.807719444444,c.ferro=-17.666666666667,c.brussels=4.367975,c.stockholm=18.058277777778,c.athens=23.7163375,c.oslo=10.722916666667},{}],28:[function(a,b,c){c.ft={to_meter:.3048},c["us-ft"]={to_meter:1200/3937}},{}],29:[function(a,b,c){function d(a,b,c){var d;return Array.isArray(c)?(d=g(a,b,c),3===c.length?[d.x,d.y,d.z]:[d.x,d.y]):g(a,b,c)}function e(a){return a instanceof f?a:a.oProj?a.oProj:f(a)}function proj4(a,b,c){a=e(a);var f,g=!1;return"undefined"==typeof b?(b=a,a=h,g=!0):("undefined"!=typeof b.x||Array.isArray(b))&&(c=b,b=a,a=h,g=!0),b=e(b),c?d(a,b,c):(f={forward:function(c){return d(a,b,c)},inverse:function(c){return d(b,a,c)}},g&&(f.oProj=b),f)}var f=a("./Proj"),g=a("./transform"),h=f("WGS84");b.exports=proj4},{"./Proj":2,"./transform":65}],30:[function(a,b,c){var d=Math.PI/2,e=1,f=2,g=3,h=4,i=5,j=484813681109536e-20,k=1.0026,l=.3826834323650898,m=function(a){return this instanceof m?(this.datum_type=h,void(a&&(a.datumCode&&"none"===a.datumCode&&(this.datum_type=i),a.datum_params&&(this.datum_params=a.datum_params.map(parseFloat),(0!==this.datum_params[0]||0!==this.datum_params[1]||0!==this.datum_params[2])&&(this.datum_type=e),this.datum_params.length>3&&(0!==this.datum_params[3]||0!==this.datum_params[4]||0!==this.datum_params[5]||0!==this.datum_params[6])&&(this.datum_type=f,this.datum_params[3]*=j,this.datum_params[4]*=j,this.datum_params[5]*=j,this.datum_params[6]=this.datum_params[6]/1e6+1)),this.datum_type=a.grids?g:this.datum_type,this.a=a.a,this.b=a.b,this.es=a.es,this.ep2=a.ep2,this.datum_type===g&&(this.grids=a.grids)))):new m(a)};m.prototype={compare_datums:function(a){return this.datum_type!==a.datum_type?!1:this.a!==a.a||Math.abs(this.es-a.es)>5e-11?!1:this.datum_type===e?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]:this.datum_type===f?this.datum_params[0]===a.datum_params[0]&&this.datum_params[1]===a.datum_params[1]&&this.datum_params[2]===a.datum_params[2]&&this.datum_params[3]===a.datum_params[3]&&this.datum_params[4]===a.datum_params[4]&&this.datum_params[5]===a.datum_params[5]&&this.datum_params[6]===a.datum_params[6]:this.datum_type===g||a.datum_type===g?this.nadgrids===a.nadgrids:!0},geodetic_to_geocentric:function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y,l=a.z?a.z:0,m=0;if(-d>k&&k>-1.001*d)k=-d;else if(k>d&&1.001*d>k)k=d;else if(-d>k||k>d)return null;return j>Math.PI&&(j-=2*Math.PI),g=Math.sin(k),i=Math.cos(k),h=g*g,f=this.a/Math.sqrt(1-this.es*h),b=(f+l)*i*Math.cos(j),c=(f+l)*i*Math.sin(j),e=(f*(1-this.es)+l)*g,a.x=b,a.y=c,a.z=e,m},geocentric_to_geodetic:function(a){var b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=1e-12,u=t*t,v=30,w=a.x,x=a.y,y=a.z?a.z:0;if(o=!1,b=Math.sqrt(w*w+x*x),c=Math.sqrt(w*w+x*x+y*y),b/this.a<t){if(o=!0,q=0,c/this.a<t)return r=d,void(s=-this.b)}else q=Math.atan2(x,w);e=y/c,f=b/c,g=1/Math.sqrt(1-this.es*(2-this.es)*f*f),j=f*(1-this.es)*g,k=e*g,p=0;do p++,i=this.a/Math.sqrt(1-this.es*k*k),s=b*j+y*k-i*(1-this.es*k*k),h=this.es*i/(i+s),g=1/Math.sqrt(1-h*(2-h)*f*f),l=f*(1-h)*g,m=e*g,n=m*j-l*k,j=l,k=m;while(n*n>u&&v>p);return r=Math.atan(m/Math.abs(l)),a.x=q,a.y=r,a.z=s,a},geocentric_to_geodetic_noniter:function(a){var b,c,e,f,g,h,i,j,m,n,o,p,q,r,s,t,u,v=a.x,w=a.y,x=a.z?a.z:0;if(v=parseFloat(v),w=parseFloat(w),x=parseFloat(x),u=!1,0!==v)b=Math.atan2(w,v);else if(w>0)b=d;else if(0>w)b=-d;else if(u=!0,b=0,x>0)c=d;else{if(!(0>x))return c=d,void(e=-this.b);c=-d}return g=v*v+w*w,f=Math.sqrt(g),h=x*k,j=Math.sqrt(h*h+g),n=h/j,p=f/j,o=n*n*n,i=x+this.b*this.ep2*o,t=f-this.a*this.es*p*p*p,m=Math.sqrt(i*i+t*t),q=i/m,r=t/m,s=this.a/Math.sqrt(1-this.es*q*q),e=r>=l?f/r-s:-l>=r?f/-r-s:x/q+s*(this.es-1),u===!1&&(c=Math.atan(q/r)),a.x=b,a.y=c,a.z=e,a},geocentric_to_wgs84:function(a){if(this.datum_type===e)a.x+=this.datum_params[0],a.y+=this.datum_params[1],a.z+=this.datum_params[2];else if(this.datum_type===f){var b=this.datum_params[0],c=this.datum_params[1],d=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=j*(a.x-i*a.y+h*a.z)+b,l=j*(i*a.x+a.y-g*a.z)+c,m=j*(-h*a.x+g*a.y+a.z)+d;a.x=k,a.y=l,a.z=m}},geocentric_from_wgs84:function(a){if(this.datum_type===e)a.x-=this.datum_params[0],a.y-=this.datum_params[1],a.z-=this.datum_params[2];else if(this.datum_type===f){var b=this.datum_params[0],c=this.datum_params[1],d=this.datum_params[2],g=this.datum_params[3],h=this.datum_params[4],i=this.datum_params[5],j=this.datum_params[6],k=(a.x-b)/j,l=(a.y-c)/j,m=(a.z-d)/j;a.x=k+i*l-h*m,a.y=-i*k+l+g*m,a.z=h*k-g*l+m}}},b.exports=m},{}],31:[function(a,b,c){var d=1,e=2,f=3,g=5,h=6378137,i=.006694379990141316;b.exports=function(a,b,c){function j(a){return a===d||a===e}var k,l,m;if(a.compare_datums(b))return c;if(a.datum_type===g||b.datum_type===g)return c;var n=a.a,o=a.es,p=b.a,q=b.es,r=a.datum_type;if(r===f)if(0===this.apply_gridshift(a,0,c))a.a=h,a.es=i;else{if(!a.datum_params)return a.a=n,a.es=a.es,c;for(k=1,l=0,m=a.datum_params.length;m>l;l++)k*=a.datum_params[l];if(0===k)return a.a=n,a.es=a.es,c;r=a.datum_params.length>3?e:d}return b.datum_type===f&&(b.a=h,b.es=i),(a.es!==b.es||a.a!==b.a||j(r)||j(b.datum_type))&&(a.geodetic_to_geocentric(c),j(a.datum_type)&&a.geocentric_to_wgs84(c),j(b.datum_type)&&b.geocentric_from_wgs84(c),b.geocentric_to_geodetic(c)),b.datum_type===f&&this.apply_gridshift(b,1,c),a.a=n,a.es=o,b.a=p,b.es=q,c}},{}],32:[function(a,b,c){function d(a){var b=this;if(2===arguments.length){var c=arguments[1];"string"==typeof c?"+"===c.charAt(0)?d[a]=f(arguments[1]):d[a]=g(arguments[1]):d[a]=c}else if(1===arguments.length){if(Array.isArray(a))return a.map(function(a){Array.isArray(a)?d.apply(b,a):d(a)});if("string"==typeof a){if(a in d)return d[a]}else"EPSG"in a?d["EPSG:"+a.EPSG]=a:"ESRI"in a?d["ESRI:"+a.ESRI]=a:"IAU2000"in a?d["IAU2000:"+a.IAU2000]=a:console.log(a);return}}var e=a("./global"),f=a("./projString"),g=a("./wkt");e(d),b.exports=d},{"./global":35,"./projString":38,"./wkt":66}],33:[function(a,b,c){var d=a("./constants/Datum"),e=a("./constants/Ellipsoid"),f=a("./extend"),g=a("./datum"),h=1e-10,i=.16666666666666666,j=.04722222222222222,k=.022156084656084655;b.exports=function(a){if(a.datumCode&&"none"!==a.datumCode){var b=d[a.datumCode];b&&(a.datum_params=b.towgs84?b.towgs84.split(","):null,a.ellps=b.ellipse,a.datumName=b.datumName?b.datumName:a.datumCode)}if(!a.a){var c=e[a.ellps]?e[a.ellps]:e.WGS84;f(a,c)}return a.rf&&!a.b&&(a.b=(1-1/a.rf)*a.a),(0===a.rf||Math.abs(a.a-a.b)<h)&&(a.sphere=!0,a.b=a.a),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=(a.a2-a.b2)/a.a2,a.e=Math.sqrt(a.es),a.R_A&&(a.a*=1-a.es*(i+a.es*(j+a.es*k)),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=0),a.ep2=(a.a2-a.b2)/a.b2,a.k0||(a.k0=1),a.axis||(a.axis="enu"),a.datum||(a.datum=g(a)),a}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(a,b,c){b.exports=function(a,b){a=a||{};var c,d;if(!b)return a;for(d in b)c=b[d],void 0!==c&&(a[d]=c);return a}},{}],35:[function(a,b,c){b.exports=function(a){a("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),a("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),a("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),a.WGS84=a["EPSG:4326"],a["EPSG:3785"]=a["EPSG:3857"],a.GOOGLE=a["EPSG:3857"],a["EPSG:900913"]=a["EPSG:3857"],a["EPSG:102113"]=a["EPSG:3857"]}},{}],36:[function(a,b,c){var proj4=a("./core");proj4.defaultDatum="WGS84",proj4.Proj=a("./Proj"),proj4.WGS84=new proj4.Proj("WGS84"),proj4.Point=a("./Point"),proj4.toPoint=a("./common/toPoint"),proj4.defs=a("./defs"),proj4.transform=a("./transform"),proj4.mgrs=a("mgrs"),proj4.version=a("../package.json").version,a("./includedProjections")(proj4),b.exports=proj4},{"../package.json":68,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":"hTEDpn","./transform":65,mgrs:67}],37:[function(a,b,c){function d(a){return"string"==typeof a}function e(a){return a in i}function f(a){var b=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return b.reduce(function(b,c){return b+1+a.indexOf(c)},0)}function g(a){return"+"===a[0]}function h(a){return d(a)?e(a)?i[a]:f(a)?j(a):g(a)?k(a):void 0:a}var i=a("./defs"),j=a("./wkt"),k=a("./projString");b.exports=h},{"./defs":32,"./projString":38,"./wkt":66}],38:[function(a,b,c){var d=.017453292519943295,e=a("./constants/PrimeMeridian"),f=a("./constants/units");b.exports=function(a){var b={},c={};a.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).forEach(function(a){var b=a.split("=");b.push(!0),c[b[0].toLowerCase()]=b[1]});var g,h,i,j={proj:"projName",datum:"datumCode",rf:function(a){b.rf=parseFloat(a)},lat_0:function(a){b.lat0=a*d},lat_1:function(a){b.lat1=a*d},lat_2:function(a){b.lat2=a*d},lat_ts:function(a){b.lat_ts=a*d},lon_0:function(a){b.long0=a*d},lon_1:function(a){b.long1=a*d},lon_2:function(a){b.long2=a*d},alpha:function(a){b.alpha=parseFloat(a)*d},lonc:function(a){b.longc=a*d},x_0:function(a){b.x0=parseFloat(a)},y_0:function(a){b.y0=parseFloat(a)},k_0:function(a){b.k0=parseFloat(a)},k:function(a){b.k0=parseFloat(a)},a:function(a){b.a=parseFloat(a)},b:function(a){b.b=parseFloat(a)},r_a:function(){b.R_A=!0},zone:function(a){b.zone=parseInt(a,10)},south:function(){b.utmSouth=!0},towgs84:function(a){b.datum_params=a.split(",").map(function(a){return parseFloat(a)})},to_meter:function(a){b.to_meter=parseFloat(a)},units:function(a){b.units=a,f[a]&&(b.to_meter=f[a].to_meter)},from_greenwich:function(a){b.from_greenwich=a*d},pm:function(a){b.from_greenwich=(e[a]?e[a]:parseFloat(a))*d},nadgrids:function(a){"@null"===a?b.datumCode="none":b.nadgrids=a},axis:function(a){var c="ewnsud";3===a.length&&-1!==c.indexOf(a.substr(0,1))&&-1!==c.indexOf(a.substr(1,1))&&-1!==c.indexOf(a.substr(2,1))&&(b.axis=a)}};for(g in c)h=c[g],g in j?(i=j[g],"function"==typeof i?i(h):b[i]=h):b[g]=h;return"string"==typeof b.datumCode&&"WGS84"!==b.datumCode&&(b.datumCode=b.datumCode.toLowerCase()),b}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(a,b,c){function d(a,b){var c=g.length;return a.names?(g[c]=a,a.names.forEach(function(a){f[a.toLowerCase()]=c}),this):(console.log(b),!0)}var e=[a("./projections/merc"),a("./projections/longlat")],f={},g=[];c.add=d,c.get=function(a){if(!a)return!1;var b=a.toLowerCase();return"undefined"!=typeof f[b]&&g[f[b]]?g[f[b]]:void 0},c.start=function(){e.forEach(d)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(a,b,c){var d=1e-10,e=a("../common/msfnz"),f=a("../common/qsfnz"),g=a("../common/adjust_lon"),h=a("../common/asinz");c.init=function(){Math.abs(this.lat1+this.lat2)<d||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=e(this.e3,this.sin_po,this.cos_po),this.qs1=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=e(this.e3,this.sin_po,this.cos_po),this.qs2=f(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=f(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>d?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},c.forward=function(a){var b=a.x,c=a.y;this.sin_phi=Math.sin(c),this.cos_phi=Math.cos(c);var d=f(this.e3,this.sin_phi,this.cos_phi),e=this.a*Math.sqrt(this.c-this.ns0*d)/this.ns0,h=this.ns0*g(b-this.long0),i=e*Math.sin(h)+this.x0,j=this.rh-e*Math.cos(h)+this.y0;return a.x=i,a.y=j,a},c.inverse=function(a){var b,c,d,e,f,h;return a.x-=this.x0,a.y=this.rh-a.y+this.y0,this.ns0>=0?(b=Math.sqrt(a.x*a.x+a.y*a.y),d=1):(b=-Math.sqrt(a.x*a.x+a.y*a.y),d=-1),e=0,0!==b&&(e=Math.atan2(d*a.x,d*a.y)),d=b*this.ns0/this.a,this.sphere?h=Math.asin((this.c-d*d)/(2*this.ns0)):(c=(this.c-d*d)/this.ns0,h=this.phi1z(this.e3,c)),f=g(e/this.ns0+this.long0),a.x=f,a.y=h,a},c.phi1z=function(a,b){var c,e,f,g,i,j=h(.5*b);if(d>a)return j;for(var k=a*a,l=1;25>=l;l++)if(c=Math.sin(j),e=Math.cos(j),f=a*c,g=1-f*f,i=.5*g*g/e*(b/(1-k)-c/g+.5/a*Math.log((1-f)/(1+f))),j+=i,Math.abs(i)<=1e-7)return j;return null},c.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(a,b,c){var d=a("../common/adjust_lon"),e=Math.PI/2,f=1e-10,g=a("../common/mlfn"),h=a("../common/e0fn"),i=a("../common/e1fn"),j=a("../common/e2fn"),k=a("../common/e3fn"),l=a("../common/gN"),m=a("../common/asinz"),n=a("../common/imlfn");c.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},c.forward=function(a){var b,c,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a.x,I=a.y,J=Math.sin(a.y),K=Math.cos(a.y),L=d(H-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=f?(a.x=this.x0+this.a*(e-I)*Math.sin(L),a.y=this.y0-this.a*(e-I)*Math.cos(L),a):Math.abs(this.sin_p12+1)<=f?(a.x=this.x0+this.a*(e+I)*Math.sin(L),a.y=this.y0+this.a*(e+I)*Math.cos(L),a):(B=this.sin_p12*J+this.cos_p12*K*Math.cos(L),z=Math.acos(B),A=z/Math.sin(z),a.x=this.x0+this.a*A*K*Math.sin(L),a.y=this.y0+this.a*A*(this.cos_p12*J-this.sin_p12*K*Math.cos(L)),a):(b=h(this.es),c=i(this.es),m=j(this.es),n=k(this.es),Math.abs(this.sin_p12-1)<=f?(o=this.a*g(b,c,m,n,e),p=this.a*g(b,c,m,n,I),a.x=this.x0+(o-p)*Math.sin(L),a.y=this.y0-(o-p)*Math.cos(L),a):Math.abs(this.sin_p12+1)<=f?(o=this.a*g(b,c,m,n,e),p=this.a*g(b,c,m,n,I),a.x=this.x0+(o+p)*Math.sin(L),a.y=this.y0+(o+p)*Math.cos(L),a):(q=J/K,r=l(this.a,this.e,this.sin_p12),s=l(this.a,this.e,J),t=Math.atan((1-this.es)*q+this.es*r*this.sin_p12/(s*K)),u=Math.atan2(Math.sin(L),this.cos_p12*Math.tan(t)-this.sin_p12*Math.cos(L)),C=0===u?Math.asin(this.cos_p12*Math.sin(t)-this.sin_p12*Math.cos(t)):Math.abs(Math.abs(u)-Math.PI)<=f?-Math.asin(this.cos_p12*Math.sin(t)-this.sin_p12*Math.cos(t)):Math.asin(Math.sin(L)*Math.cos(t)/Math.sin(u)),v=this.e*this.sin_p12/Math.sqrt(1-this.es),w=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es),x=v*w,y=w*w,D=C*C,E=D*C,F=E*C,G=F*C,z=r*C*(1-D*y*(1-y)/6+E/8*x*(1-2*y)+F/120*(y*(4-7*y)-3*v*v*(1-7*y))-G/48*x),a.x=this.x0+z*Math.sin(u),a.y=this.y0+z*Math.cos(u),a))},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;if(this.sphere){if(b=Math.sqrt(a.x*a.x+a.y*a.y),b>2*e*this.a)return;return c=b/this.a,o=Math.sin(c),p=Math.cos(c),q=this.long0,Math.abs(b)<=f?r=this.lat0:(r=m(p*this.sin_p12+a.y*o*this.cos_p12/b),s=Math.abs(this.lat0)-e,q=d(Math.abs(s)<=f?this.lat0>=0?this.long0+Math.atan2(a.x,-a.y):this.long0-Math.atan2(-a.x,a.y):this.long0+Math.atan2(a.x*o,b*this.cos_p12*p-a.y*this.sin_p12*o))),a.x=q,a.y=r,a}return t=h(this.es),u=i(this.es),v=j(this.es),w=k(this.es),Math.abs(this.sin_p12-1)<=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=x-b,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,-1*a.y)),a.x=q,a.y=r,a):Math.abs(this.sin_p12+1)<=f?(x=this.a*g(t,u,v,w,e),b=Math.sqrt(a.x*a.x+a.y*a.y),y=b-x,r=n(y/this.a,t,u,v,w),q=d(this.long0+Math.atan2(a.x,a.y)),a.x=q,a.y=r,a):(b=Math.sqrt(a.x*a.x+a.y*a.y),B=Math.atan2(a.x,a.y),z=l(this.a,this.e,this.sin_p12),C=Math.cos(B),D=this.e*this.cos_p12*C,E=-D*D/(1-this.es),F=3*this.es*(1-E)*this.sin_p12*this.cos_p12*C/(1-this.es),G=b/z,H=G-E*(1+E)*Math.pow(G,3)/6-F*(1+3*E)*Math.pow(G,4)/24,I=1-E*H*H/2-G*H*H*H/6,A=Math.asin(this.sin_p12*Math.cos(H)+this.cos_p12*Math.sin(H)*C),q=d(this.long0+Math.asin(Math.sin(B)*Math.sin(H)/Math.cos(A))),r=Math.atan((1-this.es*I*this.sin_p12/Math.sin(A))*Math.tan(A)/(1-this.es)),a.x=q,a.y=r,a)},c.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(a,b,c){var d=a("../common/mlfn"),e=a("../common/e0fn"),f=a("../common/e1fn"),g=a("../common/e2fn"),h=a("../common/e3fn"),i=a("../common/gN"),j=a("../common/adjust_lon"),k=a("../common/adjust_lat"),l=a("../common/imlfn"),m=Math.PI/2,n=1e-10;c.init=function(){this.sphere||(this.e0=e(this.es),this.e1=f(this.es),this.e2=g(this.es),this.e3=h(this.es),this.ml0=this.a*d(this.e0,this.e1,this.e2,this.e3,this.lat0))},c.forward=function(a){var b,c,e=a.x,f=a.y;if(e=j(e-this.long0),this.sphere)b=this.a*Math.asin(Math.cos(f)*Math.sin(e)),c=this.a*(Math.atan2(Math.tan(f),Math.cos(e))-this.lat0);else{var g=Math.sin(f),h=Math.cos(f),k=i(this.a,this.e,g),l=Math.tan(f)*Math.tan(f),m=e*Math.cos(f),n=m*m,o=this.es*h*h/(1-this.es),p=this.a*d(this.e0,this.e1,this.e2,this.e3,f);b=k*m*(1-n*l*(1/6-(8-l+8*o)*n/120)),c=p-this.ml0+k*g/h*n*(.5+(5-l+6*o)*n/24)}return a.x=b+this.x0,a.y=c+this.y0,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,d=a.x/this.a,e=a.y/this.a;if(this.sphere){var f=e+this.lat0;b=Math.asin(Math.sin(f)*Math.cos(d)),c=Math.atan2(Math.tan(d),Math.cos(f))}else{var g=this.ml0/this.a+e,h=l(g,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(h)-m)<=n)return a.x=this.long0,a.y=m,0>e&&(a.y*=-1),a;var o=i(this.a,this.e,Math.sin(h)),p=o*o*o/this.a/this.a*(1-this.es),q=Math.pow(Math.tan(h),2),r=d*this.a/o,s=r*r;b=h-o*Math.tan(h)/p*r*r*(.5-(1+3*q)*r*r/24),c=r*(1-s*(q/3+(1+3*q)*q*s/15))/Math.cos(h)}return a.x=j(c+this.long0),a.y=k(b),a},c.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(a,b,c){var d=a("../common/adjust_lon"),e=a("../common/qsfnz"),f=a("../common/msfnz"),g=a("../common/iqsfnz");c.init=function(){this.sphere||(this.k0=f(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},c.forward=function(a){var b,c,f=a.x,g=a.y,h=d(f-this.long0);if(this.sphere)b=this.x0+this.a*h*Math.cos(this.lat_ts),c=this.y0+this.a*Math.sin(g)/Math.cos(this.lat_ts);else{var i=e(this.e,Math.sin(g));b=this.x0+this.a*this.k0*h,c=this.y0+this.a*i*.5/this.k0}return a.x=b,a.y=c,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c;return this.sphere?(b=d(this.long0+a.x/this.a/Math.cos(this.lat_ts)),c=Math.asin(a.y/this.a*Math.cos(this.lat_ts))):(c=g(this.e,2*a.y*this.k0/this.a),b=d(this.long0+a.x/(this.a*this.k0))),a.x=b,a.y=c,a},c.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(a,b,c){var d=a("../common/adjust_lon"),e=a("../common/adjust_lat");c.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},c.forward=function(a){var b=a.x,c=a.y,f=d(b-this.long0),g=e(c-this.lat0);return a.x=this.x0+this.a*f*this.rc,a.y=this.y0+this.a*g,a},c.inverse=function(a){var b=a.x,c=a.y;return a.x=d(this.long0+(b-this.x0)/(this.a*this.rc)),a.y=e(this.lat0+(c-this.y0)/this.a),a},c.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(a,b,c){var d=a("../common/e0fn"),e=a("../common/e1fn"),f=a("../common/e2fn"),g=a("../common/e3fn"),h=a("../common/msfnz"),i=a("../common/mlfn"),j=a("../common/adjust_lon"),k=a("../common/adjust_lat"),l=a("../common/imlfn"),m=1e-10;c.init=function(){Math.abs(this.lat1+this.lat2)<m||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=h(this.e,this.sinphi,this.cosphi),this.ml1=i(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<m?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=h(this.e,this.sinphi,this.cosphi),this.ml2=i(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=i(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},c.forward=function(a){var b,c=a.x,d=a.y;if(this.sphere)b=this.a*(this.g-d);else{var e=i(this.e0,this.e1,this.e2,this.e3,d);b=this.a*(this.g-e)}var f=this.ns*j(c-this.long0),g=this.x0+b*Math.sin(f),h=this.y0+this.rh-b*Math.cos(f);return a.x=g,a.y=h,a},c.inverse=function(a){a.x-=this.x0,a.y=this.rh-a.y+this.y0;var b,c,d,e;this.ns>=0?(c=Math.sqrt(a.x*a.x+a.y*a.y),b=1):(c=-Math.sqrt(a.x*a.x+a.y*a.y),b=-1);var f=0;if(0!==c&&(f=Math.atan2(b*a.x,b*a.y)),this.sphere)return e=j(this.long0+f/this.ns),d=k(this.g-c/this.a),a.x=e,a.y=d,a;var g=this.g-c/this.a;return d=l(g,this.e0,this.e1,this.e2,this.e3),e=j(this.long0+f/this.ns),a.x=e,a.y=d,a},c.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(a,b,c){var d=Math.PI/4,e=a("../common/srat"),f=Math.PI/2,g=20;c.init=function(){var a=Math.sin(this.lat0),b=Math.cos(this.lat0);b*=b,this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a),this.C=Math.sqrt(1+this.es*b*b/(1-this.es)),this.phic0=Math.asin(a/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+d)/(Math.pow(Math.tan(.5*this.lat0+d),this.C)*e(this.e*a,this.ratexp))},c.forward=function(a){var b=a.x,c=a.y;return a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*c+d),this.C)*e(this.e*Math.sin(c),this.ratexp))-f,a.x=this.C*b,a},c.inverse=function(a){for(var b=1e-14,c=a.x/this.C,h=a.y,i=Math.pow(Math.tan(.5*h+d)/this.K,1/this.C),j=g;j>0&&(h=2*Math.atan(i*e(this.e*Math.sin(a.y),-.5*this.e))-f,!(Math.abs(h-a.y)<b));--j)a.y=h;return j?(a.x=c,a.y=h,a):null},c.names=["gauss"]},{"../common/srat":22}],47:[function(a,b,c){var d=a("../common/adjust_lon"),e=1e-10,f=a("../common/asinz");c.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),
this.infinity_dist=1e3*this.a,this.rc=1},c.forward=function(a){var b,c,f,g,h,i,j,k,l=a.x,m=a.y;return f=d(l-this.long0),b=Math.sin(m),c=Math.cos(m),g=Math.cos(f),i=this.sin_p14*b+this.cos_p14*c*g,h=1,i>0||Math.abs(i)<=e?(j=this.x0+this.a*h*c*Math.sin(f)/i,k=this.y0+this.a*h*(this.cos_p14*b-this.sin_p14*c*g)/i):(j=this.x0+this.infinity_dist*c*Math.sin(f),k=this.y0+this.infinity_dist*(this.cos_p14*b-this.sin_p14*c*g)),a.x=j,a.y=k,a},c.inverse=function(a){var b,c,e,g,h,i;return a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,(b=Math.sqrt(a.x*a.x+a.y*a.y))?(g=Math.atan2(b,this.rc),c=Math.sin(g),e=Math.cos(g),i=f(e*this.sin_p14+a.y*c*this.cos_p14/b),h=Math.atan2(a.x*c,b*this.cos_p14*e-a.y*this.sin_p14*c),h=d(this.long0+h)):(i=this.phic0,h=0),a.x=h,a.y=i,a},c.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(a,b,c){var d=a("../common/adjust_lon");c.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},c.forward=function(a){var b,c,e,f,g,h,i,j=a.x,k=a.y,l=d(j-this.long0);return b=Math.pow((1+this.e*Math.sin(k))/(1-this.e*Math.sin(k)),this.alfa*this.e/2),c=2*(Math.atan(this.k*Math.pow(Math.tan(k/2+this.s45),this.alfa)/b)-this.s45),e=-l*this.alfa,f=Math.asin(Math.cos(this.ad)*Math.sin(c)+Math.sin(this.ad)*Math.cos(c)*Math.cos(e)),g=Math.asin(Math.cos(c)*Math.sin(e)/Math.cos(f)),h=this.n*g,i=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(f/2+this.s45),this.n),a.y=i*Math.cos(h)/1,a.x=i*Math.sin(h)/1,this.czech||(a.y*=-1,a.x*=-1),a},c.inverse=function(a){var b,c,d,e,f,g,h,i,j=a.x;a.x=a.y,a.y=j,this.czech||(a.y*=-1,a.x*=-1),g=Math.sqrt(a.x*a.x+a.y*a.y),f=Math.atan2(a.y,a.x),e=f/Math.sin(this.s0),d=2*(Math.atan(Math.pow(this.ro0/g,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),b=Math.asin(Math.cos(this.ad)*Math.sin(d)-Math.sin(this.ad)*Math.cos(d)*Math.cos(e)),c=Math.asin(Math.cos(d)*Math.sin(e)/Math.cos(b)),a.x=this.long0-c/this.alfa,h=b,i=0;var k=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(b/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-a.y)<1e-10&&(i=1),h=a.y,k+=1;while(0===i&&15>k);return k>=15?null:a},c.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(a,b,c){var d=Math.PI/2,e=Math.PI/4,f=1e-10,g=a("../common/qsfnz"),h=a("../common/adjust_lon");c.S_POLE=1,c.N_POLE=2,c.EQUIT=3,c.OBLIQ=4,c.init=function(){var a=Math.abs(this.lat0);if(Math.abs(a-d)<f?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(a)<f?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var b;switch(this.qp=g(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),b=Math.sin(this.lat0),this.sinb1=g(this.e,b)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*b*b)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},c.forward=function(a){var b,c,i,j,k,l,m,n,o,p,q=a.x,r=a.y;if(q=h(q-this.long0),this.sphere){if(k=Math.sin(r),p=Math.cos(r),i=Math.cos(q),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c=this.mode===this.EQUIT?1+p*i:1+this.sinph0*k+this.cosph0*p*i,f>=c)return null;c=Math.sqrt(2/c),b=c*p*Math.sin(q),c*=this.mode===this.EQUIT?k:this.cosph0*k-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(r+this.phi0)<f)return null;c=e-.5*r,c=2*(this.mode===this.S_POLE?Math.cos(c):Math.sin(c)),b=c*Math.sin(q),c*=i}}else{switch(m=0,n=0,o=0,i=Math.cos(q),j=Math.sin(q),k=Math.sin(r),l=g(this.e,k),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=l/this.qp,n=Math.sqrt(1-m*m)),this.mode){case this.OBLIQ:o=1+this.sinb1*m+this.cosb1*n*i;break;case this.EQUIT:o=1+n*i;break;case this.N_POLE:o=d+r,l=this.qp-l;break;case this.S_POLE:o=r-d,l=this.qp+l}if(Math.abs(o)<f)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:o=Math.sqrt(2/o),c=this.mode===this.OBLIQ?this.ymf*o*(this.cosb1*m-this.sinb1*n*i):(o=Math.sqrt(2/(1+n*i)))*m*this.ymf,b=this.xmf*o*n*j;break;case this.N_POLE:case this.S_POLE:l>=0?(b=(o=Math.sqrt(l))*j,c=i*(this.mode===this.S_POLE?o:-o)):b=c=0}}return a.x=this.a*b+this.x0,a.y=this.a*c+this.y0,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,e,g,i,j,k,l=a.x/this.a,m=a.y/this.a;if(this.sphere){var n,o=0,p=0;if(n=Math.sqrt(l*l+m*m),c=.5*n,c>1)return null;switch(c=2*Math.asin(c),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(c),o=Math.cos(c)),this.mode){case this.EQUIT:c=Math.abs(n)<=f?0:Math.asin(m*p/n),l*=p,m=o*n;break;case this.OBLIQ:c=Math.abs(n)<=f?this.phi0:Math.asin(o*this.sinph0+m*p*this.cosph0/n),l*=p*this.cosph0,m=(o-Math.sin(c)*this.sinph0)*n;break;case this.N_POLE:m=-m,c=d-c;break;case this.S_POLE:c-=d}b=0!==m||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,m):0}else{if(k=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,m*=this.dd,j=Math.sqrt(l*l+m*m),f>j)return a.x=0,a.y=this.phi0,a;g=2*Math.asin(.5*j/this.rq),e=Math.cos(g),l*=g=Math.sin(g),this.mode===this.OBLIQ?(k=e*this.sinb1+m*g*this.cosb1/j,i=this.qp*k,m=j*this.cosb1*e-m*this.sinb1*g):(k=m*g/j,i=this.qp*k,m=j*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(m=-m),i=l*l+m*m,!i)return a.x=0,a.y=this.phi0,a;k=1-i/this.qp,this.mode===this.S_POLE&&(k=-k)}b=Math.atan2(l,m),c=this.authlat(Math.asin(k),this.apa)}return a.x=h(this.long0+b),a.y=c,a},c.P00=.3333333333333333,c.P01=.17222222222222222,c.P02=.10257936507936508,c.P10=.06388888888888888,c.P11=.0664021164021164,c.P20=.016415012942191543,c.authset=function(a){var b,c=[];return c[0]=a*this.P00,b=a*a,c[0]+=b*this.P01,c[1]=b*this.P10,b*=a,c[0]+=b*this.P02,c[1]+=b*this.P11,c[2]=b*this.P20,c},c.authlat=function(a,b){var c=a+a;return a+b[0]*Math.sin(c)+b[1]*Math.sin(c+c)+b[2]*Math.sin(c+c+c)},c.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(a,b,c){var d=1e-10,e=a("../common/msfnz"),f=a("../common/tsfnz"),g=Math.PI/2,h=a("../common/sign"),i=a("../common/adjust_lon"),j=a("../common/phi2z");c.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<d)){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);var b=Math.sin(this.lat1),c=Math.cos(this.lat1),g=e(this.e,b,c),h=f(this.e,this.lat1,b),i=Math.sin(this.lat2),j=Math.cos(this.lat2),k=e(this.e,i,j),l=f(this.e,this.lat2,i),m=f(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>d?this.ns=Math.log(g/k)/Math.log(h/l):this.ns=b,isNaN(this.ns)&&(this.ns=b),this.f0=g/(this.ns*Math.pow(h,this.ns)),this.rh=this.a*this.f0*Math.pow(m,this.ns),this.title||(this.title="Lambert Conformal Conic")}},c.forward=function(a){var b=a.x,c=a.y;Math.abs(2*Math.abs(c)-Math.PI)<=d&&(c=h(c)*(g-2*d));var e,j,k=Math.abs(Math.abs(c)-g);if(k>d)e=f(this.e,c,Math.sin(c)),j=this.a*this.f0*Math.pow(e,this.ns);else{if(k=c*this.ns,0>=k)return null;j=0}var l=this.ns*i(b-this.long0);return a.x=this.k0*(j*Math.sin(l))+this.x0,a.y=this.k0*(this.rh-j*Math.cos(l))+this.y0,a},c.inverse=function(a){var b,c,d,e,f,h=(a.x-this.x0)/this.k0,k=this.rh-(a.y-this.y0)/this.k0;this.ns>0?(b=Math.sqrt(h*h+k*k),c=1):(b=-Math.sqrt(h*h+k*k),c=-1);var l=0;if(0!==b&&(l=Math.atan2(c*h,c*k)),0!==b||this.ns>0){if(c=1/this.ns,d=Math.pow(b/(this.a*this.f0),c),e=j(this.e,d),-9999===e)return null}else e=-g;return f=i(l/this.ns+this.long0),a.x=f,a.y=e,a},c.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(a,b,c){function d(a){return a}c.init=function(){},c.forward=d,c.inverse=d,c.names=["longlat","identity"]},{}],52:[function(a,b,c){var d=a("../common/msfnz"),e=Math.PI/2,f=1e-10,g=57.29577951308232,h=a("../common/adjust_lon"),i=Math.PI/4,j=a("../common/tsfnz"),k=a("../common/phi2z");c.init=function(){var a=this.b/this.a;this.es=1-a*a,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=d(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},c.forward=function(a){var b=a.x,c=a.y;if(c*g>90&&-90>c*g&&b*g>180&&-180>b*g)return null;var d,k;if(Math.abs(Math.abs(c)-e)<=f)return null;if(this.sphere)d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0+this.a*this.k0*Math.log(Math.tan(i+.5*c));else{var l=Math.sin(c),m=j(this.e,c,l);d=this.x0+this.a*this.k0*h(b-this.long0),k=this.y0-this.a*this.k0*Math.log(m)}return a.x=d,a.y=k,a},c.inverse=function(a){var b,c,d=a.x-this.x0,f=a.y-this.y0;if(this.sphere)c=e-2*Math.atan(Math.exp(-f/(this.a*this.k0)));else{var g=Math.exp(-f/(this.a*this.k0));if(c=k(this.e,g),-9999===c)return null}return b=h(this.long0+d/(this.a*this.k0)),a.x=b,a.y=c,a},c.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(a,b,c){var d=a("../common/adjust_lon");c.init=function(){},c.forward=function(a){var b=a.x,c=a.y,e=d(b-this.long0),f=this.x0+this.a*e,g=this.y0+this.a*Math.log(Math.tan(Math.PI/4+c/2.5))*1.25;return a.x=f,a.y=g,a},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b=d(this.long0+a.x/this.a),c=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Math.PI/4);return a.x=b,a.y=c,a},c.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(a,b,c){var d=a("../common/adjust_lon"),e=1e-10;c.init=function(){},c.forward=function(a){for(var b=a.x,c=a.y,f=d(b-this.long0),g=c,h=Math.PI*Math.sin(c),i=0;!0;i++){var j=-(g+Math.sin(g)-h)/(1+Math.cos(g));if(g+=j,Math.abs(j)<e)break}g/=2,Math.PI/2-Math.abs(c)<e&&(f=0);var k=.900316316158*this.a*f*Math.cos(g)+this.x0,l=1.4142135623731*this.a*Math.sin(g)+this.y0;return a.x=k,a.y=l,a},c.inverse=function(a){var b,c;a.x-=this.x0,a.y-=this.y0,c=a.y/(1.4142135623731*this.a),Math.abs(c)>.999999999999&&(c=.999999999999),b=Math.asin(c);var e=d(this.long0+a.x/(.900316316158*this.a*Math.cos(b)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),c=(2*b+Math.sin(2*b))/Math.PI,Math.abs(c)>1&&(c=1);var f=Math.asin(c);return a.x=e,a.y=f,a},c.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(a,b,c){var d=484813681109536e-20;c.iterations=1,c.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},c.forward=function(a){var b,c=a.x,e=a.y,f=e-this.lat0,g=c-this.long0,h=f/d*1e-5,i=g,j=1,k=0;for(b=1;10>=b;b++)j*=h,k+=this.A[b]*j;var l,m,n=k,o=i,p=1,q=0,r=0,s=0;for(b=1;6>=b;b++)l=p*n-q*o,m=q*n+p*o,p=l,q=m,r=r+this.B_re[b]*p-this.B_im[b]*q,s=s+this.B_im[b]*p+this.B_re[b]*q;return a.x=s*this.a+this.x0,a.y=r*this.a+this.y0,a},c.inverse=function(a){var b,c,e,f=a.x,g=a.y,h=f-this.x0,i=g-this.y0,j=i/this.a,k=h/this.a,l=1,m=0,n=0,o=0;for(b=1;6>=b;b++)c=l*j-m*k,e=m*j+l*k,l=c,m=e,n=n+this.C_re[b]*l-this.C_im[b]*m,o=o+this.C_im[b]*l+this.C_re[b]*m;for(var p=0;p<this.iterations;p++){var q,r,s=n,t=o,u=j,v=k;for(b=2;6>=b;b++)q=s*n-t*o,r=t*n+s*o,s=q,t=r,u+=(b-1)*(this.B_re[b]*s-this.B_im[b]*t),v+=(b-1)*(this.B_im[b]*s+this.B_re[b]*t);s=1,t=0;var w=this.B_re[1],x=this.B_im[1];for(b=2;6>=b;b++)q=s*n-t*o,r=t*n+s*o,s=q,t=r,w+=b*(this.B_re[b]*s-this.B_im[b]*t),x+=b*(this.B_im[b]*s+this.B_re[b]*t);var y=w*w+x*x;n=(u*w+v*x)/y,o=(v*w-u*x)/y}var z=n,A=o,B=1,C=0;for(b=1;9>=b;b++)B*=z,C+=this.D[b]*B;var D=this.lat0+C*d*1e5,E=this.long0+A;return a.x=E,a.y=D,a},c.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(a,b,c){var d=a("../common/tsfnz"),e=a("../common/adjust_lon"),f=a("../common/phi2z"),g=Math.PI/2,h=Math.PI/4,i=1e-10;c.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var a=Math.sin(this.lat0),b=Math.cos(this.lat0),c=this.e*a;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(b,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-c*c);var f=d(this.e,this.lat0,a),g=this.bl/b*Math.sqrt((1-this.es)/(1-c*c));1>g*g&&(g=1);var h,i;if(isNaN(this.longc)){var j=d(this.e,this.lat1,Math.sin(this.lat1)),k=d(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(g+Math.sqrt(g*g-1))*Math.pow(f,this.bl):this.el=(g-Math.sqrt(g*g-1))*Math.pow(f,this.bl);var l=Math.pow(j,this.bl),m=Math.pow(k,this.bl);h=this.el/l,i=.5*(h-1/h);var n=(this.el*this.el-m*l)/(this.el*this.el+m*l),o=(m-l)/(m+l),p=e(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(n*Math.tan(.5*this.bl*p)/o)/this.bl,this.long0=e(this.long0);var q=e(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*q)/i),this.alpha=Math.asin(g*Math.sin(this.gamma0))}else h=this.lat0>=0?g+Math.sqrt(g*g-1):g-Math.sqrt(g*g-1),this.el=h*Math.pow(f,this.bl),i=.5*(h-1/h),this.gamma0=Math.asin(Math.sin(this.alpha)/g),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(g*g-1),Math.cos(this.alpha))},c.forward=function(a){var b,c,f,j=a.x,k=a.y,l=e(j-this.long0);if(Math.abs(Math.abs(k)-g)<=i)f=k>0?-1:1,c=this.al/this.bl*Math.log(Math.tan(h+f*this.gamma0*.5)),b=-1*f*g*this.al/this.bl;else{var m=d(this.e,k,Math.sin(k)),n=this.el/Math.pow(m,this.bl),o=.5*(n-1/n),p=.5*(n+1/n),q=Math.sin(this.bl*l),r=(o*Math.sin(this.gamma0)-q*Math.cos(this.gamma0))/p;c=Math.abs(Math.abs(r)-1)<=i?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-r)/(1+r))/this.bl,b=Math.abs(Math.cos(this.bl*l))<=i?this.al*this.bl*l:this.al*Math.atan2(o*Math.cos(this.gamma0)+q*Math.sin(this.gamma0),Math.cos(this.bl*l))/this.bl}return this.no_rot?(a.x=this.x0+b,a.y=this.y0+c):(b-=this.uc,a.x=this.x0+c*Math.cos(this.alpha)+b*Math.sin(this.alpha),a.y=this.y0+b*Math.cos(this.alpha)-c*Math.sin(this.alpha)),a},c.inverse=function(a){var b,c;this.no_rot?(c=a.y-this.y0,b=a.x-this.x0):(c=(a.x-this.x0)*Math.cos(this.alpha)-(a.y-this.y0)*Math.sin(this.alpha),b=(a.y-this.y0)*Math.cos(this.alpha)+(a.x-this.x0)*Math.sin(this.alpha),b+=this.uc);var d=Math.exp(-1*this.bl*c/this.al),h=.5*(d-1/d),j=.5*(d+1/d),k=Math.sin(this.bl*b/this.al),l=(k*Math.cos(this.gamma0)+h*Math.sin(this.gamma0))/j,m=Math.pow(this.el/Math.sqrt((1+l)/(1-l)),1/this.bl);return Math.abs(l-1)<i?(a.x=this.long0,a.y=g):Math.abs(l+1)<i?(a.x=this.long0,a.y=-1*g):(a.y=f(this.e,m),a.x=e(this.long0-Math.atan2(h*Math.cos(this.gamma0)-k*Math.sin(this.gamma0),Math.cos(this.bl*b/this.al))/this.bl)),a},c.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(a,b,c){var d=a("../common/e0fn"),e=a("../common/e1fn"),f=a("../common/e2fn"),g=a("../common/e3fn"),h=a("../common/adjust_lon"),i=a("../common/adjust_lat"),j=a("../common/mlfn"),k=1e-10,l=a("../common/gN"),m=20;c.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*j(this.e0,this.e1,this.e2,this.e3,this.lat0)},c.forward=function(a){var b,c,d,e=a.x,f=a.y,g=h(e-this.long0);if(d=g*Math.sin(f),this.sphere)Math.abs(f)<=k?(b=this.a*g,c=-1*this.a*this.lat0):(b=this.a*Math.sin(d)/Math.tan(f),c=this.a*(i(f-this.lat0)+(1-Math.cos(d))/Math.tan(f)));else if(Math.abs(f)<=k)b=this.a*g,c=-1*this.ml0;else{var m=l(this.a,this.e,Math.sin(f))/Math.tan(f);b=m*Math.sin(d),c=this.a*j(this.e0,this.e1,this.e2,this.e3,f)-this.ml0+m*(1-Math.cos(d))}return a.x=b+this.x0,a.y=c+this.y0,a},c.inverse=function(a){var b,c,d,e,f,g,i,l,n;if(d=a.x-this.x0,e=a.y-this.y0,this.sphere)if(Math.abs(e+this.a*this.lat0)<=k)b=h(d/this.a+this.long0),c=0;else{g=this.lat0+e/this.a,i=d*d/this.a/this.a+g*g,l=g;var o;for(f=m;f;--f)if(o=Math.tan(l),n=-1*(g*(l*o+1)-l-.5*(l*l+i)*o)/((l-g)/o-1),l+=n,Math.abs(n)<=k){c=l;break}b=h(this.long0+Math.asin(d*Math.tan(l)/this.a)/Math.sin(c))}else if(Math.abs(e+this.ml0)<=k)c=0,b=h(this.long0+d/this.a);else{g=(this.ml0+e)/this.a,i=d*d/this.a/this.a+g*g,l=g;var p,q,r,s,t;for(f=m;f;--f)if(t=this.e*Math.sin(l),p=Math.sqrt(1-t*t)*Math.tan(l),q=this.a*j(this.e0,this.e1,this.e2,this.e3,l),r=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),s=q/this.a,n=(g*(p*s+1)-s-.5*p*(s*s+i))/(this.es*Math.sin(2*l)*(s*s+i-2*g*s)/(4*p)+(g-s)*(p*r-2/Math.sin(2*l))-r),l-=n,Math.abs(n)<=k){c=l;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(c),2))*Math.tan(c),b=h(this.long0+Math.asin(d*p/this.a)/Math.sin(c))}return a.x=b,a.y=c,a},c.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],58:[function(a,b,c){var d=a("../common/adjust_lon"),e=a("../common/adjust_lat"),f=a("../common/pj_enfn"),g=20,h=a("../common/pj_mlfn"),i=a("../common/pj_inv_mlfn"),j=Math.PI/2,k=1e-10,l=a("../common/asinz");c.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=f(this.es)},c.forward=function(a){var b,c,e=a.x,f=a.y;if(e=d(e-this.long0),this.sphere){if(this.m)for(var i=this.n*Math.sin(f),j=g;j;--j){var l=(this.m*f+Math.sin(f)-i)/(this.m+Math.cos(f));if(f-=l,Math.abs(l)<k)break}else f=1!==this.n?Math.asin(this.n*Math.sin(f)):f;b=this.a*this.C_x*e*(this.m+Math.cos(f)),c=this.a*this.C_y*f}else{var m=Math.sin(f),n=Math.cos(f);c=this.a*h(f,m,n,this.en),b=this.a*e*n/Math.sqrt(1-this.es*m*m)}return a.x=b,a.y=c,a},c.inverse=function(a){var b,c,f,g;return a.x-=this.x0,f=a.x/this.a,a.y-=this.y0,b=a.y/this.a,this.sphere?(b/=this.C_y,f/=this.C_x*(this.m+Math.cos(b)),this.m?b=l((this.m*b+Math.sin(b))/this.n):1!==this.n&&(b=l(Math.sin(b)/this.n)),f=d(f+this.long0),b=e(b)):(b=i(a.y/this.a,this.es,this.en),g=Math.abs(b),j>g?(g=Math.sin(b),c=this.long0+a.x*Math.sqrt(1-this.es*g*g)/(this.a*Math.cos(b)),f=d(c)):j>g-k&&(f=this.long0)),a.x=f,a.y=b,a},c.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],59:[function(a,b,c){c.init=function(){var a=this.lat0;this.lambda0=this.long0;var b=Math.sin(a),c=this.a,d=this.rf,e=1/d,f=2*e-Math.pow(e,2),g=this.e=Math.sqrt(f);this.R=this.k0*c*Math.sqrt(1-f)/(1-f*Math.pow(b,2)),this.alpha=Math.sqrt(1+f/(1-f)*Math.pow(Math.cos(a),4)),this.b0=Math.asin(b/this.alpha);var h=Math.log(Math.tan(Math.PI/4+this.b0/2)),i=Math.log(Math.tan(Math.PI/4+a/2)),j=Math.log((1+g*b)/(1-g*b));this.K=h-this.alpha*i+this.alpha*g/2*j},c.forward=function(a){var b=Math.log(Math.tan(Math.PI/4-a.y/2)),c=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),d=-this.alpha*(b+c)+this.K,e=2*(Math.atan(Math.exp(d))-Math.PI/4),f=this.alpha*(a.x-this.lambda0),g=Math.atan(Math.sin(f)/(Math.sin(this.b0)*Math.tan(e)+Math.cos(this.b0)*Math.cos(f))),h=Math.asin(Math.cos(this.b0)*Math.sin(e)-Math.sin(this.b0)*Math.cos(e)*Math.cos(f));return a.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,a.x=this.R*g+this.x0,a},c.inverse=function(a){for(var b=a.x-this.x0,c=a.y-this.y0,d=b/this.R,e=2*(Math.atan(Math.exp(c/this.R))-Math.PI/4),f=Math.asin(Math.cos(this.b0)*Math.sin(e)+Math.sin(this.b0)*Math.cos(e)*Math.cos(d)),g=Math.atan(Math.sin(d)/(Math.cos(this.b0)*Math.cos(d)-Math.sin(this.b0)*Math.tan(e))),h=this.lambda0+g/this.alpha,i=0,j=f,k=-1e3,l=0;Math.abs(j-k)>1e-7;){if(++l>20)return;i=1/this.alpha*(Math.log(Math.tan(Math.PI/4+f/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(j))/2)),k=j,j=2*Math.atan(Math.exp(i))-Math.PI/2}return a.x=h,a.y=j,a},c.names=["somerc"]},{}],60:[function(a,b,c){var d=Math.PI/2,e=1e-10,f=a("../common/sign"),g=a("../common/msfnz"),h=a("../common/tsfnz"),i=a("../common/phi2z"),j=a("../common/adjust_lon");c.ssfn_=function(a,b,c){return b*=c,Math.tan(.5*(d+a))*Math.pow((1-b)/(1+b),.5*c)},c.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=e&&(this.k0=.5*(1+f(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=e&&(this.k0=.5*this.cons*g(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/h(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=g(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},c.forward=function(a){var b,c,f,g,i,k,l=a.x,m=a.y,n=Math.sin(m),o=Math.cos(m),p=j(l-this.long0);return Math.abs(Math.abs(l-this.long0)-Math.PI)<=e&&Math.abs(m+this.lat0)<=e?(a.x=NaN,a.y=NaN,a):this.sphere?(b=2*this.k0/(1+this.sinlat0*n+this.coslat0*o*Math.cos(p)),a.x=this.a*b*o*Math.sin(p)+this.x0,a.y=this.a*b*(this.coslat0*n-this.sinlat0*o*Math.cos(p))+this.y0,a):(c=2*Math.atan(this.ssfn_(m,n,this.e))-d,g=Math.cos(c),f=Math.sin(c),Math.abs(this.coslat0)<=e?(i=h(this.e,m*this.con,this.con*n),k=2*this.a*this.k0*i/this.cons,a.x=this.x0+k*Math.sin(l-this.long0),a.y=this.y0-this.con*k*Math.cos(l-this.long0),a):(Math.abs(this.sinlat0)<e?(b=2*this.a*this.k0/(1+g*Math.cos(p)),a.y=b*f):(b=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*f+this.cosX0*g*Math.cos(p))),a.y=b*(this.cosX0*f-this.sinX0*g*Math.cos(p))+this.y0),a.x=b*g*Math.sin(p)+this.x0,a))},c.inverse=function(a){a.x-=this.x0,a.y-=this.y0;var b,c,f,g,h,k=Math.sqrt(a.x*a.x+a.y*a.y);if(this.sphere){var l=2*Math.atan(k/(.5*this.a*this.k0));return b=this.long0,c=this.lat0,e>=k?(a.x=b,a.y=c,a):(c=Math.asin(Math.cos(l)*this.sinlat0+a.y*Math.sin(l)*this.coslat0/k),b=j(Math.abs(this.coslat0)<e?this.lat0>0?this.long0+Math.atan2(a.x,-1*a.y):this.long0+Math.atan2(a.x,a.y):this.long0+Math.atan2(a.x*Math.sin(l),k*this.coslat0*Math.cos(l)-a.y*this.sinlat0*Math.sin(l))),a.x=b,a.y=c,a)}if(Math.abs(this.coslat0)<=e){if(e>=k)return c=this.lat0,b=this.long0,a.x=b,a.y=c,a;a.x*=this.con,a.y*=this.con,f=k*this.cons/(2*this.a*this.k0),c=this.con*i(this.e,f),b=this.con*j(this.con*this.long0+Math.atan2(a.x,-1*a.y))}else g=2*Math.atan(k*this.cosX0/(2*this.a*this.k0*this.ms1)),b=this.long0,e>=k?h=this.X0:(h=Math.asin(Math.cos(g)*this.sinX0+a.y*Math.sin(g)*this.cosX0/k),b=j(this.long0+Math.atan2(a.x*Math.sin(g),k*this.cosX0*Math.cos(g)-a.y*this.sinX0*Math.sin(g)))),c=-1*i(this.e,Math.tan(.5*(d+h)));return a.x=b,a.y=c,a},c.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],61:[function(a,b,c){var d=a("./gauss"),e=a("../common/adjust_lon");c.init=function(){d.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},c.forward=function(a){var b,c,f,g;return a.x=e(a.x-this.long0),d.forward.apply(this,[a]),b=Math.sin(a.y),c=Math.cos(a.y),f=Math.cos(a.x),g=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*f),a.x=g*c*Math.sin(a.x),a.y=g*(this.cosc0*b-this.sinc0*c*f),a.x=this.a*a.x+this.x0,a.y=this.a*a.y+this.y0,a},c.inverse=function(a){var b,c,f,g,h;if(a.x=(a.x-this.x0)/this.a,a.y=(a.y-this.y0)/this.a,a.x/=this.k0,a.y/=this.k0,h=Math.sqrt(a.x*a.x+a.y*a.y)){var i=2*Math.atan2(h,this.R2);b=Math.sin(i),c=Math.cos(i),g=Math.asin(c*this.sinc0+a.y*b*this.cosc0/h),f=Math.atan2(a.x*b,h*this.cosc0*c-a.y*this.sinc0*b)}else g=this.phic0,f=0;return a.x=f,a.y=g,d.inverse.apply(this,[a]),a.x=e(a.x+this.long0),a},c.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],62:[function(a,b,c){var d=a("../common/e0fn"),e=a("../common/e1fn"),f=a("../common/e2fn"),g=a("../common/e3fn"),h=a("../common/mlfn"),i=a("../common/adjust_lon"),j=Math.PI/2,k=1e-10,l=a("../common/sign"),m=a("../common/asinz");c.init=function(){this.e0=d(this.es),this.e1=e(this.es),this.e2=f(this.es),this.e3=g(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},c.forward=function(a){var b,c,d,e=a.x,f=a.y,g=i(e-this.long0),j=Math.sin(f),k=Math.cos(f);if(this.sphere){var l=k*Math.sin(g);if(Math.abs(Math.abs(l)-1)<1e-10)return 93;c=.5*this.a*this.k0*Math.log((1+l)/(1-l)),b=Math.acos(k*Math.cos(g)/Math.sqrt(1-l*l)),0>f&&(b=-b),d=this.a*this.k0*(b-this.lat0)}else{var m=k*g,n=Math.pow(m,2),o=this.ep2*Math.pow(k,2),p=Math.tan(f),q=Math.pow(p,2);b=1-this.es*Math.pow(j,2);var r=this.a/Math.sqrt(b),s=this.a*h(this.e0,this.e1,this.e2,this.e3,f);c=this.k0*r*m*(1+n/6*(1-q+o+n/20*(5-18*q+Math.pow(q,2)+72*o-58*this.ep2)))+this.x0,d=this.k0*(s-this.ml0+r*p*(n*(.5+n/24*(5-q+9*o+4*Math.pow(o,2)+n/30*(61-58*q+Math.pow(q,2)+600*o-330*this.ep2)))))+this.y0}return a.x=c,a.y=d,a},c.inverse=function(a){var b,c,d,e,f,g,h=6;if(this.sphere){var n=Math.exp(a.x/(this.a*this.k0)),o=.5*(n-1/n),p=this.lat0+a.y/(this.a*this.k0),q=Math.cos(p);b=Math.sqrt((1-q*q)/(1+o*o)),f=m(b),0>p&&(f=-f),g=0===o&&0===q?this.long0:i(Math.atan2(o,q)+this.long0)}else{var r=a.x-this.x0,s=a.y-this.y0;for(b=(this.ml0+s/this.k0)/this.a,c=b,e=0;!0&&(d=(b+this.e1*Math.sin(2*c)-this.e2*Math.sin(4*c)+this.e3*Math.sin(6*c))/this.e0-c,c+=d,!(Math.abs(d)<=k));e++)if(e>=h)return 95;if(Math.abs(c)<j){var t=Math.sin(c),u=Math.cos(c),v=Math.tan(c),w=this.ep2*Math.pow(u,2),x=Math.pow(w,2),y=Math.pow(v,2),z=Math.pow(y,2);b=1-this.es*Math.pow(t,2);var A=this.a/Math.sqrt(b),B=A*(1-this.es)/b,C=r/(A*this.k0),D=Math.pow(C,2);f=c-A*v*D/B*(.5-D/24*(5+3*y+10*w-4*x-9*this.ep2-D/30*(61+90*y+298*w+45*z-252*this.ep2-3*x))),g=i(this.long0+C*(1-D/6*(1+2*y+w-D/20*(5-2*w+28*y-3*x+8*this.ep2+24*z)))/u)}else f=j*l(s),g=this.long0}return a.x=g,a.y=f,a},c.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],63:[function(a,b,c){var d=.017453292519943295,e=a("./tmerc");c.dependsOn="tmerc",c.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*d,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,e.init.apply(this),this.forward=e.forward,this.inverse=e.inverse)},c.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":62}],64:[function(a,b,c){var d=a("../common/adjust_lon"),e=Math.PI/2,f=1e-10,g=a("../common/asinz");c.init=function(){this.R=this.a},c.forward=function(a){var b,c,h=a.x,i=a.y,j=d(h-this.long0);Math.abs(i)<=f&&(b=this.x0+this.R*j,c=this.y0);var k=g(2*Math.abs(i/Math.PI));(Math.abs(j)<=f||Math.abs(Math.abs(i)-e)<=f)&&(b=this.x0,c=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*k):this.y0+Math.PI*this.R*-Math.tan(.5*k));var l=.5*Math.abs(Math.PI/j-j/Math.PI),m=l*l,n=Math.sin(k),o=Math.cos(k),p=o/(n+o-1),q=p*p,r=p*(2/n-1),s=r*r,t=Math.PI*this.R*(l*(p-s)+Math.sqrt(m*(p-s)*(p-s)-(s+m)*(q-s)))/(s+m);0>j&&(t=-t),b=this.x0+t;var u=m+p;return t=Math.PI*this.R*(r*u-l*Math.sqrt((s+m)*(m+1)-u*u))/(s+m),c=i>=0?this.y0+t:this.y0-t,a.x=b,a.y=c,a},c.inverse=function(a){var b,c,e,g,h,i,j,k,l,m,n,o,p;return a.x-=this.x0,a.y-=this.y0,n=Math.PI*this.R,e=a.x/n,g=a.y/n,h=e*e+g*g,i=-Math.abs(g)*(1+h),j=i-2*g*g+e*e,k=-2*i+1+2*g*g+h*h,p=g*g/k+(2*j*j*j/k/k/k-9*i*j/k/k)/27,l=(i-j*j/3/k)/k,m=2*Math.sqrt(-l/3),n=3*p/l/m,Math.abs(n)>1&&(n=n>=0?1:-1),o=Math.acos(n)/3,c=a.y>=0?(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI:-(-m*Math.cos(o+Math.PI/3)-j/3/k)*Math.PI,b=Math.abs(e)<f?this.long0:d(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(e*e-g*g)+h*h))/2/e),a.x=b,a.y=c,a},c.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],65:[function(a,b,c){var d=.017453292519943295,e=57.29577951308232,f=1,g=2,h=a("./datum_transform"),i=a("./adjust_axis"),j=a("./Proj"),k=a("./common/toPoint");b.exports=function l(a,b,c){function m(a,b){return(a.datum.datum_type===f||a.datum.datum_type===g)&&"WGS84"!==b.datumCode}var n;return Array.isArray(c)&&(c=k(c)),a.datum&&b.datum&&(m(a,b)||m(b,a))&&(n=new j("WGS84"),l(a,n,c),a=n),"enu"!==a.axis&&i(a,!1,c),"longlat"===a.projName?(c.x*=d,c.y*=d):(a.to_meter&&(c.x*=a.to_meter,c.y*=a.to_meter),a.inverse(c)),a.from_greenwich&&(c.x+=a.from_greenwich),c=h(a.datum,b.datum,c),b.from_greenwich&&(c.x-=b.from_greenwich),"longlat"===b.projName?(c.x*=e,c.y*=e):(b.forward(c),b.to_meter&&(c.x/=b.to_meter,c.y/=b.to_meter)),"enu"!==b.axis&&i(b,!0,c),c}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],66:[function(a,b,c){function d(a,b,c){a[b]=c.map(function(a){var b={};return e(a,b),b}).reduce(function(a,b){return j(a,b)},{})}function e(a,b){var c;return Array.isArray(a)?(c=a.shift(),"PARAMETER"===c&&(c=a.shift()),1===a.length?Array.isArray(a[0])?(b[c]={},e(a[0],b[c])):b[c]=a[0]:a.length?"TOWGS84"===c?b[c]=a:(b[c]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(c)>-1?(b[c]={name:a[0].toLowerCase(),convert:a[1]},3===a.length&&(b[c].auth=a[2])):"SPHEROID"===c?(b[c]={name:a[0],a:a[1],rf:a[2]},4===a.length&&(b[c].auth=a[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(c)>-1?(a[0]=["name",a[0]],d(b,c,a)):a.every(function(a){return Array.isArray(a)})?d(b,c,a):e(a,b[c])):b[c]=!0,void 0):void(b[a]=!0)}function f(a,b){var c=b[0],d=b[1];!(c in a)&&d in a&&(a[c]=a[d],3===b.length&&(a[c]=b[2](a[c])))}function g(a){return a*i}function h(a){function b(b){var c=a.to_meter||1;return parseFloat(b,10)*c}"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):"object"==typeof a.PROJECTION?a.projName=Object.keys(a.PROJECTION)[0]:a.projName=a.PROJECTION,a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),
a.UNIT.convert&&("GEOGCS"===a.type?a.DATUM&&a.DATUM.SPHEROID&&(a.to_meter=parseFloat(a.UNIT.convert,10)*a.DATUM.SPHEROID.a):a.to_meter=parseFloat(a.UNIT.convert,10))),a.GEOGCS&&(a.GEOGCS.DATUM?a.datumCode=a.GEOGCS.DATUM.name.toLowerCase():a.datumCode=a.GEOGCS.name.toLowerCase(),"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===a.datumCode||"new_zealand_1949"===a.datumCode)&&(a.datumCode="nzgd49"),"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode="wgs84"),"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6)),"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72"),a.GEOGCS.DATUM&&a.GEOGCS.DATUM.SPHEROID&&(a.ellps=a.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=a.GEOGCS.DATUM.SPHEROID.a,a.rf=parseFloat(a.GEOGCS.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36")),a.b&&!isFinite(a.b)&&(a.b=a.a);var c=function(b){return f(a,b)},d=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",g],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",g],["x0","false_easting",b],["y0","false_northing",b],["long0","central_meridian",g],["lat0","latitude_of_origin",g],["lat0","standard_parallel_1",g],["lat1","standard_parallel_1",g],["lat2","standard_parallel_2",g],["alpha","azimuth",g],["srsCode","name"]];d.forEach(c),a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.projName&&"Lambert_Azimuthal_Equal_Area"!==a.projName||(a.long0=a.longc),a.lat_ts||!a.lat1||"Stereographic_South_Pole"!==a.projName&&"Polar Stereographic (variant B)"!==a.projName||(a.lat0=g(a.lat1>0?90:-90),a.lat_ts=a.lat1)}var i=.017453292519943295,j=a("./extend");b.exports=function(a,b){var c=JSON.parse((","+a).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),d=c.shift(),f=c.shift();c.unshift(["name",f]),c.unshift(["type",d]),c.unshift("output");var g={};return e(c,g),h(g.output),j(b,g.output)}},{"./extend":34}],67:[function(a,b,c){function d(a){return a*(Math.PI/180)}function e(a){return 180*(a/Math.PI)}function f(a){var b,c,e,f,g,i,j,k,l,m=a.lat,n=a.lon,o=6378137,p=.00669438,q=.9996,r=d(m),s=d(n);l=Math.floor((n+180)/6)+1,180===n&&(l=60),m>=56&&64>m&&n>=3&&12>n&&(l=32),m>=72&&84>m&&(n>=0&&9>n?l=31:n>=9&&21>n?l=33:n>=21&&33>n?l=35:n>=33&&42>n&&(l=37)),b=6*(l-1)-180+3,k=d(b),c=p/(1-p),e=o/Math.sqrt(1-p*Math.sin(r)*Math.sin(r)),f=Math.tan(r)*Math.tan(r),g=c*Math.cos(r)*Math.cos(r),i=Math.cos(r)*(s-k),j=o*((1-p/4-3*p*p/64-5*p*p*p/256)*r-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*r)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*r)-35*p*p*p/3072*Math.sin(6*r));var t=q*e*(i+(1-f+g)*i*i*i/6+(5-18*f+f*f+72*g-58*c)*i*i*i*i*i/120)+5e5,u=q*(j+e*Math.tan(r)*(i*i/2+(5-f+9*g+4*g*g)*i*i*i*i/24+(61-58*f+f*f+600*g-330*c)*i*i*i*i*i*i/720));return 0>m&&(u+=1e7),{northing:Math.round(u),easting:Math.round(t),zoneNumber:l,zoneLetter:h(m)}}function g(a){var b=a.northing,c=a.easting,d=a.zoneLetter,f=a.zoneNumber;if(0>f||f>60)return null;var h,i,j,k,l,m,n,o,p,q,r=.9996,s=6378137,t=.00669438,u=(1-Math.sqrt(1-t))/(1+Math.sqrt(1-t)),v=c-5e5,w=b;"N">d&&(w-=1e7),o=6*(f-1)-180+3,h=t/(1-t),n=w/r,p=n/(s*(1-t/4-3*t*t/64-5*t*t*t/256)),q=p+(3*u/2-27*u*u*u/32)*Math.sin(2*p)+(21*u*u/16-55*u*u*u*u/32)*Math.sin(4*p)+151*u*u*u/96*Math.sin(6*p),i=s/Math.sqrt(1-t*Math.sin(q)*Math.sin(q)),j=Math.tan(q)*Math.tan(q),k=h*Math.cos(q)*Math.cos(q),l=s*(1-t)/Math.pow(1-t*Math.sin(q)*Math.sin(q),1.5),m=v/(i*r);var x=q-i*Math.tan(q)/l*(m*m/2-(5+3*j+10*k-4*k*k-9*h)*m*m*m*m/24+(61+90*j+298*k+45*j*j-252*h-3*k*k)*m*m*m*m*m*m/720);x=e(x);var y=(m-(1+2*j+k)*m*m*m/6+(5-2*k+28*j-3*k*k+8*h+24*j*j)*m*m*m*m*m/120)/Math.cos(q);y=o+e(y);var z;if(a.accuracy){var A=g({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber});z={top:A.lat,right:A.lon,bottom:x,left:y}}else z={lat:x,lon:y};return z}function h(a){var b="Z";return 84>=a&&a>=72?b="X":72>a&&a>=64?b="W":64>a&&a>=56?b="V":56>a&&a>=48?b="U":48>a&&a>=40?b="T":40>a&&a>=32?b="S":32>a&&a>=24?b="R":24>a&&a>=16?b="Q":16>a&&a>=8?b="P":8>a&&a>=0?b="N":0>a&&a>=-8?b="M":-8>a&&a>=-16?b="L":-16>a&&a>=-24?b="K":-24>a&&a>=-32?b="J":-32>a&&a>=-40?b="H":-40>a&&a>=-48?b="G":-48>a&&a>=-56?b="F":-56>a&&a>=-64?b="E":-64>a&&a>=-72?b="D":-72>a&&a>=-80&&(b="C"),b}function i(a,b){var c="00000"+a.easting,d="00000"+a.northing;return a.zoneNumber+a.zoneLetter+j(a.easting,a.northing,a.zoneNumber)+c.substr(c.length-5,b)+d.substr(d.length-5,b)}function j(a,b,c){var d=k(c),e=Math.floor(a/1e5),f=Math.floor(b/1e5)%20;return l(e,f,d)}function k(a){var b=a%q;return 0===b&&(b=q),b}function l(a,b,c){var d=c-1,e=r.charCodeAt(d),f=s.charCodeAt(d),g=e+a-1,h=f+b,i=!1;g>x&&(g=g-x+t-1,i=!0),(g===u||u>e&&g>u||(g>u||u>e)&&i)&&g++,(g===v||v>e&&g>v||(g>v||v>e)&&i)&&(g++,g===u&&g++),g>x&&(g=g-x+t-1),h>w?(h=h-w+t-1,i=!0):i=!1,(h===u||u>f&&h>u||(h>u||u>f)&&i)&&h++,(h===v||v>f&&h>v||(h>v||v>f)&&i)&&(h++,h===u&&h++),h>w&&(h=h-w+t-1);var j=String.fromCharCode(g)+String.fromCharCode(h);return j}function m(a){if(a&&0===a.length)throw"MGRSPoint coverting from nothing";for(var b,c=a.length,d=null,e="",f=0;!/[A-Z]/.test(b=a.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+a;e+=b,f++}var g=parseInt(e,10);if(0===f||f+3>c)throw"MGRSPoint bad conversion from: "+a;var h=a.charAt(f++);if("A">=h||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+a;d=a.substring(f,f+=2);for(var i=k(g),j=n(d.charAt(0),i),l=o(d.charAt(1),i);l<p(h);)l+=2e6;var m=c-f;if(m%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+a;var q,r,s,t,u,v=m/2,w=0,x=0;return v>0&&(q=1e5/Math.pow(10,v),r=a.substring(f,f+v),w=parseFloat(r)*q,s=a.substring(f+v),x=parseFloat(s)*q),t=w+j,u=x+l,{easting:t,northing:u,zoneLetter:h,zoneNumber:g,accuracy:q}}function n(a,b){for(var c=r.charCodeAt(b-1),d=1e5,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&&c++,c===v&&c++,c>x){if(e)throw"Bad character: "+a;c=t,e=!0}d+=1e5}return d}function o(a,b){if(a>"V")throw"MGRSPoint given invalid Northing "+a;for(var c=s.charCodeAt(b-1),d=0,e=!1;c!==a.charCodeAt(0);){if(c++,c===u&&c++,c===v&&c++,c>w){if(e)throw"Bad character: "+a;c=t,e=!0}d+=1e5}return d}function p(a){var b;switch(a){case"C":b=11e5;break;case"D":b=2e6;break;case"E":b=28e5;break;case"F":b=37e5;break;case"G":b=46e5;break;case"H":b=55e5;break;case"J":b=64e5;break;case"K":b=73e5;break;case"L":b=82e5;break;case"M":b=91e5;break;case"N":b=0;break;case"P":b=8e5;break;case"Q":b=17e5;break;case"R":b=26e5;break;case"S":b=35e5;break;case"T":b=44e5;break;case"U":b=53e5;break;case"V":b=62e5;break;case"W":b=7e6;break;case"X":b=79e5;break;default:b=-1}if(b>=0)return b;throw"Invalid zone letter: "+a}var q=6,r="AJSAJS",s="AFAFAF",t=65,u=73,v=79,w=86,x=90;c.forward=function(a,b){return b=b||5,i(f({lat:a[1],lon:a[0]}),b)},c.inverse=function(a){var b=g(m(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat,b.lon,b.lat]:[b.left,b.bottom,b.right,b.top]},c.toPoint=function(a){var b=g(m(a.toUpperCase()));return b.lat&&b.lon?[b.lon,b.lat]:[(b.left+b.right)/2,(b.top+b.bottom)/2]}},{}],68:[function(a,b,c){b.exports={name:"proj4",version:"2.3.14",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"}}},{}],"./includedProjections":[function(a,b,c){b.exports=a("hTEDpn")},{}],hTEDpn:[function(a,b,c){var d=[a("./lib/projections/tmerc"),a("./lib/projections/utm"),a("./lib/projections/sterea"),a("./lib/projections/stere"),a("./lib/projections/somerc"),a("./lib/projections/omerc"),a("./lib/projections/lcc"),a("./lib/projections/krovak"),a("./lib/projections/cass"),a("./lib/projections/laea"),a("./lib/projections/aea"),a("./lib/projections/gnom"),a("./lib/projections/cea"),a("./lib/projections/eqc"),a("./lib/projections/poly"),a("./lib/projections/nzmg"),a("./lib/projections/mill"),a("./lib/projections/sinu"),a("./lib/projections/moll"),a("./lib/projections/eqdc"),a("./lib/projections/vandg"),a("./lib/projections/aeqd")];b.exports=function(proj4){d.forEach(function(a){proj4.Proj.projections.add(a)})}},{"./lib/projections/aea":40,"./lib/projections/aeqd":41,"./lib/projections/cass":42,"./lib/projections/cea":43,"./lib/projections/eqc":44,"./lib/projections/eqdc":45,"./lib/projections/gnom":47,"./lib/projections/krovak":48,"./lib/projections/laea":49,"./lib/projections/lcc":50,"./lib/projections/mill":53,"./lib/projections/moll":54,"./lib/projections/nzmg":55,"./lib/projections/omerc":56,"./lib/projections/poly":57,"./lib/projections/sinu":58,"./lib/projections/somerc":59,"./lib/projections/stere":60,"./lib/projections/sterea":61,"./lib/projections/tmerc":62,"./lib/projections/utm":63,"./lib/projections/vandg":64}]},{},[36])(36)});

!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return t>n?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function u(n){return!isNaN(n)}function i(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function a(n){return n.length}function o(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function s(n){return(n+="")===xa||n[0]===ba?ba+n:n}function f(n){return(n+="")[0]===ba?n.slice(1):n}function h(n){return s(n)in this._}function g(n){return(n=s(n))in this._&&delete this._[n]}function p(){var n=[];for(var t in this._)n.push(f(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=_a.length;r>e;++e){var u=_a[e]+t;if(u in n)return u}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,u){var i,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,i=e.indexOf(a)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function S(){oa.event.preventDefault()}function k(){for(var n,t=oa.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=oa.event;u.target=n,oa.event=u,t[u.type].apply(e,r)}finally{oa.event=i}}},t}function E(n){return Sa(n,Aa),n}function A(n){return"function"==typeof n?n:function(){return ka(n,this)}}function C(n){return"function"==typeof n?n:function(){return Na(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=oa.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?o:a:n.local?i:u}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+oa.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=T(n).map(D);var u=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",L(u+" "+n))):e.setAttribute("class",L(u.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===Ca&&t.documentElement.namespaceURI===Ca?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=oa.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return Ea(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],a=0,o=i.length;o>a;a++)(u=i[a])&&t(u,a,e);return n}function Z(n){return Sa(n,La),n}function V(n){var t,e;return function(r,u,i){var a,o=n[i].update,l=o.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(a=o[t])&&++t<l;);return a}}function X(n,t,e){function r(){var t=this[a];t&&(this.removeEventListener(n,t,t.$),delete this[a])}function u(){var u=l(t,ca(arguments));r.call(this),this.addEventListener(n,this[a]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+oa.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var a="__on"+n,o=n.indexOf("."),l=$;o>0&&(n=n.slice(0,o));var c=qa.get(n);return c&&(n=c,l=B),o?t?u:r:t?b:i}function $(n,t){return function(e){var r=oa.event;oa.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{oa.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++Ra,u="click"+r,i=oa.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Ta&&(Ta="onselectstart"in e?!1:x(e.style,"userSelect")),Ta){var a=n(e).style,o=a[Ta];a[Ta]="none"}return function(n){if(i.on(r,null),Ta&&(a[Ta]=o),n){var t=function(){i.on(u,null)};i.on(u,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var u=r.createSVGPoint();if(0>Da){var i=t(n);if(i.scrollX||i.scrollY){r=oa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Da=!(a.f||a.e),r.remove()}}return Da?(u.x=e.pageX,u.y=e.pageY):(u.x=e.clientX,u.y=e.clientY),u=u.matrixTransform(n.getScreenCTM().inverse()),[u.x,u.y]}var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}function G(){return oa.event.changedTouches[0].identifier}function K(n){return n>0?1:0>n?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:-1>n?ja:Math.acos(n)}function tn(n){return n>1?Oa:-1>n?-Oa:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function an(n){return(n=Math.sin(n/2))*n}function on(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(a-i)*n/60:180>n?a:240>n?i+(a-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,a;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,a=.5>=e?e*(1+t):e+t-e*t,i=2*e-a,new yn(u(n+120),u(n),u(n-120))}function sn(n,t,e){return this instanceof sn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof sn?new sn(n.h,n.c,n.l):n instanceof hn?pn(n.l,n.a,n.b):pn((n=Sn((n=oa.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new sn(n,t,e)}function fn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Ia)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof sn?fn(n.h,n.c,n.l):Sn((n=yn(n)).r,n.g,n.b):new hn(n,t,e)}function gn(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=vn(u)*Qa,r=vn(r)*no,i=vn(i)*to,new yn(mn(3.2404542*u-1.5371385*r-.4985314*i),mn(-.969266*u+1.8760108*r+.041556*i),mn(.0556434*u-.2040259*r+1.0572252*i))}function pn(n,t,e){return n>0?new sn(Math.atan2(e,t)*Ya,Math.sqrt(t*t+e*e),n):new sn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function mn(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function yn(n,t,e){return this instanceof yn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof yn?new yn(n.r,n.g,n.b):_n(""+n,yn,cn):new yn(n,t,e)}function Mn(n){return new yn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,u,i,a=0,o=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(Nn(u[0]),Nn(u[1]),Nn(u[2]))}return(i=uo.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.slice(1),16))||(4===n.length?(a=(3840&i)>>4,a=a>>4|a,o=240&i,o=o>>4|o,l=15&i,l=l<<4|l):7===n.length&&(a=(16711680&i)>>16,o=(65280&i)>>8,l=255&i)),t(a,o,l))}function wn(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),a=Math.max(n,t,e),o=a-i,l=(a+i)/2;return o?(u=.5>l?o/(a+i):o/(2-a-i),r=n==a?(t-e)/o+(e>t?6:0):t==a?(e-n)/o+2:(n-t)/o+4,r*=60):(r=NaN,u=l>0&&1>l?0:r),new ln(r,u,l)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Qa),u=dn((.2126729*n+.7151522*t+.072175*e)/no),i=dn((.0193339*n+.119192*t+.9503041*e)/to);return hn(116*u-16,500*(r-u),200*(u-i))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function u(){var n,t=l.status;if(!t&&Ln(l)||t>=200&&300>t||304===t){try{n=e.call(i,l)}catch(r){return void a.error.call(i,r)}a.load.call(i,n)}else a.error.call(i,l)}var i={},a=oa.dispatch("beforesend","progress","load","error"),o={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=u:l.onreadystatechange=function(){l.readyState>3&&u()},l.onprogress=function(n){var t=oa.event;oa.event=n;try{a.progress.call(i,l)}finally{oa.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?o[n]:(null==t?delete o[n]:o[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(c=n,i):c},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(ca(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),l.open(e,n,!0),null==t||"accept"in o||(o.accept=t+",*/*"),l.setRequestHeader)for(var s in o)l.setRequestHeader(s,o[s]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},oa.rebind(i,a,"on"),null==r?i:i.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,n:null};return ao?ao.n=i:io=i,ao=i,oo||(lo=clearTimeout(lo),oo=1,co(Tn)),i}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(lo),lo=setTimeout(Tn,t)),oo=0):(oo=1,co(Tn))}function Rn(){for(var n=Date.now(),t=io;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=io,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:io=t.n;return ao=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Un(n,t){var e=Math.pow(10,3*Ma(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function jn(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r&&e?function(n,t){for(var u=n.length,i=[],a=0,o=r[0],l=0;u>0&&o>0&&(l+o+1>t&&(o=Math.max(1,t-l)),i.push(n.substring(u-=o,u+o)),!((l+=o+1)>t));)o=r[a=(a+1)%r.length];return i.reverse().join(e)}:y;return function(n){var e=fo.exec(n),r=e[1]||" ",a=e[2]||">",o=e[3]||"-",l=e[4]||"",c=e[5],s=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+g.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===l&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=ho.get(g)||Fn;var M=c&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):"-"===o?"":o;if(0>p){var l=oa.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=p;n=g(n,h);var x,b,_=n.lastIndexOf(".");if(0>_){var w=y?n.lastIndexOf("e"):-1;0>w?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!c&&f&&(x=i(x,1/0));var S=v.length+x.length+b.length+(M?0:u.length),k=s>S?new Array(S=s-S+1).join(r):"";return M&&(x=i(k+x,k.length?s-b.length:1/0)),u+=v,n=x+b,("<"===a?u+n+k:">"===a?k+u+n:"^"===a?k.substring(0,S>>=1)+u+n+k.substring(S):u+(M?n:k+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new po(e-1)),1),e}function i(n,e){return t(n=new po(+n),e),n}function a(n,r,i){var a=u(n),o=[];if(i>1)for(;r>a;)e(a)%i||o.push(new Date(+a)),t(a,1);else for(;r>a;)o.push(new Date(+a)),t(a,1);return o}function o(n,t,e){try{po=Hn;var r=new Hn;return r._=n,a(r,t,e)}finally{po=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=a;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(u),l.offset=In(i),l.range=o,n}function In(n){return function(t,e){try{po=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{po=Date}}}function Yn(n){function t(n){function t(t){for(var e,u,i,a=[],o=-1,l=0;++o<r;)37===n.charCodeAt(o)&&(a.push(n.slice(l,o)),null!=(u=mo[e=n.charAt(++o)])&&(e=n.charAt(++o)),(i=A[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),a.push(e),l=o+1);return a.push(n.slice(l,o)),a.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&po!==Hn,a=new(i?Hn:po);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,a,o=0,l=t.length,c=e.length;l>o;){if(r>=c)return-1;if(u=t.charCodeAt(o++),37===u){if(a=t.charAt(o++),i=C[a in mo?t.charAt(o++):a],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,r){return e(n,A.c.toString(),t,r)}function l(n,t,r){return e(n,A.x.toString(),t,r)}function c(n,t,r){return e(n,A.X.toString(),t,r)}function s(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{po=Hn;var t=new po;return t._=n,r(t)}finally{po=Date}}var r=t(n);return e.parse=function(n){try{po=Hn;var t=r.parse(n);return t&&t._}finally{po=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=oa.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),S=Vn(m),k=Xn(m),N=Vn(y),E=Xn(y);p.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+go.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(go.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(go.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:ot,"%":function(){return"%"}},C={a:r,A:u,b:i,B:a,c:o,d:tt,e:tt,H:rt,I:rt,j:et,L:at,m:nt,M:ut,p:s,S:it,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Vn(n){return new RegExp("^(?:"+n.map(oa.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function ut(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function it(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function at(n,t,e){yo.lastIndex=0;var r=yo.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function ot(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=Ma(t)/60|0,u=Ma(t)%60;return e+Zn(r,"0",2)+Zn(u,"0",2)}function lt(n,t,e){Mo.lastIndex=0;var r=Mo.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function st(){}function ft(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function ht(n,t){n&&wo.hasOwnProperty(n.type)&&wo[n.type](n,t)}function gt(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function pt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)gt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Ia,t=t*Ia/2+ja/4;var e=n-r,a=e>=0?1:-1,o=a*e,l=Math.cos(t),c=Math.sin(t),s=i*c,f=u*l+s*Math.cos(o),h=s*a*Math.sin(o);ko.add(Math.atan2(h,f)),r=n,u=l,i=c}var t,e,r,u,i;No.point=function(a,o){No.point=n,r=(t=a)*Ia,u=Math.cos(o=(e=o)*Ia/2+ja/4),i=Math.sin(o)},No.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function mt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function yt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return Ma(n[0]-t[0])<Pa&&Ma(n[1]-t[1])<Pa}function St(n,t){n*=Ia;var e=Math.cos(t*=Ia);kt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function kt(n,t,e){++Eo,Co+=(n-Co)/Eo,zo+=(t-zo)/Eo,Lo+=(e-Lo)/Eo}function Nt(){function n(n,u){n*=Ia;var i=Math.cos(u*=Ia),a=i*Math.cos(n),o=i*Math.sin(n),l=Math.sin(u),c=Math.atan2(Math.sqrt((c=e*l-r*o)*c+(c=r*a-t*l)*c+(c=t*o-e*a)*c),t*a+e*o+r*l);Ao+=c,qo+=c*(t+(t=a)),To+=c*(e+(e=o)),Ro+=c*(r+(r=l)),kt(t,e,r)}var t,e,r;jo.point=function(u,i){u*=Ia;var a=Math.cos(i*=Ia);t=a*Math.cos(u),e=a*Math.sin(u),r=Math.sin(i),jo.point=n,kt(t,e,r)}}function Et(){jo.point=St}function At(){function n(n,t){n*=Ia;var e=Math.cos(t*=Ia),a=e*Math.cos(n),o=e*Math.sin(n),l=Math.sin(t),c=u*l-i*o,s=i*a-r*l,f=r*o-u*a,h=Math.sqrt(c*c+s*s+f*f),g=r*a+u*o+i*l,p=h&&-nn(g)/h,v=Math.atan2(h,g);Do+=p*c,Po+=p*s,Uo+=p*f,Ao+=v,qo+=v*(r+(r=a)),To+=v*(u+(u=o)),Ro+=v*(i+(i=l)),kt(r,u,i)}var t,e,r,u,i;jo.point=function(a,o){t=a,e=o,jo.point=n,a*=Ia;var l=Math.cos(o*=Ia);r=l*Math.cos(a),u=l*Math.sin(a),i=Math.sin(o),kt(r,u,i)},jo.lineEnd=function(){n(t,e),jo.lineEnd=Et,jo.point=St}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,u){var i=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){u.lineStart();for(var o=0;t>o;++o)u.point((e=n[o])[0],e[1]);return void u.lineEnd()}var l=new Tt(e,n,null,!0),c=new Tt(e,null,l,!1);l.o=c,i.push(l),a.push(c),l=new Tt(r,n,null,!1),c=new Tt(r,null,l,!0),l.o=c,i.push(l),a.push(c)}}),a.sort(t),qt(i),qt(a),i.length){for(var o=0,l=e,c=a.length;c>o;++o)a[o].e=l=!l;for(var s,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;s=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var o=0,c=s.length;c>o;++o)u.point((f=s[o])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){s=g.p.z;for(var o=s.length-1;o>=0;--o)u.point((f=s[o])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,s=g.z,p=!p}while(!g.v);u.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(u,i){function a(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function o(n,t){var e=u(n,t);d.point(e[0],e[1])}function l(){y.point=o,d.lineStart()}function c(){y.point=a,d.lineEnd()}function s(n,t){v.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function f(){x.lineStart(),v=[]}function h(){s(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,a=-1;if(r>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++a<r;)i.point((u=n[a])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Dt))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:c,polygonStart:function(){y.point=s,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=c,g=oa.merge(g);var n=Ot(m,p);g.length?(b||(i.polygonStart(),b=!0),Lt(g,Ut,n,e,i)):n&&(b||(i.polygonStart(),b=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},M=Pt(),x=t(M),b=!1;return y}}function Dt(n){return n.length>1}function Pt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(n,t){return((n=n.x)[0]<0?n[1]-Oa-Pa:Oa-n[1])-((t=t.x)[0]<0?t[1]-Oa-Pa:Oa-t[1])}function jt(n){var t,e=NaN,r=NaN,u=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,a){var o=i>0?ja:-ja,l=Ma(i-e);Ma(l-ja)<Pa?(n.point(e,r=(r+a)/2>0?Oa:-Oa),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(o,r),n.point(i,r),t=0):u!==o&&l>=ja&&(Ma(e-u)<Pa&&(e-=u*Pa),Ma(i-o)<Pa&&(i-=o*Pa),r=Ft(e,r,i,a),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(o,r),t=0),n.point(e=i,r=a),u=o},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Ft(n,t,e,r){var u,i,a=Math.sin(n-e);return Ma(a)>Pa?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*a)):(t+r)/2}function Ht(n,t,e,r){var u;if(null==n)u=e*Oa,r.point(-ja,u),r.point(0,u),r.point(ja,u),r.point(ja,0),r.point(ja,-u),r.point(0,-u),r.point(-ja,-u),r.point(-ja,0),r.point(-ja,u);else if(Ma(n[0]-t[0])>Pa){var i=n[0]<t[0]?ja:-ja;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,a=0;ko.reset();for(var o=0,l=t.length;l>o;++o){var c=t[o],s=c.length;if(s)for(var f=c[0],h=f[0],g=f[1]/2+ja/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===s&&(d=0),n=c[d];var m=n[0],y=n[1]/2+ja/4,M=Math.sin(y),x=Math.cos(y),b=m-h,_=b>=0?1:-1,w=_*b,S=w>ja,k=p*M;if(ko.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),i+=S?b+_*Fa:b,S^h>=e^m>=e){var N=yt(dt(f),dt(n));bt(N);var E=yt(u,N);bt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(a+=S^b>=0?1:-1)}if(!d++)break;h=m,p=M,v=x,f=n}}return(-Pa>i||Pa>i&&0>ko)^1&a}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,l,c,s;return{lineStart:function(){c=l=!1,s=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=a?v?0:u(f,h):v?u(f+(0>f?ja:-ja),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(g=r(e,p),(wt(e,g)||wt(p,g))&&(p[0]+=Pa,p[1]+=Pa,v=t(p[0],p[1]))),v!==l)s=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(o&&e&&a^v){var m;d&i||!(m=r(p,e,!0))||(s=0,a?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&wt(e,p)||n.point(p[0],p[1]),e=p,l=v,i=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return s|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),u=dt(t),a=[1,0,0],o=yt(r,u),l=mt(o,o),c=o[0],s=l-c*c;if(!s)return!e&&n;var f=i*l/s,h=-i*c/s,g=yt(a,o),p=xt(a,f),v=xt(o,h);Mt(p,v);var d=g,m=mt(p,d),y=mt(d,d),M=m*m-y*(mt(p,p)-1);if(!(0>M)){var x=Math.sqrt(M),b=xt(d,(-m-x)/y);if(Mt(b,p),b=_t(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];w>S&&(_=w,w=S,S=_);var E=S-w,A=Ma(E-ja)<Pa,C=A||Pa>E;if(!A&&k>N&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(Ma(b[0]-w)<Pa?k:N):k<=b[1]&&b[1]<=N:E>ja^(w<=b[0]&&b[0]<=S)){var z=xt(d,(-m+x)/y);return Mt(z,p),[b,_t(z)]}}}function u(t,e){var r=a?n:ja-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),a=i>0,o=Ma(i)>Pa,l=ve(n,6*Ia);return Rt(t,e,l,a?[0,-n]:[-ja,n-ja])}function Yt(n,t,e,r){return function(u){var i,a=u.a,o=u.b,l=a.x,c=a.y,s=o.x,f=o.y,h=0,g=1,p=s-l,v=f-c;if(i=n-l,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-l,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-c,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-c,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:l+h*p,y:c+h*v}),1>g&&(u.b={x:l+g*p,y:c+g*v}),u}}}}}}function Zt(n,t,e,r){function u(r,u){return Ma(r[0]-n)<Pa?u>0?0:3:Ma(r[0]-e)<Pa?u>0?2:1:Ma(r[1]-t)<Pa?u>0?1:0:u>0?3:2}function i(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(o){function l(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,a=1,o=d[u],l=o.length,c=o[0];l>a;++a)i=o[a],c[1]<=r?i[1]>r&&Q(c,i,n)>0&&++t:i[1]<=r&&Q(c,i,n)<0&&--t,c=i;return 0!==t}function c(i,o,l,c){var s=0,f=0;if(null==i||(s=u(i,l))!==(f=u(o,l))||a(i,o)<0^l>0){do c.point(0===s||3===s?n:e,s>1?r:t);while((s=(s+l+4)%4)!==f)}else c.point(o[0],o[1])}function s(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){s(n,t)&&o.point(n,t)}function h(){C.point=p,d&&d.push(m=[]),S=!0,w=!1,b=_=NaN}function g(){v&&(p(y,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=f,w&&o.lineEnd()}function p(n,t){n=Math.max(-Ho,Math.min(Ho,n)),t=Math.max(-Ho,Math.min(Ho,t));var e=s(n,t);if(d&&m.push([n,t]),S)y=n,M=t,x=e,S=!1,e&&(o.lineStart(),o.point(n,t));else if(e&&w)o.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(o.lineStart(),o.point(r.a.x,r.a.y)),o.point(r.b.x,r.b.y),e||o.lineEnd(),k=!1):e&&(o.lineStart(),o.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,m,y,M,x,b,_,w,S,k,N=o,E=Pt(),A=Yt(n,t,e,r),C={point:f,lineStart:h,lineEnd:g,polygonStart:function(){o=E,v=[],d=[],k=!0},polygonEnd:function(){o=N,v=oa.merge(v);var t=l([n,r]),e=k&&t,u=v.length;(e||u)&&(o.polygonStart(),e&&(o.lineStart(),c(null,null,1,o),o.lineEnd()),u&&Lt(v,i,t,c,o),o.polygonEnd()),v=d=m=null}};return C}}function Vt(n){var t=0,e=ja/3,r=oe(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*ja/180,e=n[1]*ja/180):[t/ja*180,e/ja*180]},u}function Xt(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),a-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),a=Math.sqrt(i)/u;return e.invert=function(n,t){var e=a-t;return[Math.atan2(n,e)/u,tn((i-(n*n+e*e)*u*u)/(2*u))]},e}function $t(){function n(n,t){Io+=u*n-r*t,r=n,u=t}var t,e,r,u;$o.point=function(i,a){$o.point=n,t=r=i,e=u=a},$o.lineEnd=function(){n(t,e)}}function Bt(n,t){Yo>n&&(Yo=n),n>Vo&&(Vo=n),Zo>t&&(Zo=t),t>Xo&&(Xo=t)}function Wt(){function n(n,t){a.push("M",n,",",t,i)}function t(n,t){a.push("M",n,",",t),o.point=e}function e(n,t){a.push("L",n,",",t)}function r(){o.point=n}function u(){a.push("Z")}var i=Jt(4.5),a=[],o={point:n,lineStart:function(){o.point=t},lineEnd:r,polygonStart:function(){o.lineEnd=u},polygonEnd:function(){o.lineEnd=r,o.point=n},pointRadius:function(n){return i=Jt(n),o},result:function(){if(a.length){var n=a.join("");return a=[],n}}};return o}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Co+=n,zo+=t,++Lo}function Kt(){function n(n,r){var u=n-t,i=r-e,a=Math.sqrt(u*u+i*i);qo+=a*(t+n)/2,To+=a*(e+r)/2,Ro+=a,Gt(t=n,e=r)}var t,e;Wo.point=function(r,u){Wo.point=n,Gt(t=r,e=u)}}function Qt(){Wo.point=Gt}function ne(){function n(n,t){var e=n-r,i=t-u,a=Math.sqrt(e*e+i*i);qo+=a*(r+n)/2,To+=a*(u+t)/2,Ro+=a,a=u*n-r*t,Do+=a*(r+n),Po+=a*(u+t),Uo+=3*a,Gt(r=n,u=t)}var t,e,r,u;Wo.point=function(i,a){Wo.point=n,Gt(t=r=i,e=u=a)},Wo.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+a,e),n.arc(t,e,a,0,Fa)}function e(t,e){n.moveTo(t,e),o.point=r}function r(t,e){n.lineTo(t,e)}function u(){o.point=t}function i(){n.closePath()}var a=4.5,o={point:t,lineStart:function(){o.point=e},lineEnd:u,polygonStart:function(){o.lineEnd=i},polygonEnd:function(){o.lineEnd=u,o.point=t},pointRadius:function(n){return a=n,o},result:b};return o}function ee(n){function t(n){return(o?r:e)(n)}function e(t){return ie(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=i,t.lineStart()}function i(e,r){var i=dt([e,r]),a=n(e,r);u(M,x,y,b,_,w,M=a[0],x=a[1],y=e,b=i[0],_=i[1],w=i[2],o,t),t.point(M,x)}function a(){S.point=e,t.lineEnd()}function l(){
r(),S.point=c,S.lineEnd=s}function c(n,t){i(f=n,h=t),g=M,p=x,v=b,d=_,m=w,S.point=i}function s(){u(M,x,y,b,_,w,g,p,f,v,d,m,o,t),S.lineEnd=a,a()}var f,h,g,p,v,d,m,y,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),S.lineStart=l},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,o,l,c,s,f,h,g,p,v,d,m){var y=s-t,M=f-e,x=y*y+M*M;if(x>4*i&&d--){var b=o+g,_=l+p,w=c+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=Ma(Ma(w)-1)<Pa||Ma(r-h)<Pa?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,L=C-e,q=M*z-y*L;(q*q/x>i||Ma((y*z+M*L)/x-.5)>.3||a>o*g+l*p+c*v)&&(u(t,e,r,o,l,c,A,C,N,b/=S,_/=S,w,d,m),m.point(A,C),u(A,C,N,b,_,w,s,f,h,g,p,v,d,m))}}var i=.5,a=Math.cos(30*Ia),o=16;return t.precision=function(n){return arguments.length?(o=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function re(n){var t=ee(function(t,e){return n([t*Ya,e*Ya])});return function(n){return le(t(n))}}function ue(n){this.stream=n}function ie(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function ae(n){return oe(function(){return n})()}function oe(n){function t(n){return n=o(n[0]*Ia,n[1]*Ia),[n[0]*h+l,c-n[1]*h]}function e(n){return n=o.invert((n[0]-l)/h,(c-n[1])/h),n&&[n[0]*Ya,n[1]*Ya]}function r(){o=Ct(a=fe(m,M,x),i);var n=i(v,d);return l=g-n[0]*h,c=p+n[1]*h,u()}function u(){return s&&(s.valid=!1,s=null),t}var i,a,o,l,c,s,f=ee(function(n,t){return n=i(n,t),[n[0]*h+l,c-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,M=0,x=0,b=Fo,_=y,w=null,S=null;return t.stream=function(n){return s&&(s.valid=!1),s=le(b(a,f(_(n)))),s.valid=!0,s},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Fo):It((w=+n)*Ia),u()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):y,u()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Ia,d=n[1]%360*Ia,r()):[v*Ya,d*Ya]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Ia,M=n[1]%360*Ia,x=n.length>2?n[2]%360*Ia:0,r()):[m*Ya,M*Ya,x*Ya]},oa.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function le(n){return ie(n,function(t,e){n.point(t*Ia,e*Ia)})}function ce(n,t){return[n,t]}function se(n,t){return[n>ja?n-Fa:-ja>n?n+Fa:n,t]}function fe(n,t,e){return n?t||e?Ct(ge(n),pe(t,e)):ge(n):t||e?pe(t,e):se}function he(n){return function(t,e){return t+=n,[t>ja?t-Fa:-ja>t?t+Fa:t,e]}}function ge(n){var t=he(n);return t.invert=he(-n),t}function pe(n,t){function e(n,t){var e=Math.cos(t),o=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*r+o*u;return[Math.atan2(l*i-s*a,o*r-c*u),tn(s*i+l*a)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),a=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),o=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),s=c*i-l*a;return[Math.atan2(l*i+c*a,o*r+s*u),tn(s*r-o*u)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,a,o){var l=a*t;null!=u?(u=de(e,u),i=de(e,i),(a>0?i>u:u>i)&&(u+=a*Fa)):(u=n+a*Fa,i=n-.5*l);for(var c,s=u;a>0?s>i:i>s;s-=l)o.point((c=_t([e,-r*Math.cos(s),-r*Math.sin(s)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Pa)%(2*Math.PI)}function me(n,t,e){var r=oa.range(n,t-Pa,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function ye(n,t,e){var r=oa.range(n,t-Pa,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),a=Math.cos(r),o=Math.sin(r),l=u*Math.cos(n),c=u*Math.sin(n),s=a*Math.cos(e),f=a*Math.sin(e),h=2*Math.asin(Math.sqrt(an(r-t)+u*a*an(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*l+t*s,u=e*c+t*f,a=e*i+t*o;return[Math.atan2(u,r)*Ya,Math.atan2(a,Math.sqrt(r*r+u*u))*Ya]}:function(){return[n*Ya,t*Ya]};return p.distance=h,p}function _e(){function n(n,u){var i=Math.sin(u*=Ia),a=Math.cos(u),o=Ma((n*=Ia)-t),l=Math.cos(o);Jo+=Math.atan2(Math.sqrt((o=a*Math.sin(o))*o+(o=r*i-e*a*l)*o),e*i+r*a*l),t=n,e=i,r=a}var t,e,r;Go.point=function(u,i){t=u*Ia,e=Math.sin(i*=Ia),r=Math.cos(i),Go.point=n},Go.lineEnd=function(){Go.point=Go.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),a=Math.cos(u);return[Math.atan2(n*i,r*a),Math.asin(r&&e*i/r)]},e}function Se(n,t){function e(n,t){a>0?-Oa+Pa>t&&(t=-Oa+Pa):t>Oa-Pa&&(t=Oa-Pa);var e=a/Math.pow(u(t),i);return[e*Math.sin(i*n),a-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(ja/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),a=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=a-t,r=K(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(a/r,1/i))-Oa]},e):Ne}function ke(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return Ma(u)<Pa?ce:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-K(u)*Math.sqrt(n*n+e*e)]},e)}function Ne(n,t){return[n,Math.log(Math.tan(ja/4+t/2))]}function Ee(n){var t,e=ae(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var a=i.apply(e,arguments);if(a===e){if(t=null==n){var o=ja*r(),l=u();i([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(a=null);return a},e.clipExtent(null)}function Ae(n,t){return[Math.log(Math.tan(ja/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var u=n[0],i=e[0],a=t[0]-u,o=r[0]-i,l=n[1],c=e[1],s=t[1]-l,f=r[1]-c,h=(o*(l-c)-f*(u-i))/(f*a-o*s);return[u+h*a,l+h*s]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function Ue(n){var t=cl.pop()||new Pe;return t.site=n,t}function je(n){Be(n),al.remove(n),cl.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,a=n.N,o=[n];je(n);for(var l=i;l.circle&&Ma(e-l.circle.x)<Pa&&Ma(r-l.circle.cy)<Pa;)i=l.P,o.unshift(l),je(l),l=i;o.unshift(l),Be(l);for(var c=a;c.circle&&Ma(e-c.circle.x)<Pa&&Ma(r-c.circle.cy)<Pa;)a=c.N,o.push(c),je(c),c=a;o.push(c),Be(c);var s,f=o.length;for(s=1;f>s;++s)c=o[s],l=o[s-1],nr(c.edge,l.site,c.site,u);l=o[0],c=o[f-1],c.edge=Ke(l.site,c.site,null,u),$e(l),$e(c)}function He(n){for(var t,e,r,u,i=n.x,a=n.y,o=al._;o;)if(r=Oe(o,a)-i,r>Pa)o=o.L;else{if(u=i-Ie(o,a),!(u>Pa)){r>-Pa?(t=o.P,e=o):u>-Pa?(t=o,e=o.N):t=e=o;break}if(!o.R){t=o;break}o=o.R}var l=Ue(n);if(al.insert(t,l),t||e){if(t===e)return Be(t),e=Ue(t.site),al.insert(l,e),l.edge=e.edge=Ke(t.site,l.site),$e(t),void $e(e);if(!e)return void(l.edge=Ke(t.site,l.site));Be(t),Be(e);var c=t.site,s=c.x,f=c.y,h=n.x-s,g=n.y-f,p=e.site,v=p.x-s,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,M=v*v+d*d,x={x:(d*y-g*M)/m+s,y:(h*M-v*y)/m+f};nr(e.edge,c,p,x),l.edge=Ke(c,n,null,x),e.edge=Ke(n,p,null,x),$e(t),$e(e)}}function Oe(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var a=n.P;if(!a)return-(1/0);e=a.site;var o=e.x,l=e.y,c=l-t;if(!c)return o;var s=o-r,f=1/i-1/c,h=s/c;return f?(-h+Math.sqrt(h*h-2*f*(s*s/(-2*c)-l+c/2+u-i/2)))/f+r:(r+o)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t,e,r,u,i,a,o,l,c,s,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=il,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(o=i.edges,l=o.length,a=0;l>a;)s=o[a].end(),r=s.x,u=s.y,c=o[++a%l].start(),t=c.x,e=c.y,(Ma(r-t)>Pa||Ma(u-e)>Pa)&&(o.splice(a,0,new tr(Qe(i.site,s,Ma(r-f)<Pa&&p-u>Pa?{x:f,y:Ma(t-f)<Pa?e:p}:Ma(u-p)<Pa&&h-r>Pa?{x:Ma(e-p)<Pa?t:h,y:p}:Ma(r-h)<Pa&&u-g>Pa?{x:h,y:Ma(t-h)<Pa?e:g}:Ma(u-g)<Pa&&r-f>Pa?{x:Ma(e-g)<Pa?t:f,y:g}:null),i.site,null)),++l)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var a=u.x,o=u.y,l=r.x-a,c=r.y-o,s=i.x-a,f=i.y-o,h=2*(l*f-c*s);if(!(h>=-Ua)){var g=l*l+c*c,p=s*s+f*f,v=(f*g-c*p)/h,d=(l*p-s*g)/h,f=d+o,m=sl.pop()||new Xe;m.arc=n,m.site=u,m.x=v+a,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,M=ll._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}ll.insert(y,m),y||(ol=m)}}}}function Be(n){var t=n.circle;t&&(t.P||(ol=t.N),ll.remove(t),sl.push(t),rr(t),n.circle=null)}function We(n){for(var t,e=ul,r=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Je(t,n)||!r(t)||Ma(t.a.x-t.b.x)<Pa&&Ma(t.a.y-t.b.y)<Pa)&&(t.a=t.b=null,e.splice(u,1))}function Je(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,a=t[0][0],o=t[1][0],l=t[0][1],c=t[1][1],s=n.l,f=n.r,h=s.x,g=s.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(a>d||d>=o)return;if(h>p){if(i){if(i.y>=c)return}else i={x:d,y:l};e={x:d,y:c}}else{if(i){if(i.y<l)return}else i={x:d,y:c};e={x:d,y:l}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=c)return}else i={x:(l-u)/r,y:l};e={x:(c-u)/r,y:c}}else{if(i){if(i.y<l)return}else i={x:(c-u)/r,y:c};e={x:(l-u)/r,y:l}}else if(v>g){if(i){if(i.x>=o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}else{if(i){if(i.x<a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}return n.a=i,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var u=new Ge(n,t);return ul.push(u),e&&nr(u,n,t,e),r&&nr(u,t,n,r),il[n.i].edges.push(new tr(u,n,t)),il[t.i].edges.push(new tr(u,t,n)),u}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,ul.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ur(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ir(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ar(n){for(;n.L;)n=n.L;return n}function or(n,t){var e,r,u,i=n.sort(lr).pop();for(ul=[],il=new Array(n.length),al=new er,ll=new er;;)if(u=ol,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(il[i.i]=new Ye(i),He(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Fe(u.arc)}t&&(We(t),Ze(t));var a={cells:il,edges:ul};return al=ll=ul=il=null,a}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function sr(n){return n.x}function fr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var a=.5*(e+u),o=.5*(r+i),l=t.nodes;l[0]&&gr(n,l[0],e,r,a,o),l[1]&&gr(n,l[1],a,r,u,o),l[2]&&gr(n,l[2],e,o,a,i),l[3]&&gr(n,l[3],a,o,u,i)}}function pr(n,t,e,r,u,i,a){var o,l=1/0;return function c(n,s,f,h,g){if(!(s>i||f>a||r>h||u>g)){if(p=n.point){var p,v=t-n.x,d=e-n.y,m=v*v+d*d;if(l>m){var y=Math.sqrt(l=m);r=t-y,u=e-y,i=t+y,a=e+y,o=p}}for(var M=n.nodes,x=.5*(s+h),b=.5*(f+g),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;k>S;++S)if(n=M[3&S])switch(3&S){case 0:c(n,s,f,x,b);break;case 1:c(n,x,f,h,b);break;case 2:c(n,s,b,x,g);break;case 3:c(n,x,b,h,g)}}}(n,r,u,i,a),o}function vr(n,t){n=oa.rgb(n),t=oa.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,a=t.g-r,o=t.b-u;return function(n){return"#"+bn(Math.round(e+i*n))+bn(Math.round(r+a*n))+bn(Math.round(u+o*n))}}function dr(n,t){var e,r={},u={};for(e in n)e in t?r[e]=Mr(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function mr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function yr(n,t){var e,r,u,i=hl.lastIndex=gl.lastIndex=0,a=-1,o=[],l=[];for(n+="",t+="";(e=hl.exec(n))&&(r=gl.exec(t));)(u=r.index)>i&&(u=t.slice(i,u),o[a]?o[a]+=u:o[++a]=u),(e=e[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:mr(e,r)})),i=gl.lastIndex;return i<t.length&&(u=t.slice(i),o[a]?o[a]+=u:o[++a]=u),o.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e,r=0;t>r;++r)o[(e=l[r]).i]=e.x(n);return o.join("")})}function Mr(n,t){for(var e,r=oa.interpolators.length;--r>=0&&!(e=oa.interpolators[r](n,t)););return e}function xr(n,t){var e,r=[],u=[],i=n.length,a=t.length,o=Math.min(n.length,t.length);for(e=0;o>e;++e)r.push(Mr(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;a>e;++e)u[e]=t[e];return function(n){for(e=0;o>e;++e)u[e]=r[e](n);return u}}function br(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function Sr(n){return n*n}function kr(n){return n*n*n}function Nr(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Er(n){return function(t){return Math.pow(t,n)}}function Ar(n){return 1-Math.cos(n*Oa)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/Fa*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Fa/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=oa.hcl(n),t=oa.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,a=t.c-r,o=t.l-u;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return fn(e+i*n,r+a*n,u+o*n)+""}}function Dr(n,t){n=oa.hsl(n),t=oa.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,a=t.s-r,o=t.l-u;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return cn(e+i*n,r+a*n,u+o*n)+""}}function Pr(n,t){n=oa.lab(n),t=oa.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,a=t.a-r,o=t.b-u;return function(n){return gn(e+i*n,r+a*n,u+o*n)+""}}function Ur(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function jr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),u=Fr(t,e),i=Hr(Or(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ya,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Ya:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push("translate(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:mr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:mr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var u=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:u-4,x:mr(n[0],t[0])},{i:u-2,x:mr(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=oa.transform(n),t=oa.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t,u=-1,i=r.length;++u<i;)e[(t=r[u]).i]=t.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),u=e.pop(),i=r.pop(),a=null;u===i;)a=u,u=e.pop(),i=r.pop();return a}function Qr(n){n.fixed|=2}function nu(n){n.fixed&=-7}function tu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function eu(n){n.fixed&=-5}function ru(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,a=n.nodes,o=a.length,l=-1;++l<o;)i=a[l],null!=i&&(ru(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,u+=c*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function uu(n,t){return oa.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=su,n}function iu(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function au(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,a=-1;++a<u;)e.push(i[a]);for(;null!=(n=r.pop());)t(n)}function ou(n){return n.children}function lu(n){return n.value}function cu(n,t){return t.value-n.value}function su(n){return oa.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function fu(n){return n.x}function hu(n){return n.y}function gu(n,t,e){n.y0=t,n.y=e}function pu(n){return oa.range(n.length)}function vu(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function du(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function mu(n){return n.reduce(yu,0)}function yu(n,t){return n+t[1]}function Mu(n,t){return xu(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xu(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function bu(n){return[oa.min(n),oa.max(n)]}function _u(n,t){return n.value-t.value}function wu(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Su(n,t){n._pack_next=t,t._pack_prev=n}function ku(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Nu(n){function t(n){s=Math.min(n.x-n.r,s),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(c=e.length)){var e,r,u,i,a,o,l,c,s=1/0,f=-(1/0),h=1/0,g=-(1/0);if(e.forEach(Eu),r=e[0],r.x=-r.r,r.y=0,t(r),c>1&&(u=e[1],u.x=u.r,u.y=0,t(u),c>2))for(i=e[2],zu(r,u,i),t(i),wu(r,i),r._pack_prev=i,wu(i,u),u=r._pack_next,a=3;c>a;a++){zu(r,u,i=e[a]);var p=0,v=1,d=1;for(o=u._pack_next;o!==u;o=o._pack_next,v++)if(ku(o,i)){p=1;break}if(1==p)for(l=r._pack_prev;l!==o._pack_prev&&!ku(l,i);l=l._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?Su(r,u=o):Su(r=l,u),a--):(wu(r,i),u=i,t(i))}var m=(s+f)/2,y=(h+g)/2,M=0;for(a=0;c>a;a++)i=e[a],i.x-=m,i.y-=y,M=Math.max(M,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=M,e.forEach(Au)}}function Eu(n){n._pack_next=n._pack_prev=n}function Au(n){delete n._pack_next,delete n._pack_prev}function Cu(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,a=u.length;++i<a;)Cu(u[i],t,e,r)}function zu(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var a=t.r+e.r,o=u*u+i*i;a*=a,r*=r;var l=.5+(r-a)/(2*o),c=Math.sqrt(Math.max(0,2*a*(r+o)-(r-=o)*r-a*a))/(2*o);e.x=n.x+l*u+c*i,e.y=n.y+l*i-c*u}else e.x=n.x+r,e.y=n.y}function Lu(n,t){return n.parent==t.parent?1:2}function qu(n){var t=n.children;return t.length?t[0]:n.t}function Tu(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ru(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Du(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Pu(n,t,e){return n.a.parent===t.parent?n.a:e}function Uu(n){return 1+oa.max(n,function(n){return n.y})}function ju(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fu(n){var t=n.children;return t&&t.length?Fu(t[0]):n}function Hu(n){var t,e=n.children;return e&&(t=e.length)?Hu(e[t-1]):n}function Ou(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Iu(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Yu(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Zu(n){return n.rangeExtent?n.rangeExtent():Yu(n.range())}function Vu(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Xu(n,t){var e,r=0,u=n.length-1,i=n[r],a=n[u];return i>a&&(e=r,r=u,u=e,e=i,i=a,a=e),n[r]=t.floor(i),n[u]=t.ceil(a),n}function $u(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:Sl}function Bu(n,t,e,r){var u=[],i=[],a=0,o=Math.min(n.length,t.length)-1;for(n[o]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<=o;)u.push(e(n[a-1],n[a])),i.push(r(t[a-1],t[a]));return function(t){var e=oa.bisect(n,t,1,o)-1;return i[e](u[e](t))}}function Wu(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Bu:Vu,l=r?Wr:Br;return a=u(n,t,l,e),o=u(t,n,l,Mr),i}function i(n){return a(n)}var a,o;return i.invert=function(n){return o(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Ur)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Qu(n,t)},i.tickFormat=function(t,e){return ni(n,t,e)},i.nice=function(t){return Gu(n,t),u()},i.copy=function(){return Wu(n,t,e,r)},u()}function Ju(n,t){return oa.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gu(n,t){return Xu(n,$u(Ku(n,t)[2])),Xu(n,$u(Ku(n,t)[2])),n}function Ku(n,t){null==t&&(t=10);var e=Yu(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Qu(n,t){return oa.range.apply(oa,Ku(n,t))}function ni(n,t,e){var r=Ku(n,t);if(e){var u=fo.exec(e);if(u.shift(),"s"===u[8]){var i=oa.formatPrefix(Math.max(Ma(r[0]),Ma(r[1])));return u[7]||(u[7]="."+ti(i.scale(r[2]))),u[8]="f",e=oa.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+ei(u[8],r)),e=u.join("")}else e=",."+ti(r[2])+"f";return oa.format(e)}function ti(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function ei(n,t){var e=ti(t[2]);return n in kl?Math.abs(e-ti(Math.max(Ma(t[0]),Ma(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ri(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function a(t){return n(u(t))}return a.invert=function(t){return i(n.invert(t))},a.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),a):r},a.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),a):t},a.nice=function(){var t=Xu(r.map(u),e?Math:El);return n.domain(t),r=t.map(i),a},a.ticks=function(){var n=Yu(r),a=[],o=n[0],l=n[1],c=Math.floor(u(o)),s=Math.ceil(u(l)),f=t%1?2:t;if(isFinite(s-c)){if(e){for(;s>c;c++)for(var h=1;f>h;h++)a.push(i(c)*h);a.push(i(c))}else for(a.push(i(c));c++<s;)for(var h=f-1;h>0;h--)a.push(i(c)*h);for(c=0;a[c]<o;c++);for(s=a.length;a[s-1]>l;s--);a=a.slice(c,s)}return a},a.tickFormat=function(n,e){if(!arguments.length)return Nl;arguments.length<2?e=Nl:"function"!=typeof e&&(e=oa.format(e));var r=Math.max(1,t*n/a.ticks().length);return function(n){var a=n/i(Math.round(u(n)));return t-.5>a*t&&(a*=t),r>=a?e(n):""}},a.copy=function(){return ri(n.copy(),t,e,r)},Ju(a,n)}function ui(n,t,e){function r(t){return n(u(t))}var u=ii(t),i=ii(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Qu(e,n)},r.tickFormat=function(n,t){return ni(e,n,t)},r.nice=function(n){return r.domain(Gu(e,n))},r.exponent=function(a){return arguments.length?(u=ii(t=a),i=ii(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return ui(n.copy(),t,e)},Ju(r,n)}function ii(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function ai(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):NaN))-1)%i.length]}function r(t,e){return oa.range(n.length).map(function(n){return t+e*n})}var u,i,a;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new c;for(var i,a=-1,o=r.length;++a<o;)u.has(i=r[a])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,a=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,o){arguments.length<2&&(o=0);var l=u[0],c=u[1],s=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+o);return i=r(l+s*o/2,s),a=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(u,o){arguments.length<2&&(o=0);var l=u[0],c=u[1],s=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+o)|0;return i=r(l+Math.round(s*o/2+(c-l-(n.length-1+o)*s)/2),s),a=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(u,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=(f-s)/(n.length-o+2*l);return i=r(s+h*l,h),c&&i.reverse(),a=h*(1-o),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,o,l){arguments.length<2&&(o=0),arguments.length<3&&(l=o);var c=u[1]<u[0],s=u[c-0],f=u[1-c],h=Math.floor((f-s)/(n.length-o+2*l));return i=r(s+Math.round((f-s-(n.length-o)*h)/2),h),c&&i.reverse(),a=Math.round(h*(1-o)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return Yu(t.a[0])},e.copy=function(){return ai(n,t)},e.domain(n)}function oi(n,t){function i(){var e=0,r=t.length;for(o=[];++e<r;)o[e-1]=oa.quantile(n,e/r);return a}function a(n){return isNaN(n=+n)?void 0:t[oa.bisect(o,n)]}var o;return a.domain=function(t){return arguments.length?(n=t.map(r).filter(u).sort(e),i()):n},a.range=function(n){return arguments.length?(t=n,i()):t},a.quantiles=function(){return o},a.invertExtent=function(e){return e=t.indexOf(e),0>e?[NaN,NaN]:[e>0?o[e-1]:n[0],e<o.length?o[e]:n[n.length-1]]},a.copy=function(){return oi(n,t)},i()}function li(n,t,e){function r(t){return e[Math.max(0,Math.min(a,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),a=e.length-1,r}var i,a;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?NaN:t/i+n,[t,t+1/i]},r.copy=function(){return li(n,t,e)},u()}function ci(n,t){function e(e){return e>=e?t[oa.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return ci(n,t)},e}function si(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qu(n,t)},t.tickFormat=function(t,e){return ni(n,t,e)},t.copy=function(){return si(n)},t}function fi(){return 0}function hi(n){return n.innerRadius}function gi(n){return n.outerRadius}function pi(n){return n.startAngle}function vi(n){return n.endAngle}function di(n){return n&&n.padAngle}function mi(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function yi(n,t,e,r,u){var i=n[0]-t[0],a=n[1]-t[1],o=(u?r:-r)/Math.sqrt(i*i+a*a),l=o*a,c=-o*i,s=n[0]+l,f=n[1]+c,h=t[0]+l,g=t[1]+c,p=(s+h)/2,v=(f+g)/2,d=h-s,m=g-f,y=d*d+m*m,M=e-r,x=s*g-h*f,b=(0>m?-1:1)*Math.sqrt(Math.max(0,M*M*y-x*x)),_=(x*m-d*b)/y,w=(-x*d-m*b)/y,S=(x*m+d*b)/y,k=(-x*d+m*b)/y,N=_-p,E=w-v,A=S-p,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-l,w-c],[_*e/M,w*e/M]]}function Mi(n){function t(t){function a(){c.push("M",i(n(s),o))}for(var l,c=[],s=[],f=-1,h=t.length,g=En(e),p=En(r);++f<h;)u.call(this,l=t[f],f)?s.push([+g.call(this,l,f),+p.call(this,l,f)]):s.length&&(a(),s=[]);return s.length&&a(),c.length?c.join(""):null}var e=Ce,r=ze,u=zt,i=xi,a=i.key,o=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(a="function"==typeof n?i=n:(i=Tl.get(n)||xi).key,t):a},t.tension=function(n){return arguments.length?(o=n,t):o},t}function xi(n){return n.length>1?n.join("L"):n+"Z"}function bi(n){return n.join("L")+"Z"}function _i(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function wi(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function Si(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function ki(n,t){return n.length<4?xi(n):n[1]+Ai(n.slice(1,-1),Ci(n,t))}function Ni(n,t){return n.length<3?bi(n):n[0]+Ai((n.push(n[0]),n),Ci([n[n.length-2]].concat(n,[n[1]]),t))}function Ei(n,t){return n.length<3?xi(n):n[0]+Ai(n,Ci(n,t))}function Ai(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xi(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],a=t[0],o=a,l=1;if(e&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],u=n[1],l=2),t.length>1){o=t[1],i=n[l],l++,r+="C"+(u[0]+a[0])+","+(u[1]+a[1])+","+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,l++)i=n[l],o=t[c],r+="S"+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1]}if(e){var s=n[l];r+="Q"+(i[0]+2*o[0]/3)+","+(i[1]+2*o[1]/3)+","+s[0]+","+s[1]}return r}function Ci(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],a=n[1],o=1,l=n.length;++o<l;)e=i,i=a,a=n[o],r.push([u*(a[0]-e[0]),u*(a[1]-e[1])]);return r}function zi(n){if(n.length<3)return xi(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],a=[u,u,u,(r=n[1])[0]],o=[i,i,i,r[1]],l=[u,",",i,"L",Ri(Pl,a),",",Ri(Pl,o)];for(n.push(n[e-1]);++t<=e;)r=n[t],a.shift(),a.push(r[0]),o.shift(),o.push(r[1]),Di(l,a,o);return n.pop(),l.push("L",r),l.join("")}function Li(n){if(n.length<4)return xi(n);for(var t,e=[],r=-1,u=n.length,i=[0],a=[0];++r<3;)t=n[r],i.push(t[0]),a.push(t[1]);for(e.push(Ri(Pl,i)+","+Ri(Pl,a)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),a.shift(),a.push(t[1]),Di(e,i,a);return e.join("")}function qi(n){for(var t,e,r=-1,u=n.length,i=u+4,a=[],o=[];++r<4;)e=n[r%u],a.push(e[0]),o.push(e[1]);for(t=[Ri(Pl,a),",",Ri(Pl,o)],--r;++r<i;)e=n[r%u],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Di(t,a,o);return t.join("")}function Ti(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],a=n[0][1],o=n[e][0]-i,l=n[e][1]-a,c=-1;++c<=e;)r=n[c],u=c/e,r[0]=t*r[0]+(1-t)*(i+u*o),r[1]=t*r[1]+(1-t)*(a+u*l);return zi(n)}function Ri(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Di(n,t,e){n.push("C",Ri(Rl,t),",",Ri(Rl,e),",",Ri(Dl,t),",",Ri(Dl,e),",",Ri(Pl,t),",",Ri(Pl,e))}function Pi(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Ui(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],a=r[0]=Pi(u,i);++t<e;)r[t]=(a+(a=Pi(u=i,i=n[t+1])))/2;return r[t]=a,r}function ji(n){for(var t,e,r,u,i=[],a=Ui(n),o=-1,l=n.length-1;++o<l;)t=Pi(n[o],n[o+1]),Ma(t)<Pa?a[o]=a[o+1]=0:(e=a[o]/t,r=a[o+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),a[o]=u*e,a[o+1]=u*r));for(o=-1;++o<=l;)u=(n[Math.min(l,o+1)][0]-n[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])),i.push([u||0,a[o]*u||0]);return i}function Fi(n){return n.length<3?xi(n):n[0]+Ai(n,ji(n))}function Hi(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]-Oa,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Oi(n){function t(t){function l(){v.push("M",o(n(m),f),s,c(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,M=t.length,x=En(e),b=En(u),_=e===r?function(){
return g}:En(r),w=u===i?function(){return p}:En(i);++y<M;)a.call(this,h=t[y],y)?(d.push([g=+x.call(this,h,y),p=+b.call(this,h,y)]),m.push([+_.call(this,h,y),+w.call(this,h,y)])):d.length&&(l(),d=[],m=[]);return d.length&&l(),v.length?v.join(""):null}var e=Ce,r=Ce,u=0,i=ze,a=zt,o=xi,l=o.key,c=o,s="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(a=n,t):a},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?o=n:(o=Tl.get(n)||xi).key,c=o.reverse||o,s=o.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Ii(n){return n.radius}function Yi(n){return[n.x,n.y]}function Zi(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Oa;return[e*Math.cos(r),e*Math.sin(r)]}}function Vi(){return 64}function Xi(){return"circle"}function $i(n){var t=Math.sqrt(n/ja);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bi(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wi(n,t,e){return Sa(n,Yl),n.namespace=t,n.id=e,n}function Ji(n,t,e,r){var u=n.id,i=n.namespace;return Y(n,"function"==typeof e?function(n,a,o){n[i][u].tween.set(t,r(e.call(n,n.__data__,a,o)))}:(e=r(e),function(n){n[i][u].tween.set(t,e)}))}function Gi(n){return null==n&&(n=""),function(){this.textContent=n}}function Ki(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qi(n,t,e,r,u){function i(n){var t=v.delay;return s.t=t+l,n>=t?a(n-t):void(s.c=a)}function a(e){var u=p.active,i=p[u];i&&(i.timer.c=null,i.timer.t=NaN,--p.count,delete p[u],i.event&&i.event.interrupt.call(n,n.__data__,i.index));for(var a in p)if(r>+a){var c=p[a];c.timer.c=null,c.timer.t=NaN,--p.count,delete p[a]}s.c=o,qn(function(){return s.c&&o(e||1)&&(s.c=null,s.t=NaN),1},0,l),p.active=r,v.event&&v.event.start.call(n,n.__data__,t),g=[],v.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&g.push(r)}),h=v.ease,f=v.duration}function o(u){for(var i=u/f,a=h(i),o=g.length;o>0;)g[--o].call(n,a);return i>=1?(v.event&&v.event.end.call(n,n.__data__,t),--p.count?delete p[r]:delete n[e],1):void 0}var l,s,f,h,g,p=n[e]||(n[e]={active:0,count:0}),v=p[r];v||(l=u.time,s=qn(i,0,l),v=p[r]={tween:new c,time:l,timer:s,delay:u.delay,duration:u.duration,ease:u.ease,index:t},u=null,++p.count)}function na(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function ta(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function ea(n){return n.toISOString()}function ra(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=oa.bisect(Kl,u);return i==Kl.length?[t.year,Ku(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Kl[i-1]<Kl[i]/u?i-1:i]:[tc,Ku(n,e)[2]]}return r.invert=function(t){return ua(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(ua)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,ua(+e+1),t).length}var i=r.domain(),a=Yu(i),o=null==n?u(a,10):"number"==typeof n&&u(a,n);return o&&(n=o[0],t=o[1]),r.domain(Xu(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=ua(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=ua(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yu(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],ua(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ra(n.copy(),t,e)},Ju(r,n)}function ua(n){return new Date(n)}function ia(n){return JSON.parse(n.responseText)}function aa(n){var t=sa.createRange();return t.selectNode(sa.body),t.createContextualFragment(n.responseText)}var oa={version:"3.5.16"},la=[].slice,ca=function(n){return la.call(n)},sa=this.document;if(sa)try{ca(sa.documentElement.childNodes)[0].nodeType}catch(fa){ca=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),sa)try{sa.createElement("DIV").style.setProperty("opacity",0,"")}catch(ha){var ga=this.Element.prototype,pa=ga.setAttribute,va=ga.setAttributeNS,da=this.CSSStyleDeclaration.prototype,ma=da.setProperty;ga.setAttribute=function(n,t){pa.call(this,n,t+"")},ga.setAttributeNS=function(n,t,e){va.call(this,n,t,e+"")},da.setProperty=function(n,t,e){ma.call(this,n,t+"",e)}}oa.ascending=e,oa.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:NaN},oa.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},oa.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i;)if(null!=(r=n[u])&&r>=r){e=r;break}for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=r;break}for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},oa.extent=function(n,t){var e,r,u,i=-1,a=n.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=n[i])&&r>=r){e=u=r;break}for(;++i<a;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<a;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=u=r;break}for(;++i<a;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},oa.sum=function(n,t){var e,r=0,i=n.length,a=-1;if(1===arguments.length)for(;++a<i;)u(e=+n[a])&&(r+=e);else for(;++a<i;)u(e=+t.call(n,n[a],a))&&(r+=e);return r},oa.mean=function(n,t){var e,i=0,a=n.length,o=-1,l=a;if(1===arguments.length)for(;++o<a;)u(e=r(n[o]))?i+=e:--l;else for(;++o<a;)u(e=r(t.call(n,n[o],o)))?i+=e:--l;return l?i/l:void 0},oa.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},oa.median=function(n,t){var i,a=[],o=n.length,l=-1;if(1===arguments.length)for(;++l<o;)u(i=r(n[l]))&&a.push(i);else for(;++l<o;)u(i=r(t.call(n,n[l],l)))&&a.push(i);return a.length?oa.quantile(a.sort(e),.5):void 0},oa.variance=function(n,t){var e,i,a=n.length,o=0,l=0,c=-1,s=0;if(1===arguments.length)for(;++c<a;)u(e=r(n[c]))&&(i=e-o,o+=i/++s,l+=i*(e-o));else for(;++c<a;)u(e=r(t.call(n,n[c],c)))&&(i=e-o,o+=i/++s,l+=i*(e-o));return s>1?l/(s-1):void 0},oa.deviation=function(){var n=oa.variance.apply(this,arguments);return n?Math.sqrt(n):n};var ya=i(e);oa.bisectLeft=ya.left,oa.bisect=oa.bisectRight=ya.right,oa.bisector=function(n){return i(1===n.length?function(t,r){return e(n(t),r)}:n)},oa.shuffle=function(n,t,e){(i=arguments.length)<3&&(e=n.length,2>i&&(t=0));for(var r,u,i=e-t;i;)u=Math.random()*i--|0,r=n[i+t],n[i+t]=n[u+t],n[u+t]=r;return n},oa.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},oa.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},oa.transpose=function(n){if(!(u=n.length))return[];for(var t=-1,e=oa.min(n,a),r=new Array(e);++t<e;)for(var u,i=-1,o=r[t]=new Array(u);++i<u;)o[i]=n[i][t];return r},oa.zip=function(){return oa.transpose(arguments)},oa.keys=function(n){var t=[];for(var e in n)t.push(e);return t},oa.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},oa.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},oa.merge=function(n){for(var t,e,r,u=n.length,i=-1,a=0;++i<u;)a+=n[i].length;for(e=new Array(a);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--a]=r[t];return e};var Ma=Math.abs;oa.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,u=[],i=o(Ma(e)),a=-1;if(n*=i,t*=i,e*=i,0>e)for(;(r=n+e*++a)>t;)u.push(r/i);else for(;(r=n+e*++a)<t;)u.push(r/i);return u},oa.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,u=-1,i=n.length;if(1===arguments.length)for(;++u<i;)e.set(u,n[u]);else for(;++u<i;)e.set(t.call(n,r=n[u],u),r)}else for(var a in n)e.set(a,n[a]);return e};var xa="__proto__",ba="\x00";l(c,{has:h,get:function(n){return this._[s(n)]},set:function(n,t){return this._[s(n)]=t},remove:g,keys:p,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:f(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t),this._[t])}}),oa.nest=function(){function n(t,a,o){if(o>=i.length)return r?r.call(u,a):e?a.sort(e):a;for(var l,s,f,h,g=-1,p=a.length,v=i[o++],d=new c;++g<p;)(h=d.get(l=v(s=a[g])))?h.push(s):d.set(l,[s]);return t?(s=t(),f=function(e,r){s.set(e,n(t,r,o))}):(s={},f=function(e,r){s[e]=n(t,r,o)}),d.forEach(f),s}function t(n,e){if(e>=i.length)return n;var r=[],u=a[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],a=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(oa.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return a[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},oa.set=function(n){var t=new m;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},l(m,{has:h,add:function(n){return this._[s(n+="")]=!0,n},remove:g,values:p,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,f(t))}}),oa.behavior={},oa.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=M(n,t,t[e]);return n};var _a=["webkit","ms","moz","Moz","o","O"];oa.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},oa.event=null,oa.requote=function(n){return n.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},ka=function(n,t){return t.querySelector(n)},Na=function(n,t){return t.querySelectorAll(n)},Ea=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(Ea=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(ka=function(n,t){return Sizzle(n,t)[0]||null},Na=Sizzle,Ea=Sizzle.matchesSelector),oa.selection=function(){return oa.select(sa.documentElement)};var Aa=oa.selection.prototype=[];Aa.select=function(n){var t,e,r,u,i=[];n=A(n);for(var a=-1,o=this.length;++a<o;){i.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(u=r[l])?(t.push(e=n.call(u,u.__data__,l,a)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return E(i)},Aa.selectAll=function(n){var t,e,r=[];n=C(n);for(var u=-1,i=this.length;++u<i;)for(var a=this[u],o=-1,l=a.length;++o<l;)(e=a[o])&&(r.push(t=ca(n.call(e,e.__data__,o,u))),t.parentNode=e);return E(r)};var Ca="http://www.w3.org/1999/xhtml",za={svg:"http://www.w3.org/2000/svg",xhtml:Ca,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};oa.ns={prefix:za,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),za.hasOwnProperty(e)?{space:za[e],local:n}:n}},Aa.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=oa.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Aa.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!q(n[u]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Aa.style=function(n,e,r){var u=arguments.length;if(3>u){if("string"!=typeof n){2>u&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(2>u){var i=this.node();return t(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Aa.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},Aa.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Aa.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Aa.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Aa.insert=function(n,t){return n=j(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(F)},Aa.data=function(n,t){function e(n,e){var r,u,i,a=n.length,f=e.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){var d,m=new c,y=new Array(a);for(r=-1;++r<a;)(u=n[r])&&(m.has(d=t.call(u,u.__data__,r))?v[r]=u:m.set(d,u),y[r]=d);for(r=-1;++r<f;)(u=m.get(d=t.call(e,i=e[r],r)))?u!==!0&&(g[r]=u,u.__data__=i):p[r]=H(i),m.set(d,!0);for(r=-1;++r<a;)r in y&&m.get(y[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=H(i);for(;f>r;++r)p[r]=H(e[r]);for(;a>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,o.push(p),l.push(g),s.push(v)}var r,u,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++i<a;)(u=r[i])&&(n[i]=u.__data__);return n}var o=Z([]),l=E([]),s=E([]);if("function"==typeof n)for(;++i<a;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<a;)e(r=this[i],n);return l.enter=function(){return o},l.exit=function(){return s},l},Aa.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Aa.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,a=this.length;a>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var o=0,l=e.length;l>o;o++)(r=e[o])&&n.call(r,r.__data__,o,i)&&t.push(r)}return E(u)},Aa.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},Aa.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Aa.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Aa.call=function(n){var t=ca(arguments);return n.apply(t[0]=this,t),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},Aa.size=function(){var n=0;return Y(this,function(){++n}),n};var La=[];oa.selection.enter=Z,oa.selection.enter.prototype=La,La.append=Aa.append,La.empty=Aa.empty,La.node=Aa.node,La.call=Aa.call,La.size=Aa.size,La.select=function(n){for(var t,e,r,u,i,a=[],o=-1,l=this.length;++o<l;){r=(u=this[o]).update,a.push(t=[]),t.parentNode=u.parentNode;for(var c=-1,s=u.length;++c<s;)(i=u[c])?(t.push(r[c]=e=n.call(u.parentNode,i.__data__,c,o)),e.__data__=i.__data__):t.push(null)}return E(a)},La.insert=function(n,t){return arguments.length<2&&(t=V(this)),Aa.insert.call(this,n,t)},oa.select=function(t){var e;return"string"==typeof t?(e=[ka(t,sa)],e.parentNode=sa.documentElement):(e=[t],e.parentNode=n(t)),E([e])},oa.selectAll=function(n){var t;return"string"==typeof n?(t=ca(Na(n,sa)),t.parentNode=sa.documentElement):(t=ca(n),t.parentNode=null),E([t])},Aa.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var qa=oa.map({mouseenter:"mouseover",mouseleave:"mouseout"});sa&&qa.forEach(function(n){"on"+n in sa&&qa.remove(n)});var Ta,Ra=0;oa.mouse=function(n){return J(n,k())};var Da=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;oa.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return J(n,r)},oa.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function e(n,t,e,i,a){return function(){function o(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],p|=n|e,M=r,g({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:e}))}function l(){t(h,v)&&(m.on(i+d,null).on(a+d,null),y(p),g({type:"dragend"}))}var c,s=this,f=oa.event.target.correspondingElement||oa.event.target,h=s.parentNode,g=r.of(s,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=oa.select(e(f)).on(i+d,o).on(a+d,l),y=W(f),M=t(h,v);u?(c=u.apply(s,arguments),c=[c.x-M[0],c.y-M[1]]):c=[0,0],g({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),u=null,i=e(b,oa.mouse,t,"mousemove","mouseup"),a=e(G,oa.touch,y,"touchmove","touchend");return n.origin=function(t){return arguments.length?(u=t,n):u},oa.rebind(n,r,"on")},oa.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ca(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Pa=1e-6,Ua=Pa*Pa,ja=Math.PI,Fa=2*ja,Ha=Fa-Pa,Oa=ja/2,Ia=ja/180,Ya=180/ja,Za=Math.SQRT2,Va=2,Xa=4;oa.interpolateZoom=function(n,t){var e,r,u=n[0],i=n[1],a=n[2],o=t[0],l=t[1],c=t[2],s=o-u,f=l-i,h=s*s+f*f;if(Ua>h)r=Math.log(c/a)/Za,e=function(n){return[u+n*s,i+n*f,a*Math.exp(Za*n*r)]};else{var g=Math.sqrt(h),p=(c*c-a*a+Xa*h)/(2*a*Va*g),v=(c*c-a*a-Xa*h)/(2*c*Va*g),d=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-d)/Za,e=function(n){var t=n*r,e=rn(d),o=a/(Va*g)*(e*un(Za*t+d)-en(d));return[u+o*s,i+o*f,a*e/rn(Za*t+d)]}}return e.duration=1e3*r,e},oa.behavior.zoom=function(){function n(n){n.on(L,f).on(Ba+".zoom",g).on("dblclick.zoom",p).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function u(n){k.k=Math.max(A[0],Math.min(A[1],n))}function i(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function a(t,e,r,a){t.__chart__={x:k.x,y:k.y,k:k.k},u(Math.pow(2,a)),i(d=e,r),t=oa.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function o(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function l(n){z++||n({type:"zoomstart"})}function c(n){o(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function s(n){--z||(n({type:"zoomend"}),d=null)}function f(){function n(){o=1,i(oa.mouse(u),h),c(a)}function r(){f.on(q,null).on(T,null),g(o),s(a)}var u=this,a=D.of(u,arguments),o=0,f=oa.select(t(u)).on(q,n).on(T,r),h=e(oa.mouse(u)),g=W(u);Il.call(u),l(a)}function h(){function n(){var n=oa.touches(p);return g=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=oa.event.target;oa.select(t).on(x,r).on(b,o),_.push(t);for(var e=oa.event.changedTouches,u=0,i=e.length;i>u;++u)d[e[u].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(500>c-M){var s=l[0];a(p,s,d[s.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=c}else if(l.length>1){var s=l[0],f=l[1],h=s[0]-f[0],g=s[1]-f[1];m=h*h+g*g}}function r(){var n,t,e,r,a=oa.touches(p);Il.call(p);for(var o=0,l=a.length;l>o;++o,r=null)if(e=a[o],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var s=(s=e[0]-n[0])*s+(s=e[1]-n[1])*s,f=m&&Math.sqrt(s/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],u(f*g)}M=null,i(n,t),c(v)}function o(){if(oa.event.touches.length){for(var t=oa.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(var u in d)return void n()}oa.selectAll(_).on(y,null),w.on(L,f).on(R,h),N(),s(v)}var g,p=this,v=D.of(p,arguments),d={},m=0,y=".zoom-"+oa.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,_=[],w=oa.select(p),N=W(p);t(),l(v),w.on(L,null).on(R,t)}function g(){var n=D.of(this,arguments);y?clearTimeout(y):(Il.call(this),v=e(d=m||oa.mouse(this)),l(n)),y=setTimeout(function(){y=null,s(n)},50),S(),u(Math.pow(2,.002*$a())*k.k),i(d,v),c(n)}function p(){var n=oa.mouse(this),t=Math.log(k.k)/Math.LN2;a(this,n,e(n),oa.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,m,y,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=Wa,C=250,z=0,L="mousedown.zoom",q="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return Ba||(Ba="onwheel"in sa?($a=function(){return-oa.event.deltaY*(oa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in sa?($a=function(){return oa.event.wheelDelta},"mousewheel"):($a=function(){return-oa.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;Hl?oa.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],u=d?d[0]:e/2,i=d?d[1]:r/2,a=oa.interpolateZoom([(u-k.x)/k.k,(i-k.y)/k.k,e/k.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=a(t),o=e/r[2];this.__chart__=k={x:u-r[0]*o,y:i-r[1]*o,k:o},c(n)}}).each("interrupt.zoom",function(){s(n)}).each("end.zoom",function(){s(n)}):(this.__chart__=k,l(n),c(n),s(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},o(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},u(+t),o(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Wa:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},oa.rebind(n,D,"on")};var $a,Ba,Wa=[0,1/0];oa.color=on,on.prototype.toString=function(){return this.rgb()+""},oa.hsl=ln;var Ja=ln.prototype=new on;Ja.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Ja.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Ja.rgb=function(){return cn(this.h,this.s,this.l)},oa.hcl=sn;var Ga=sn.prototype=new on;Ga.brighter=function(n){return new sn(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?n:1)))},Ga.darker=function(n){return new sn(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?n:1)))},Ga.rgb=function(){return fn(this.h,this.c,this.l).rgb()},oa.lab=hn;var Ka=18,Qa=.95047,no=1,to=1.08883,eo=hn.prototype=new on;eo.brighter=function(n){return new hn(Math.min(100,this.l+Ka*(arguments.length?n:1)),this.a,this.b)},eo.darker=function(n){return new hn(Math.max(0,this.l-Ka*(arguments.length?n:1)),this.a,this.b)},eo.rgb=function(){return gn(this.l,this.a,this.b)},oa.rgb=yn;var ro=yn.prototype=new on;ro.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new yn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new yn(u,u,u)},ro.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new yn(n*this.r,n*this.g,n*this.b)},ro.hsl=function(){return wn(this.r,this.g,this.b)},ro.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var uo=oa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});uo.forEach(function(n,t){uo.set(n,Mn(t))}),oa.functor=En,oa.xhr=An(y),oa.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var a=Cn(n,t,null==e?r:u(e),i);return a.row=function(n){return arguments.length?a.response(null==(e=n)?r:u(n)):e},a}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(a).join(n)}function a(n){return o.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var o=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(s>=c)return a;if(u)return u=!1,i;var t=s;if(34===n.charCodeAt(t)){for(var e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}s=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++s):10===r&&(u=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;c>s;){var r=n.charCodeAt(s++),o=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(s)&&(++s,++o);else if(r!==l)continue;return n.slice(t,s-o)}return n.slice(t)}for(var r,u,i={},a={},o=[],c=n.length,s=0,f=0;(r=e())!==a;){for(var h=[];r!==i&&r!==a;)h.push(r),r=e();t&&null==(h=t(h,f++))||o.push(h)}return o},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new m,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(a).join(n)].concat(t.map(function(t){return u.map(function(n){return a(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},oa.csv=oa.dsv(",","text/csv"),oa.tsv=oa.dsv("	","text/tab-separated-values");var io,ao,oo,lo,co=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};oa.timer=function(){qn.apply(this,arguments)},oa.timer.flush=function(){Rn(),Dn()},oa.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var so=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Un);oa.formatPrefix=function(n,t){var e=0;return(n=+n)&&(0>n&&(n*=-1),t&&(n=oa.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),so[8+e/3]};var fo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ho=oa.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=oa.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),go=oa.time={},po=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){vo.setUTCDate.apply(this._,arguments)},setDay:function(){vo.setUTCDay.apply(this._,arguments)},setFullYear:function(){vo.setUTCFullYear.apply(this._,arguments)},setHours:function(){vo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){vo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){vo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){vo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){vo.setUTCSeconds.apply(this._,arguments)},setTime:function(){vo.setTime.apply(this._,arguments)}};var vo=Date.prototype;go.year=On(function(n){return n=go.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),go.years=go.year.range,go.years.utc=go.year.utc.range,go.day=On(function(n){var t=new po(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),go.days=go.day.range,go.days.utc=go.day.utc.range,go.dayOfYear=function(n){var t=go.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=go[n]=On(function(n){return(n=go.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=go.year(n).getDay();return Math.floor((go.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});go[n+"s"]=e.range,go[n+"s"].utc=e.utc.range,go[n+"OfYear"]=function(n){var e=go.year(n).getDay();return Math.floor((go.dayOfYear(n)+(e+t)%7)/7)}}),go.week=go.sunday,go.weeks=go.sunday.range,go.weeks.utc=go.sunday.utc.range,go.weekOfYear=go.sundayOfYear;var mo={"-":"",_:" ",0:"0"},yo=/^\s*\d+/,Mo=/^%/;oa.locale=function(n){return{numberFormat:jn(n),timeFormat:Yn(n)}};var xo=oa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});oa.format=xo.numberFormat,oa.geo={},st.prototype={s:0,t:0,add:function(n){ft(n,this.t,bo),ft(bo.s,this.s,this),this.s?this.t+=bo.t:this.s=bo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bo=new st;oa.geo.stream=function(n,t){n&&_o.hasOwnProperty(n.type)?_o[n.type](n,t):ht(n,t)};var _o={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)ht(e[r].geometry,t)}},wo={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){gt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)gt(e[r],t,0)},Polygon:function(n,t){pt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)pt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)ht(e[r],t)}};oa.geo.area=function(n){return So=0,oa.geo.stream(n,No),So};var So,ko=new st,No={sphere:function(){So+=4*ja},point:b,lineStart:b,lineEnd:b,polygonStart:function(){ko.reset(),No.lineStart=vt},polygonEnd:function(){var n=2*ko;So+=0>n?4*ja+n:n,No.lineStart=No.lineEnd=No.point=b}};oa.geo.bounds=function(){function n(n,t){M.push(x=[s=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=dt([t*Ia,e*Ia]);if(m){var u=yt(m,r),i=[u[1],-u[0],0],a=yt(i,u);bt(a),a=_t(a);var l=t-p,c=l>0?1:-1,v=a[0]*Ya*c,d=Ma(l)>180;if(d^(v>c*p&&c*t>v)){var y=a[1]*Ya;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>c*p&&c*t>v)){var y=-a[1]*Ya;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t):h>=s?(s>t&&(s=t),t>h&&(h=t)):t>p?o(s,t)>o(s,h)&&(h=t):o(t,h)>o(s,h)&&(s=t)}else n(t,e);m=r,p=t}function e(){b.point=t}function r(){x[0]=s,x[1]=h,b.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=Ma(r)>180?r+(r>0?360:-360):r}else v=n,d=e;No.point(n,e),t(n,e)}function i(){No.lineStart()}function a(){u(v,d),No.lineEnd(),Ma(y)>Pa&&(s=-(h=180)),x[0]=s,x[1]=h,m=null}function o(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var s,f,h,g,p,v,d,m,y,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=u,b.lineStart=i,b.lineEnd=a,y=0,No.polygonStart()},polygonEnd:function(){No.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,0>ko?(s=-(h=180),f=-(g=90)):y>Pa?g=90:-Pa>y&&(f=-90),x[0]=s,x[1]=h}};return function(n){g=h=-(s=f=1/0),M=[],oa.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e,r=1,u=M[0],i=[u];t>r;++r)e=M[r],c(e[0],u)||c(e[1],u)?(o(u[0],e[1])>o(u[0],u[1])&&(u[1]=e[1]),o(e[0],u[1])>o(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var a,e,p=-(1/0),t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(a=o(u[1],e[0]))>p&&(p=a,s=e[0],h=u[1])}return M=x=null,s===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[s,f],[h,g]]}}(),oa.geo.centroid=function(n){Eo=Ao=Co=zo=Lo=qo=To=Ro=Do=Po=Uo=0,oa.geo.stream(n,jo);var t=Do,e=Po,r=Uo,u=t*t+e*e+r*r;return Ua>u&&(t=qo,e=To,r=Ro,Pa>Ao&&(t=Co,e=zo,r=Lo),u=t*t+e*e+r*r,Ua>u)?[NaN,NaN]:[Math.atan2(e,t)*Ya,tn(r/Math.sqrt(u))*Ya]};var Eo,Ao,Co,zo,Lo,qo,To,Ro,Do,Po,Uo,jo={sphere:b,point:St,lineStart:Nt,lineEnd:Et,polygonStart:function(){jo.lineStart=At},polygonEnd:function(){jo.lineStart=Nt}},Fo=Rt(zt,jt,Ht,[-ja,-ja/2]),Ho=1e9;oa.geo.clipExtent=function(){var n,t,e,r,u,i,a={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(o){return arguments.length?(i=Zt(n=+o[0][0],t=+o[0][1],e=+o[1][0],r=+o[1][1]),u&&(u.valid=!1,u=null),a):[[n,t],[e,r]]}};return a.extent([[0,0],[960,500]])},(oa.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,oa.geo.albers=function(){return oa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},oa.geo.albersUsa=function(){function n(n){var i=n[0],a=n[1];return t=null,e(i,a),t||(r(i,a),t)||u(i,a),t}var t,e,r,u,i=oa.geo.albers(),a=oa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=oa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?a:u>=.166&&.234>u&&r>=-.214&&-.115>r?o:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=a.stream(n),r=o.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),o.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),o.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var c=i.scale(),s=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[s-.455*c,f-.238*c],[s+.455*c,f+.238*c]]).stream(l).point,r=a.translate([s-.307*c,f+.201*c]).clipExtent([[s-.425*c+Pa,f+.12*c+Pa],[s-.214*c-Pa,f+.234*c-Pa]]).stream(l).point,u=o.translate([s-.205*c,f+.212*c]).clipExtent([[s-.214*c+Pa,f+.166*c+Pa],[s-.115*c-Pa,f+.234*c-Pa]]).stream(l).point,n},n.scale(1070)};var Oo,Io,Yo,Zo,Vo,Xo,$o={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Io=0,$o.lineStart=$t},polygonEnd:function(){$o.lineStart=$o.lineEnd=$o.point=b,Oo+=Ma(Io/2)}},Bo={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Wo={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){Wo.lineStart=ne},polygonEnd:function(){Wo.point=Gt,Wo.lineStart=Kt,Wo.lineEnd=Qt}};oa.geo.path=function(){function n(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=u(i)),oa.geo.stream(n,a)),i.result()}function t(){return a=null,n}var e,r,u,i,a,o=4.5;return n.area=function(n){return Oo=0,oa.geo.stream(n,u($o)),Oo},n.centroid=function(n){return Co=zo=Lo=qo=To=Ro=Do=Po=Uo=0,oa.geo.stream(n,u(Wo)),Uo?[Do/Uo,Po/Uo]:Ro?[qo/Ro,To/Ro]:Lo?[Co/Lo,zo/Lo]:[NaN,NaN]},n.bounds=function(n){return Vo=Xo=-(Yo=Zo=1/0),oa.geo.stream(n,u(Bo)),[[Yo,Zo],[Vo,Xo]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||re(n):y,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new Wt:new te(n),"function"!=typeof o&&i.pointRadius(o),t()):r},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(oa.geo.albersUsa()).context(null)},oa.geo.transform=function(n){return{stream:function(t){var e=new ue(t);for(var r in n)e[r]=n[r];return e}}},ue.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},oa.geo.projection=ae,oa.geo.projectionMutator=oe,(oa.geo.equirectangular=function(){return ae(ce)}).raw=ce.invert=ce,oa.geo.rotation=function(n){function t(t){return t=n(t[0]*Ia,t[1]*Ia),t[0]*=Ya,t[1]*=Ya,t}return n=fe(n[0]%360*Ia,n[1]*Ia,n.length>2?n[2]*Ia:0),t.invert=function(t){return t=n.invert(t[0]*Ia,t[1]*Ia),t[0]*=Ya,t[1]*=Ya,t},t},se.invert=ce,oa.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=fe(-n[0]*Ia,-n[1]*Ia,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Ya,n[1]*=Ya}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ve((t=+r)*Ia,u*Ia),n):t},n.precision=function(r){return arguments.length?(e=ve(t*Ia,(u=+r)*Ia),n):u},n.angle(90)},oa.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Ia,u=n[1]*Ia,i=t[1]*Ia,a=Math.sin(r),o=Math.cos(r),l=Math.sin(u),c=Math.cos(u),s=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*a)*e+(e=c*s-l*f*o)*e),l*s+c*f*o)},oa.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return oa.range(Math.ceil(i/d)*d,u,d).map(h).concat(oa.range(Math.ceil(c/m)*m,l,m).map(g)).concat(oa.range(Math.ceil(r/p)*p,e,p).filter(function(n){return Ma(n%d)>Pa}).map(s)).concat(oa.range(Math.ceil(o/v)*v,a,v).filter(function(n){return Ma(n%m)>Pa}).map(f))}var e,r,u,i,a,o,l,c,s,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(l).slice(1),h(u).reverse().slice(1),g(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],c=+t[0][1],l=+t[1][1],i>u&&(t=i,i=u,u=t),c>l&&(t=c,c=l,l=t),n.precision(y)):[[i,c],[u,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],r>e&&(t=r,r=e,e=t),o>a&&(t=o,o=a,a=t),n.precision(y)):[[r,o],[e,a]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,s=me(o,a,90),f=ye(r,e,y),h=me(c,l,90),g=ye(i,u,y),n):y},n.majorExtent([[-180,-90+Pa],[180,90-Pa]]).minorExtent([[-180,-80-Pa],[180,80+Pa]])},oa.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=Me,u=xe;return n.distance=function(){return oa.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},oa.geo.interpolate=function(n,t){return be(n[0]*Ia,n[1]*Ia,t[0]*Ia,t[1]*Ia)},oa.geo.length=function(n){return Jo=0,oa.geo.stream(n,Go),Jo};var Jo,Go={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Ko=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(oa.geo.azimuthalEqualArea=function(){return ae(Ko)}).raw=Ko;var Qo=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},y);(oa.geo.azimuthalEquidistant=function(){return ae(Qo)}).raw=Qo,(oa.geo.conicConformal=function(){return Vt(Se)}).raw=Se,(oa.geo.conicEquidistant=function(){return Vt(ke)}).raw=ke;var nl=we(function(n){return 1/n},Math.atan);(oa.geo.gnomonic=function(){return ae(nl)}).raw=nl,Ne.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Oa]},(oa.geo.mercator=function(){return Ee(Ne)}).raw=Ne;var tl=we(function(){return 1},Math.asin);(oa.geo.orthographic=function(){return ae(tl)}).raw=tl;var el=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(oa.geo.stereographic=function(){return ae(el)}).raw=el,Ae.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Oa]},(oa.geo.transverseMercator=function(){var n=Ee(Ae),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ae,oa.geom={},oa.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=En(e),i=En(r),a=n.length,o=[],l=[];for(t=0;a>t;t++)o.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(o.sort(qe),t=0;a>t;t++)l.push([o[t][0],-o[t][1]]);var c=Le(o),s=Le(l),f=s[0]===c[0],h=s[s.length-1]===c[c.length-1],g=[];for(t=c.length-1;t>=0;--t)g.push(n[o[c[t]][2]]);for(t=+f;t<s.length-h;++t)g.push(n[o[s[t]][2]]);return g}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},oa.geom.polygon=function(n){return Sa(n,rl),n};var rl=oa.geom.polygon.prototype=[];rl.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},rl.centroid=function(n){var t,e,r=-1,u=this.length,i=0,a=0,o=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=o,o=this[r],e=t[0]*o[1]-o[0]*t[1],i+=(t[0]+o[0])*e,a+=(t[1]+o[1])*e;return[i*n,a*n]},rl.clip=function(n){for(var t,e,r,u,i,a,o=De(n),l=-1,c=this.length-De(this),s=this[c-1];++l<c;){for(t=n.slice(),n.length=0,u=this[l],i=t[(r=t.length-o)-1],e=-1;++e<r;)a=t[e],Te(a,s,u)?(Te(i,s,u)||n.push(Re(i,a,s,u)),n.push(a)):Te(i,s,u)&&n.push(Re(i,a,s,u)),i=a;o&&n.push(n[0]),s=u}return n};var ul,il,al,ol,ll,cl=[],sl=[];Ye.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ve),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=ar(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,a=n.R;if(e=i?a?ar(a):i:a,u?u.L===n?u.L=e:u.R=e:this._=e,i&&a?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==a?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=a,a.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,ur(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ir(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,ur(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,ir(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ur(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,ir(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},oa.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=o[0][0],u=o[0][1],i=o[1][0],a=o[1][1];return or(e(n),o).cells.forEach(function(e,o){var l=e.edges,c=e.site,s=t[o]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=i&&c.y>=u&&c.y<=a?[[r,a],[i,a],[i,u],[r,u]]:[];s.point=n[o]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/Pa)*Pa,y:Math.round(a(n,t)/Pa)*Pa,i:t}})}var r=Ce,u=ze,i=r,a=u,o=fl;return n?t(n):(t.links=function(n){return or(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return or(e(n)).cells.forEach(function(e,r){for(var u,i,a=e.site,o=e.edges.sort(Ve),l=-1,c=o.length,s=o[c-1].edge,f=s.l===a?s.r:s.l;++l<c;)u=s,i=f,s=o[l].edge,f=s.l===a?s.r:s.l,r<i.i&&r<f.i&&cr(a,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=En(r=n),t):r},t.y=function(n){return arguments.length?(a=En(u=n),t):u},t.clipExtent=function(n){return arguments.length?(o=null==n?fl:n,t):o===fl?null:o},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):o===fl?null:o&&o[1]},t)};var fl=[[-1e6,-1e6],[1e6,1e6]];oa.geom.delaunay=function(n){return oa.geom.voronoi().triangles(n)},oa.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,a,o){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,s=n.y;if(null!=l)if(Ma(l-e)+Ma(s-r)<.01)c(n,t,e,r,u,i,a,o);else{var f=n.point;n.x=n.y=n.point=null,c(n,f,l,s,u,i,a,o),c(n,t,e,r,u,i,a,o)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,u,i,a,o)}function c(n,t,e,r,u,a,o,l){var c=.5*(u+o),s=.5*(a+l),f=e>=c,h=r>=s,g=h<<1|f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=hr()),f?u=c:o=c,h?a=s:l=s,i(n,t,e,r,u,a,o,l)}var s,f,h,g,p,v,d,m,y,M=En(o),x=En(l);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,a)for(g=0;p>g;++g)s=n[g],s.x<v&&(v=s.x),s.y<d&&(d=s.y),s.x>m&&(m=s.x),s.y>y&&(y=s.y),f.push(s.x),h.push(s.y);else for(g=0;p>g;++g){var b=+M(s=n[g],g),_=+x(s,g);v>b&&(v=b),d>_&&(d=_),b>m&&(m=b),_>y&&(y=_),f.push(b),h.push(_)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=hr();if(k.add=function(n){i(k,n,+M(n,++g),+x(n,g),v,d,m,y)},k.visit=function(n){gr(n,k,v,d,m,y)},k.find=function(n){return pr(k,n[0],n[1],v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=s=null,k}var a,o=Ce,l=ze;return(a=arguments.length)?(o=sr,l=fr,3===a&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(o=n,i):o},i.y=function(n){return arguments.length?(l=n,i):l},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},oa.interpolateRgb=vr,oa.interpolateObject=dr,oa.interpolateNumber=mr,oa.interpolateString=yr;var hl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gl=new RegExp(hl.source,"g");oa.interpolate=Mr,oa.interpolators=[function(n,t){var e=typeof t;return("string"===e?uo.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:yr:t instanceof on?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:mr)(n,t)}],oa.interpolateArray=xr;var pl=function(){return y},vl=oa.map({linear:pl,poly:Er,quad:function(){return Sr},cubic:function(){return kr},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),dl=oa.map({"in":y,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});oa.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=vl.get(e)||pl,r=dl.get(r)||y,br(r(e.apply(null,la.call(arguments,1))))},oa.interpolateHcl=Rr,oa.interpolateHsl=Dr,oa.interpolateLab=Pr,oa.interpolateRound=Ur,oa.transform=function(n){var t=sa.createElementNS(oa.ns.prefix.svg,"g");return(oa.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new jr(e?e.matrix:ml)})(n)},jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ml={a:1,b:0,c:0,d:1,e:0,f:0};oa.interpolateTransform=$r,oa.layout={},oa.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},oa.layout.chord=function(){function n(){var n,c,f,h,g,p={},v=[],d=oa.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(c=0,g=-1;++g<i;)c+=u[h][g];v.push(c),m.push(oa.range(i)),n+=c}for(a&&d.sort(function(n,t){return a(v[n],v[t])}),o&&m.forEach(function(n,t){n.sort(function(n,e){return o(u[t][n],u[t][e])})}),n=(Fa-s*i)/n,c=0,h=-1;++h<i;){for(f=c,g=-1;++g<i;){var y=d[h],M=m[y][g],x=u[y][M],b=c,_=c+=x*n;p[y+"-"+M]={index:y,subindex:M,startAngle:b,endAngle:_,value:x}}r[y]={index:y,startAngle:f,endAngle:c,value:v[y]},c+=s}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}l&&t()}function t(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,a,o,l,c={},s=0;return c.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,c):u},c.padding=function(n){return arguments.length?(s=n,e=r=null,c):s},c.sortGroups=function(n){return arguments.length?(a=n,e=r=null,c):a},c.sortSubgroups=function(n){return arguments.length?(o=n,e=null,c):o},c.sortChords=function(n){return arguments.length?(l=n,e&&t(),c):l},c.chords=function(){return e||n(),e},c.groups=function(){return r||n(),r},c},oa.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,a=t.cy-n.y,o=u-e,l=i*i+a*a;if(l>o*o/m){if(v>l){var c=t.charge/l;n.px-=i*c,n.py-=a*c}return!0}if(t.point&&l&&v>l){var c=t.pointCharge/l;n.px-=i*c,n.py-=a*c}}return!t.charge}}function t(n){n.px=oa.event.x,n.py=oa.event.y,l.resume()}var e,r,u,i,a,o,l={},c=oa.dispatch("start","tick","end"),s=[1,1],f=.9,h=yl,g=Ml,p=-30,v=xl,d=.1,m=.64,M=[],x=[];return l.tick=function(){if((u*=.99)<.005)return e=null,c.end({type:"end",alpha:u=0}),!0;var t,r,l,h,g,v,m,y,b,_=M.length,w=x.length;for(r=0;w>r;++r)l=x[r],h=l.source,g=l.target,y=g.x-h.x,b=g.y-h.y,(v=y*y+b*b)&&(v=u*a[r]*((v=Math.sqrt(v))-i[r])/v,y*=v,b*=v,g.x-=y*(m=h.weight+g.weight?h.weight/(h.weight+g.weight):.5),g.y-=b*m,h.x+=y*(m=1-m),h.y+=b*m);if((m=u*d)&&(y=s[0]/2,b=s[1]/2,r=-1,m))for(;++r<_;)l=M[r],l.x+=(y-l.x)*m,l.y+=(b-l.y)*m;if(p)for(ru(t=oa.geom.quadtree(M),u,o),r=-1;++r<_;)(l=M[r]).fixed||t.visit(n(l));for(r=-1;++r<_;)l=M[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);c.tick({type:"tick",alpha:u})},l.nodes=function(n){return arguments.length?(M=n,l):M},l.links=function(n){return arguments.length?(x=n,l):x},l.size=function(n){return arguments.length?(s=n,l):s},l.linkDistance=function(n){return arguments.length?(h="function"==typeof n?n:+n,l):h},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(g="function"==typeof n?n:+n,l):g},l.friction=function(n){return arguments.length?(f=+n,l):f},l.charge=function(n){return arguments.length?(p="function"==typeof n?n:+n,l):p},l.chargeDistance=function(n){return arguments.length?(v=n*n,l):Math.sqrt(v)},l.gravity=function(n){return arguments.length?(d=+n,l):d},l.theta=function(n){return arguments.length?(m=n*n,l):Math.sqrt(m)},l.alpha=function(n){return arguments.length?(n=+n,u?n>0?u=n:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:u=0})):n>0&&(c.start({type:"start",alpha:u=n}),e=qn(l.tick)),l):u},l.start=function(){function n(n,r){if(!e){for(e=new Array(u),l=0;u>l;++l)e[l]=[];for(l=0;c>l;++l){var i=x[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var a,o=e[t],l=-1,s=o.length;++l<s;)if(!isNaN(a=o[l][n]))return a;return Math.random()*r}var t,e,r,u=M.length,c=x.length,f=s[0],v=s[1];for(t=0;u>t;++t)(r=M[t]).index=t,r.weight=0;for(t=0;c>t;++t)r=x[t],"number"==typeof r.source&&(r.source=M[r.source]),"number"==typeof r.target&&(r.target=M[r.target]),++r.source.weight,++r.target.weight;for(t=0;u>t;++t)r=M[t],isNaN(r.x)&&(r.x=n("x",f)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(t=0;c>t;++t)i[t]=+h.call(this,x[t],t);else for(t=0;c>t;++t)i[t]=h;if(a=[],"function"==typeof g)for(t=0;c>t;++t)a[t]=+g.call(this,x[t],t);else for(t=0;c>t;++t)a[t]=g;if(o=[],"function"==typeof p)for(t=0;u>t;++t)o[t]=+p.call(this,M[t],t);else for(t=0;u>t;++t)o[t]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=oa.behavior.drag().origin(y).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",nu)),arguments.length?void this.on("mouseover.force",tu).on("mouseout.force",eu).call(r):r},oa.rebind(l,c,"on")};var yl=20,Ml=1,xl=1/0;oa.layout.hierarchy=function(){function n(u){var i,a=[u],o=[];for(u.depth=0;null!=(i=a.pop());)if(o.push(i),(c=e.call(n,i,i.depth))&&(l=c.length)){for(var l,c,s;--l>=0;)a.push(s=c[l]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return au(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),o}var t=cu,e=ou,r=lu;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(iu(t,function(n){n.children&&(n.value=0)}),au(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},oa.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(a=i.length)){var a,o,l,c=-1;for(r=t.value?r/t.value:0;++c<a;)n(o=i[c],e,l=o.value*r,u),e+=l}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var a=r.call(this,e,i);return n(a[0],0,u[0],u[1]/t(a[0])),a}var r=oa.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},uu(e,r)},oa.layout.pie=function(){function n(a){var o,l=a.length,c=a.map(function(e,r){return+t.call(n,e,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof u?u.apply(this,arguments):u)-s,h=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),g=h*(0>f?-1:1),p=oa.sum(c),v=p?(f-l*g)/p:0,d=oa.range(l),m=[];return null!=e&&d.sort(e===bl?function(n,t){return c[t]-c[n]}:function(n,t){return e(a[n],a[t])}),d.forEach(function(n){m[n]={data:a[n],value:o=c[n],startAngle:s,endAngle:s+=o*v+g,padAngle:h}}),m}var t=Number,e=bl,r=0,u=Fa,i=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n.padAngle=function(t){return arguments.length?(i=t,n):i},n};var bl={};oa.layout.stack=function(){function n(o,l){if(!(h=o.length))return o;var c=o.map(function(e,r){return t.call(n,e,r)}),s=c.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),a.call(n,t,e)]})}),f=e.call(n,s,l);c=oa.permute(c,f),s=oa.permute(s,f);var h,g,p,v,d=r.call(n,s,l),m=c[0].length;for(p=0;m>p;++p)for(u.call(n,c[0][p],v=d[p],s[0][p][1]),g=1;h>g;++g)u.call(n,c[g][p],v+=s[g-1][p][1],s[g][p][1]);return o}var t=y,e=pu,r=vu,u=gu,i=fu,a=hu;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:_l.get(t)||pu,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:wl.get(t)||vu,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(a=t,n):a},n.out=function(t){return arguments.length?(u=t,n):u},n};var _l=oa.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(du),i=n.map(mu),a=oa.range(r).sort(function(n,t){return u[n]-u[t]}),o=0,l=0,c=[],s=[];for(t=0;r>t;++t)e=a[t],l>o?(o+=i[e],c.push(e)):(l+=i[e],s.push(e));return s.reverse().concat(c)},reverse:function(n){return oa.range(n.length).reverse()},"default":pu}),wl=oa.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,a=[],o=0,l=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>o&&(o=r),a.push(r)}for(e=0;i>e;++e)l[e]=(o-a[e])/2;return l},wiggle:function(n){var t,e,r,u,i,a,o,l,c,s=n.length,f=n[0],h=f.length,g=[];for(g[0]=l=c=0,e=1;h>e;++e){for(t=0,u=0;s>t;++t)u+=n[t][e][1];for(t=0,i=0,o=f[e][0]-f[e-1][0];s>t;++t){for(r=0,a=(n[t][e][1]-n[t][e-1][1])/(2*o);t>r;++r)a+=(n[r][e][1]-n[r][e-1][1])/o;i+=a*n[t][e][1]}g[e]=l-=u?i/u*o:0,c>l&&(c=l)}for(e=0;h>e;++e)g[e]-=c;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,a=1/u,o=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=a}for(e=0;i>e;++e)o[e]=0;return o},zero:vu});oa.layout.histogram=function(){function n(n,i){for(var a,o,l=[],c=n.map(e,this),s=r.call(this,c,i),f=u.call(this,s,c,i),i=-1,h=c.length,g=f.length-1,p=t?1:1/h;++i<g;)a=l[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(g>0)for(i=-1;++i<h;)o=c[i],o>=s[0]&&o<=s[1]&&(a=l[oa.bisect(f,o,1,g)-1],a.y+=p,a.push(n[i]));return l}var t=!0,e=Number,r=bu,u=Mu;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return xu(n,t)}:En(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},oa.layout.pack=function(){function n(n,i){var a=e.call(this,n,i),o=a[0],l=u[0],c=u[1],s=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,au(o,function(n){n.r=+s(n.value)}),au(o,Nu),r){var f=r*(t?1:Math.max(2*o.r/l,2*o.r/c))/2;au(o,function(n){n.r+=f}),au(o,Nu),au(o,function(n){n.r-=f})}return Cu(o,l/2,c/2,t?1:1/Math.max(2*o.r/l,2*o.r/c)),a}var t,e=oa.layout.hierarchy().sort(_u),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},uu(n,e)},oa.layout.tree=function(){function n(n,u){var s=a.call(this,n,u),f=s[0],h=t(f);if(au(h,e),h.parent.m=-h.z,iu(h,r),c)iu(f,i);else{var g=f,p=f,v=f;iu(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=o(g,p)/2-g.x,m=l[0]/(p.x+o(p,g)/2+d),y=l[1]/(v.depth||1);iu(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return s}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,a=0,o=i.length;o>a;++a)r.push((i[a]=u={_:i[a],parent:t,children:(u=i[a].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Du(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+o(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+o(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,a=t,l=u.parent.children[0],c=u.m,s=i.m,f=a.m,h=l.m;a=Tu(a),u=qu(u),a&&u;)l=qu(l),i=Tu(i),i.a=n,r=a.z+f-u.z-c+o(a._,u._),r>0&&(Ru(Pu(a,n,e),n,r),c+=r,s+=r),f+=a.m,c+=u.m,h+=l.m,s+=i.m;a&&!Tu(i)&&(i.t=a,i.m+=f-s),u&&!qu(l)&&(l.t=u,l.m+=c-h,e=n)}return e}function i(n){n.x*=l[0],n.y=n.depth*l[1]}var a=oa.layout.hierarchy().sort(null).value(null),o=Lu,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(o=t,n):o},n.size=function(t){return arguments.length?(c=null==(l=t)?i:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:i,n):c?l:null},uu(n,a)},oa.layout.cluster=function(){function n(n,i){var a,o=t.call(this,n,i),l=o[0],c=0;au(l,function(n){var t=n.children;t&&t.length?(n.x=ju(t),n.y=Uu(t)):(n.x=a?c+=e(n,a):0,n.y=0,a=n)});var s=Fu(l),f=Hu(l),h=s.x-e(s,f)/2,g=f.x+e(f,s)/2;return au(l,u?function(n){n.x=(n.x-l.x)*r[0],n.y=(l.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(l.y?n.y/l.y:1))*r[1]}),o}var t=oa.layout.hierarchy().sort(null).value(null),e=Lu,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},uu(n,t)},oa.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var a,o,l,c=f(e),s=[],h=i.slice(),p=1/0,v="slice"===g?c.dx:"dice"===g?c.dy:"slice-dice"===g?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(n(h,c.dx*c.dy/e.value),s.area=0;(l=h.length)>0;)s.push(a=h[l-1]),s.area+=a.area,"squarify"!==g||(o=r(s,v))<=p?(h.pop(),p=o):(s.area-=s.pop().area,u(s,v,c,!1),v=Math.min(c.dx,c.dy),s.length=s.area=0,p=1/0);s.length&&(u(s,v,c,!0),s.length=s.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,a=f(t),o=r.slice(),l=[];for(n(o,a.dx*a.dy/t.value),l.area=0;i=o.pop();)l.push(i),l.area+=i.area,null!=i.z&&(u(l,i.z?a.dx:a.dy,a,!o.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,a=-1,o=n.length;++a<o;)(e=n[a].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,a=n.length,o=e.x,c=e.y,s=t?l(n.area/t):0;
if(t==e.dx){for((r||s>e.dy)&&(s=e.dy);++i<a;)u=n[i],u.x=o,u.y=c,u.dy=s,o+=u.dx=Math.min(e.x+e.dx-o,s?l(u.area/s):0);u.z=!0,u.dx+=e.x+e.dx-o,e.y+=s,e.dy-=s}else{for((r||s>e.dx)&&(s=e.dx);++i<a;)u=n[i],u.x=o,u.y=c,u.dx=s,c+=u.dy=Math.min(e.y+e.dy-c,s?l(u.area/s):0);u.z=!1,u.dy+=e.y+e.dy-c,e.x+=s,e.dx-=s}}function i(r){var u=a||o(r),i=u[0];return i.x=i.y=0,i.value?(i.dx=c[0],i.dy=c[1]):i.dx=i.dy=0,a&&o.revalue(i),n([i],i.dx*i.dy/i.value),(a?e:t)(i),h&&(a=u),u}var a,o=oa.layout.hierarchy(),l=Math.round,c=[1,1],s=null,f=Ou,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(c=n,i):c},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ou(t):Iu(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Iu(t,n)}if(!arguments.length)return s;var r;return f=null==(s=n)?Ou:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(l=n?Math.round:Number,i):l!=Number},i.sticky=function(n){return arguments.length?(h=n,a=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},uu(i,o)},oa.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=oa.random.normal.apply(oa,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=oa.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},oa.scale={};var Sl={floor:y,ceil:y};oa.scale.linear=function(){return Wu([0,1],[0,1],Mr,!1)};var kl={s:1,g:1,p:1,r:1,e:1};oa.scale.log=function(){return ri(oa.scale.linear().domain([0,1]),10,!0,[1,10])};var Nl=oa.format(".0e"),El={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};oa.scale.pow=function(){return ui(oa.scale.linear(),1,[0,1])},oa.scale.sqrt=function(){return oa.scale.pow().exponent(.5)},oa.scale.ordinal=function(){return ai([],{t:"range",a:[[]]})},oa.scale.category10=function(){return oa.scale.ordinal().range(Al)},oa.scale.category20=function(){return oa.scale.ordinal().range(Cl)},oa.scale.category20b=function(){return oa.scale.ordinal().range(zl)},oa.scale.category20c=function(){return oa.scale.ordinal().range(Ll)};var Al=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),Cl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),zl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),Ll=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);oa.scale.quantile=function(){return oi([],[])},oa.scale.quantize=function(){return li(0,1,[0,1])},oa.scale.threshold=function(){return ci([.5],[0,1])},oa.scale.identity=function(){return si([0,1])},oa.svg={},oa.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),s=a.apply(this,arguments)-Oa,f=o.apply(this,arguments)-Oa,h=Math.abs(f-s),g=s>f?0:1;if(n>c&&(p=c,c=n,n=p),h>=Ha)return t(c,g)+(n?t(n,1-g):"")+"Z";var p,v,d,m,y,M,x,b,_,w,S,k,N=0,E=0,A=[];if((m=(+l.apply(this,arguments)||0)/2)&&(d=i===ql?Math.sqrt(n*n+c*c):+i.apply(this,arguments),g||(E*=-1),c&&(E=tn(d/c*Math.sin(m))),n&&(N=tn(d/n*Math.sin(m)))),c){y=c*Math.cos(s+E),M=c*Math.sin(s+E),x=c*Math.cos(f-E),b=c*Math.sin(f-E);var C=Math.abs(f-s-2*E)<=ja?0:1;if(E&&mi(y,M,x,b)===g^C){var z=(s+f)/2;y=c*Math.cos(z),M=c*Math.sin(z),x=b=null}}else y=M=0;if(n){_=n*Math.cos(f-N),w=n*Math.sin(f-N),S=n*Math.cos(s+N),k=n*Math.sin(s+N);var L=Math.abs(s-f+2*N)<=ja?0:1;if(N&&mi(_,w,S,k)===1-g^L){var q=(s+f)/2;_=n*Math.cos(q),w=n*Math.sin(q),S=k=null}}else _=w=0;if(h>Pa&&(p=Math.min(Math.abs(c-n)/2,+u.apply(this,arguments)))>.001){v=c>n^g?0:1;var T=p,R=p;if(ja>h){var D=null==S?[_,w]:null==x?[y,M]:Re([y,M],[S,k],[x,b],[_,w]),P=y-D[0],U=M-D[1],j=x-D[0],F=b-D[1],H=1/Math.sin(Math.acos((P*j+U*F)/(Math.sqrt(P*P+U*U)*Math.sqrt(j*j+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(p,(n-O)/(H-1)),T=Math.min(p,(c-O)/(H+1))}if(null!=x){var I=yi(null==S?[_,w]:[S,k],[y,M],c,T,g),Y=yi([x,b],[_,w],c,T,g);p===T?A.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-g^mi(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",g," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):A.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else A.push("M",y,",",M);if(null!=S){var Z=yi([y,M],[S,k],n,-R,g),V=yi([_,w],null==x?[y,M]:[x,b],n,-R,g);p===R?A.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",g^mi(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-g," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",y,",",M),null!=x&&A.push("A",c,",",c," 0 ",C,",",g," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",L,",",1-g," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hi,r=gi,u=fi,i=ql,a=pi,o=vi,l=di;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(u=En(t),n):u},n.padRadius=function(t){return arguments.length?(i=t==ql?ql:En(t),n):i},n.startAngle=function(t){return arguments.length?(a=En(t),n):a},n.endAngle=function(t){return arguments.length?(o=En(t),n):o},n.padAngle=function(t){return arguments.length?(l=En(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Oa;return[Math.cos(t)*n,Math.sin(t)*n]},n};var ql="auto";oa.svg.line=function(){return Mi(y)};var Tl=oa.map({linear:xi,"linear-closed":bi,step:_i,"step-before":wi,"step-after":Si,basis:zi,"basis-open":Li,"basis-closed":qi,bundle:Ti,cardinal:Ei,"cardinal-open":ki,"cardinal-closed":Ni,monotone:Fi});Tl.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Rl=[0,2/3,1/3,0],Dl=[0,1/3,2/3,0],Pl=[0,1/6,2/3,1/6];oa.svg.line.radial=function(){var n=Mi(Hi);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wi.reverse=Si,Si.reverse=wi,oa.svg.area=function(){return Oi(y)},oa.svg.area.radial=function(){var n=Oi(Hi);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},oa.svg.chord=function(){function n(n,o){var l=t(this,i,n,o),c=t(this,a,n,o);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=o.call(n,u,r),a=l.call(n,u,r)-Oa,s=c.call(n,u,r)-Oa;return{r:i,a0:a,a1:s,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(s),i*Math.sin(s)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>ja)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=Me,a=xe,o=Ii,l=pi,c=vi;return n.radius=function(t){return arguments.length?(o=En(t),n):o},n.source=function(t){return arguments.length?(i=En(t),n):i},n.target=function(t){return arguments.length?(a=En(t),n):a},n.startAngle=function(t){return arguments.length?(l=En(t),n):l},n.endAngle=function(t){return arguments.length?(c=En(t),n):c},n},oa.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),a=e.call(this,n,u),o=(i.y+a.y)/2,l=[i,{x:i.x,y:o},{x:a.x,y:o},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yi;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},oa.svg.diagonal.radial=function(){var n=oa.svg.diagonal(),t=Yi,e=n.projection;return n.projection=function(n){return arguments.length?e(Zi(t=n)):t},n},oa.svg.symbol=function(){function n(n,r){return(Ul.get(t.call(this,n,r))||$i)(e.call(this,n,r))}var t=Xi,e=Vi;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Ul=oa.map({circle:$i,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Fl)),e=t*Fl;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/jl),e=t*jl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});oa.svg.symbolTypes=Ul.keys();var jl=Math.sqrt(3),Fl=Math.tan(30*Ia);Aa.transition=function(n){for(var t,e,r=Hl||++Zl,u=Ki(n),i=[],a=Ol||{time:Date.now(),ease:Nr,delay:0,duration:250},o=-1,l=this.length;++o<l;){i.push(t=[]);for(var c=this[o],s=-1,f=c.length;++s<f;)(e=c[s])&&Qi(e,s,u,r,a),t.push(e)}return Wi(i,u,r)},Aa.interrupt=function(n){return this.each(null==n?Il:Bi(Ki(n)))};var Hl,Ol,Il=Bi(Ki()),Yl=[],Zl=0;Yl.call=Aa.call,Yl.empty=Aa.empty,Yl.node=Aa.node,Yl.size=Aa.size,oa.transition=function(n,t){return n&&n.transition?Hl?n.transition(t):n:oa.selection().transition(n)},oa.transition.prototype=Yl,Yl.select=function(n){var t,e,r,u=this.id,i=this.namespace,a=[];n=A(n);for(var o=-1,l=this.length;++o<l;){a.push(t=[]);for(var c=this[o],s=-1,f=c.length;++s<f;)(r=c[s])&&(e=n.call(r,r.__data__,s,o))?("__data__"in r&&(e.__data__=r.__data__),Qi(e,s,i,u,r[i][u]),t.push(e)):t.push(null)}return Wi(a,i,u)},Yl.selectAll=function(n){var t,e,r,u,i,a=this.id,o=this.namespace,l=[];n=C(n);for(var c=-1,s=this.length;++c<s;)for(var f=this[c],h=-1,g=f.length;++h<g;)if(r=f[h]){i=r[o][a],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var p=-1,v=e.length;++p<v;)(u=e[p])&&Qi(u,p,o,a,i),t.push(u)}return Wi(l,o,a)},Yl.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=O(n));for(var i=0,a=this.length;a>i;i++){u.push(t=[]);for(var e=this[i],o=0,l=e.length;l>o;o++)(r=e[o])&&n.call(r,r.__data__,o,i)&&t.push(r)}return Wi(u,this.namespace,this.id)},Yl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(u){u[r][e].tween.set(n,t)})},Yl.attr=function(n,t){function e(){this.removeAttribute(o)}function r(){this.removeAttributeNS(o.space,o.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(o);return e!==n&&(t=a(e,n),function(n){this.setAttribute(o,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(o.space,o.local);return e!==n&&(t=a(e,n),function(n){this.setAttributeNS(o.space,o.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var a="transform"==n?$r:Mr,o=oa.ns.qualify(n);return Ji(this,"attr."+n,t,o.local?i:u)},Yl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=oa.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Yl.style=function(n,e,r){function u(){this.style.removeProperty(n)}function i(e){return null==e?u:(e+="",function(){var u,i=t(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(u=Mr(i,e),function(t){this.style.setProperty(n,u(t),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof n){2>a&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ji(this,"style."+n,e,i)},Yl.styleTween=function(n,e,r){function u(u,i){var a=e.call(this,u,i,t(this).getComputedStyle(this,null).getPropertyValue(n));return a&&function(t){this.style.setProperty(n,a(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,u)},Yl.text=function(n){return Ji(this,"text",n,Gi)},Yl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Yl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=oa.ease.apply(oa,arguments)),Y(this,function(r){r[e][t].ease=n}))},Yl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,u,i){r[e][t].delay=+n.call(r,r.__data__,u,i)}:(n=+n,function(r){r[e][t].delay=n}))},Yl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,u,i){r[e][t].duration=Math.max(1,n.call(r,r.__data__,u,i))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Yl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var u=Ol,i=Hl;try{Hl=e,Y(this,function(t,u,i){Ol=t[r][e],n.call(t,t.__data__,u,i)})}finally{Ol=u,Hl=i}}else Y(this,function(u){var i=u[r][e];(i.event||(i.event=oa.dispatch("start","end","interrupt"))).on(n,t)});return this},Yl.transition=function(){for(var n,t,e,r,u=this.id,i=++Zl,a=this.namespace,o=[],l=0,c=this.length;c>l;l++){o.push(n=[]);for(var t=this[l],s=0,f=t.length;f>s;s++)(e=t[s])&&(r=e[a][u],Qi(e,s,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Wi(o,a,i)},oa.svg.axis=function(){function n(n){n.each(function(){var n,c=oa.select(this),s=this.__chart__||e,f=this.__chart__=e.copy(),h=null==l?f.ticks?f.ticks.apply(f,o):f.domain():l,g=null==t?f.tickFormat?f.tickFormat.apply(f,o):y:t,p=c.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Pa),d=oa.transition(p.exit()).style("opacity",Pa).remove(),m=oa.transition(p.order()).style("opacity",1),M=Math.max(u,0)+a,x=Zu(f),b=c.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),oa.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=m.select("line"),C=p.select("text").text(g),z=v.select("text"),L=m.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=na,w="x",k="y",S="x2",N="y2",C.attr("dy",0>q?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+q*i+"V0H"+x[1]+"V"+q*i)):(n=ta,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",0>q?"end":"start"),_.attr("d","M"+q*i+","+x[0]+"H0V"+x[1]+"H"+q*i)),E.attr(N,q*u),z.attr(k,q*M),A.attr(S,0).attr(N,q*u),L.attr(w,0).attr(k,q*M),f.rangeBand){var T=f,R=T.rangeBand()/2;s=f=function(n){return T(n)+R}}else s.rangeBand?s=f:d.call(n,f,s);v.call(n,s,f),m.call(n,f,f)})}var t,e=oa.scale.linear(),r=Vl,u=6,i=6,a=3,o=[10],l=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Xl?t+"":Vl,n):r},n.ticks=function(){return arguments.length?(o=ca(arguments),n):o},n.tickValues=function(t){return arguments.length?(l=t,n):l},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(a=+t,n):a},n.tickSubdivide=function(){return arguments.length&&n},n};var Vl="bottom",Xl={top:1,right:1,bottom:1,left:1};oa.svg.brush=function(){function n(t){t.each(function(){var t=oa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=t.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=t.selectAll(".resize").data(v,y);o.exit().remove(),o.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return $l[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",n.empty()?"none":null);var l,f=oa.transition(t),h=oa.transition(a);c&&(l=Zu(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(f)),s&&(l=Zu(s),h.attr("y",l[0]).attr("height",l[1]-l[0]),u(f)),e(f)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+f[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",f[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function u(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==oa.event.keyCode&&(C||(M=null,L[0]-=f[1],L[1]-=h[1],C=2),S())}function v(){32==oa.event.keyCode&&2==C&&(L[0]+=f[1],L[1]+=h[1],C=0,S())}function d(){var n=oa.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(oa.event.altKey?(M||(M=[(f[0]+f[1])/2,(h[0]+h[1])/2]),L[0]=f[+(n[0]<M[0])],L[1]=h[+(n[1]<M[1])]):M=null),E&&m(n,c,0)&&(r(k),t=!0),A&&m(n,s,1)&&(u(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function m(n,t,e){var r,u,i=Zu(t),l=i[0],c=i[1],s=L[e],v=e?h:f,d=v[1]-v[0];return C&&(l-=s,c-=d+s),r=(e?p:g)?Math.max(l,Math.min(c,n[e])):n[e],C?u=(r+=s)+d:(M&&(s=Math.max(l,Math.min(c,2*M[e]-r))),r>s?(u=r,r=s):u=s),v[0]!=r||v[1]!=u?(e?o=null:a=null,v[0]=r,v[1]=u,!0):void 0}function y(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),oa.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=oa.select(oa.event.target),w=l.of(b,arguments),k=oa.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&c,A=!/^(e|w)$/.test(N)&&s,C=_.classed("extent"),z=W(b),L=oa.mouse(b),q=oa.select(t(b)).on("keydown.brush",i).on("keyup.brush",v);if(oa.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",y):q.on("mousemove.brush",d).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),C)L[0]=f[0]-L[0],L[1]=h[0]-L[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[f[1-T]-L[0],h[1-R]-L[1]],L[0]=f[T],L[1]=h[R]}else oa.event.altKey&&(M=L.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),oa.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var a,o,l=N(n,"brushstart","brush","brushend"),c=null,s=null,f=[0,0],h=[0,0],g=!0,p=!0,v=Bl[0];return n.event=function(n){n.each(function(){var n=l.of(this,arguments),t={x:f,y:h,i:a,j:o},e=this.__chart__||t;this.__chart__=t,Hl?oa.select(this).transition().each("start.brush",function(){a=e.i,o=e.j,f=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(f,t.x),r=xr(h,t.y);return a=o=null,function(u){f=t.x=e(u),h=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,o=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,v=Bl[!c<<1|!s],n):c},n.y=function(t){return arguments.length?(s=t,v=Bl[!c<<1|!s],n):s},n.clamp=function(t){return arguments.length?(c&&s?(g=!!t[0],p=!!t[1]):c?g=!!t:s&&(p=!!t),n):c&&s?[g,p]:c?g:s?p:null},n.extent=function(t){var e,r,u,i,l;return arguments.length?(c&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),a=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(l=e,e=r,r=l),(e!=f[0]||r!=f[1])&&(f=[e,r])),s&&(u=t[0],i=t[1],c&&(u=u[1],i=i[1]),o=[u,i],s.invert&&(u=s(u),i=s(i)),u>i&&(l=u,u=i,i=l),(u!=h[0]||i!=h[1])&&(h=[u,i])),n):(c&&(a?(e=a[0],r=a[1]):(e=f[0],r=f[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(l=e,e=r,r=l))),s&&(o?(u=o[0],i=o[1]):(u=h[0],i=h[1],s.invert&&(u=s.invert(u),i=s.invert(i)),u>i&&(l=u,u=i,i=l))),c&&s?[[e,u],[r,i]]:c?[e,r]:s&&[u,i])},n.clear=function(){return n.empty()||(f=[0,0],h=[0,0],a=o=null),n},n.empty=function(){return!!c&&f[0]==f[1]||!!s&&h[0]==h[1]},oa.rebind(n,l,"on")};var $l={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=go.format=xo.timeFormat,Jl=Wl.utc,Gl=Jl("%Y-%m-%dT%H:%M:%S.%LZ");Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ea:Gl,ea.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},ea.toString=Gl.toString,go.second=On(function(n){return new po(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),go.seconds=go.second.range,go.seconds.utc=go.second.utc.range,go.minute=On(function(n){return new po(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),go.minutes=go.minute.range,go.minutes.utc=go.minute.utc.range,go.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new po(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),go.hours=go.hour.range,go.hours.utc=go.hour.utc.range,go.month=On(function(n){return n=go.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),go.months=go.month.range,go.months.utc=go.month.utc.range;var Kl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ql=[[go.second,1],[go.second,5],[go.second,15],[go.second,30],[go.minute,1],[go.minute,5],[go.minute,15],[go.minute,30],[go.hour,1],[go.hour,3],[go.hour,6],[go.hour,12],[go.day,1],[go.day,2],[go.week,1],[go.month,1],[go.month,3],[go.year,1]],nc=Wl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),tc={range:function(n,t,e){return oa.range(Math.ceil(n/e)*e,+t,e).map(ua)},floor:y,ceil:y};Ql.year=go.year,go.scale=function(){return ra(oa.scale.linear(),Ql,nc)};var ec=Ql.map(function(n){return[n[0].utc,n[1]]}),rc=Jl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);ec.year=go.year.utc,go.scale.utc=function(){return ra(oa.scale.linear(),ec,rc)},oa.text=An(function(n){return n.responseText}),oa.json=function(n,t){return Cn(n,"application/json",ia,t)},oa.html=function(n,t){return Cn(n,"text/html",aa,t)},oa.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=oa,define(oa)):"object"==typeof module&&module.exports?module.exports=oa:this.d3=oa}();

/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a,b){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(c){return a.Bloodhound=b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):a.Bloodhound=b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c="0.11.1",d=function(){"use strict";function a(a){return a=b.toStr(a),a?a.split(/\s+/):[]}function c(a){return a=b.toStr(a),a?a.split(/\W+/):[]}function d(a){return function(c){return c=b.isArray(c)?c:[].slice.call(arguments,0),function(d){var e=[];return b.each(c,function(c){e=e.concat(a(b.toStr(d[c])))}),e}}}return{nonword:c,whitespace:a,obj:{nonword:d(c),whitespace:d(a)}}}(),e=function(){"use strict";function c(c){this.maxSize=b.isNumber(c)?c:100,this.reset(),this.maxSize<=0&&(this.set=this.get=a.noop)}function d(){this.head=this.tail=null}function e(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(c.prototype,{set:function(a,b){var c,d=this.list.tail;this.size>=this.maxSize&&(this.list.remove(d),delete this.hash[d.key],this.size--),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new e(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new d}}),b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),c}(),f=function(){"use strict";function c(a,c){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix)),this.ls=c||h,!this.ls&&this._noop()}function d(){return(new Date).getTime()}function e(a){return JSON.stringify(b.isUndefined(a)?null:a)}function f(b){return a.parseJSON(b)}function g(a){var b,c,d=[],e=h.length;for(b=0;e>b;b++)(c=h.key(b)).match(a)&&d.push(c.replace(a,""));return d}var h;try{h=window.localStorage,h.setItem("~~~","!"),h.removeItem("~~~")}catch(i){h=null}return b.mixin(c.prototype,{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=b.noop},_safeSet:function(a,b){try{this.ls.setItem(a,b)}catch(c){"QuotaExceededError"===c.name&&(this.clear(),this._noop())}},get:function(a){return this.isExpired(a)&&this.remove(a),f(this.ls.getItem(this._prefix(a)))},set:function(a,c,f){return b.isNumber(f)?this._safeSet(this._ttlKey(a),e(d()+f)):this.ls.removeItem(this._ttlKey(a)),this._safeSet(this._prefix(a),e(c))},remove:function(a){return this.ls.removeItem(this._ttlKey(a)),this.ls.removeItem(this._prefix(a)),this},clear:function(){var a,b=g(this.keyMatcher);for(a=b.length;a--;)this.remove(b[a]);return this},isExpired:function(a){var c=f(this.ls.getItem(this._ttlKey(a)));return b.isNumber(c)&&d()>c?!0:!1}}),c}(),g=function(){"use strict";function c(a){a=a||{},this.cancelled=!1,this.lastReq=null,this._send=a.transport,this._get=a.limiter?a.limiter(this._get):this._get,this._cache=a.cache===!1?new e(0):h}var d=0,f={},g=6,h=new e(10);return c.setMaxPendingRequests=function(a){g=a},c.resetCache=function(){h.reset()},b.mixin(c.prototype,{_fingerprint:function(b){return b=b||{},b.url+b.type+a.param(b.data||{})},_get:function(a,b){function c(a){b(null,a),k._cache.set(i,a)}function e(){b(!0)}function h(){d--,delete f[i],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var i,j,k=this;i=this._fingerprint(a),this.cancelled||i!==this.lastReq||((j=f[i])?j.done(c).fail(e):g>d?(d++,f[i]=this._send(a).done(c).fail(e).always(h)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(c,d){var e,f;d=d||a.noop,c=b.isString(c)?{url:c}:c||{},f=this._fingerprint(c),this.cancelled=!1,this.lastReq=f,(e=this._cache.get(f))?d(null,e):this._get(c,d)},cancel:function(){this.cancelled=!0}}),c}(),h=window.SearchIndex=function(){"use strict";function c(c){c=c||{},c.datumTokenizer&&c.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.identify=c.identify||b.stringify,this.datumTokenizer=c.datumTokenizer,this.queryTokenizer=c.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){var a={};return a[i]=[],a[h]={},a}function f(a){for(var b={},c=[],d=0,e=a.length;e>d;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){var c=0,d=0,e=[];a=a.sort(),b=b.sort();for(var f=a.length,g=b.length;f>c&&g>d;)a[c]<b[d]?c++:a[c]>b[d]?d++:(e.push(a[c]),c++,d++);return e}var h="c",i="i";return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;c.datums[f=c.identify(a)]=a,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b[h][g]||(b[h][g]=e()),b[i].push(f)})})},get:function(a){var c=this;return b.map(a,function(a){return c.datums[a]})},search:function(a){var c,e,j=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=j.trie,c=a.split("");b&&(d=c.shift());)b=b[h][d];return b&&0===c.length?(f=b[i].slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return j.datums[a]}):[]},all:function(){var a=[];for(var b in this.datums)a.push(this.datums[b]);return a},reset:function(){this.datums={},this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){"use strict";function a(a){this.url=a.url,this.ttl=a.ttl,this.cache=a.cache,this.prepare=a.prepare,this.transform=a.transform,this.transport=a.transport,this.thumbprint=a.thumbprint,this.storage=new f(a.cacheKey)}var c;return c={data:"data",protocol:"protocol",thumbprint:"thumbprint"},b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(a){this.cache&&(this.storage.set(c.data,a,this.ttl),this.storage.set(c.protocol,location.protocol,this.ttl),this.storage.set(c.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var a,b={};return this.cache?(b.data=this.storage.get(c.data),b.protocol=this.storage.get(c.protocol),b.thumbprint=this.storage.get(c.thumbprint),a=b.thumbprint!==this.thumbprint||b.protocol!==location.protocol,b.data&&!a?b.data:null):null},fromNetwork:function(a){function b(){a(!0)}function c(b){a(null,e.transform(b))}var d,e=this;a&&(d=this.prepare(this._settings()),this.transport(d).fail(b).done(c))},clear:function(){return this.storage.clear(),this}}),a}(),j=function(){"use strict";function a(a){this.url=a.url,this.prepare=a.prepare,this.transform=a.transform,this.transport=new g({cache:a.cache,limiter:a.limiter,transport:a.transport})}return b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(a,b){function c(a,c){b(a?[]:e.transform(c))}var d,e=this;if(b)return a=a||"",d=this.prepare(a,this._settings()),this.transport.get(d,c)},cancelLastRequest:function(){this.transport.cancel()}}),a}(),k=function(){"use strict";function d(d){var e;return d?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:b.identity,transform:b.identity,transport:null},d=b.isString(d)?{url:d}:d,d=b.mixin(e,d),!d.url&&a.error("prefetch requires url to be set"),d.transform=d.filter||d.transform,d.cacheKey=d.cacheKey||d.url,d.thumbprint=c+d.thumbprint,d.transport=d.transport?h(d.transport):a.ajax,d):null}function e(c){var d;if(c)return d={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null},c=b.isString(c)?{url:c}:c,c=b.mixin(d,c),!c.url&&a.error("remote requires url to be set"),c.transform=c.filter||c.transform,c.prepare=f(c),c.limiter=g(c),c.transport=c.transport?h(c.transport):a.ajax,delete c.replace,delete c.wildcard,delete c.rateLimitBy,delete c.rateLimitWait,c}function f(a){function b(a,b){return b.url=f(b.url,a),b}function c(a,b){return b.url=b.url.replace(g,encodeURIComponent(a)),b}function d(a,b){return b}var e,f,g;return e=a.prepare,f=a.replace,g=a.wildcard,e?e:e=f?b:a.wildcard?c:d}function g(a){function c(a){return function(c){return b.debounce(c,a)}}function d(a){return function(c){return b.throttle(c,a)}}var e,f,g;return e=a.limiter,f=a.rateLimitBy,g=a.rateLimitWait,e||(e=/^throttle$/i.test(f)?d(g):c(g)),e}function h(c){return function(d){function e(a){b.defer(function(){g.resolve(a)})}function f(a){b.defer(function(){g.reject(a)})}var g=a.Deferred();return c(d,e,f),g}}return function(c){var f,g;return f={initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},c=b.mixin(f,c||{}),!c.datumTokenizer&&a.error("datumTokenizer is required"),!c.queryTokenizer&&a.error("queryTokenizer is required"),g=c.sorter,c.sorter=g?function(a){return a.sort(g)}:b.identity,c.local=b.isFunction(c.local)?c.local():c.local,c.prefetch=d(c.prefetch),c.remote=e(c.remote),c}}(),l=function(){"use strict";function c(a){a=k(a),this.sorter=a.sorter,this.identify=a.identify,this.sufficient=a.sufficient,this.local=a.local,this.remote=a.remote?new j(a.remote):null,this.prefetch=a.prefetch?new i(a.prefetch):null,this.index=new h({identify:this.identify,datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer}),a.initialize!==!1&&this.initialize()}var e;return e=window&&window.Bloodhound,c.noConflict=function(){return window&&(window.Bloodhound=e),c},c.tokenizers=d,b.mixin(c.prototype,{__ttAdapter:function(){function a(a,b,d){return c.search(a,b,d)}function b(a,b){return c.search(a,b)}var c=this;return this.remote?a:b},_loadPrefetch:function(){function b(a,b){return a?c.reject():(e.add(b),e.prefetch.store(e.index.serialize()),void c.resolve())}var c,d,e=this;return c=a.Deferred(),this.prefetch?(d=this.prefetch.fromCache())?(this.index.bootstrap(d),c.resolve()):this.prefetch.fromNetwork(b):c.resolve(),c.promise()},_initialize:function(){function a(){b.add(b.local)}var b=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(a),this.initPromise},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){return this.index.add(a),this},get:function(a){return a=b.isArray(a)?a:[].slice.call(arguments),this.index.get(a)},search:function(a,c,d){function e(a){var c=[];b.each(a,function(a){!b.some(f,function(b){return g.identify(a)===g.identify(b)})&&c.push(a)}),d&&d(c)}var f,g=this;return f=this.sorter(this.index.search(a)),c(this.remote?f.slice():f),this.remote&&f.length<this.sufficient?this.remote.get(a,e):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return g.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),c}();return l}),function(a,b){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c=function(){"use strict";function a(a){var g,h;return h=b.mixin({},f,a),g={css:e(),classes:h,html:c(h),selectors:d(h)},{css:g.css,html:g.html,classes:g.classes,selectors:g.selectors,mixin:function(a){b.mixin(a,g)}}}function c(a){return{wrapper:'<span class="'+a.wrapper+'"></span>',menu:'<div class="'+a.menu+'"></div>'}}function d(a){var c={};return b.each(a,function(a,b){c[b]="."+a}),c}function e(){var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return b.isMsie()&&b.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a}var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return a}(),d=function(){"use strict";function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d,e;return d="typeahead:",e={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},b.mixin(c.prototype,{_trigger:function(b,c){var e;return e=a.Event(d+b),(c=c||[]).unshift(e),this.$el.trigger.apply(this.$el,c),e},before:function(a){var b,c;return b=[].slice.call(arguments,1),c=this._trigger("before"+a,b),c.isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,1)),(b=e[a])&&this._trigger(b,[].slice.call(arguments,1))}}),c}(),e=function(){"use strict";function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0,f=a.length;!d&&f>e;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),f=function(a){"use strict";function c(a,c,d){for(var e,f=[],g=0,h=a.length;h>g;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d,f;return(c=h.exec(b.data))&&(f=a.createElement(e.tagName),e.className&&(f.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),f.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(f,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),g=function(){"use strict";function c(c,e){c=c||{},c.input||a.error("input is missing"),e.mixin(this),this.$hint=a(c.hint),this.$input=a(c.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=d(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function f(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function g(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var h;return h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return b.toStr(a).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,e,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(a){var b=h[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(a,b){var c;switch(a){case"up":case"down":c=!g(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!g(b);break;default:c=!0}return c},_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(a,b){var c,d;c=f(a,this.query),d=c?this.query.length!==a.length:!1,this.query=a,b||c?!b&&d&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var a,c,d,e,f=this;return a=b.bind(this._onBlur,this),c=b.bind(this._onFocus,this),d=b.bind(this._onKeydown,this),e=b.bind(this._onInput,this),this.$input.on("blur.tt",a).on("focus.tt",c).on("keydown.tt",d),!b.isMsie()||b.isMsie()>9?this.$input.on("input.tt",e):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){h[a.which||a.keyCode]||b.defer(b.bind(f._onInput,f,a))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,b){this.setInputValue(a),this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=a("<div>")}}),c}(),h=function(){"use strict";function c(c,e){c=c||{},c.templates=c.templates||{},c.templates.notFound=c.templates.notFound||c.templates.empty,c.source||a.error("missing source"),c.node||a.error("missing node"),c.name&&!h(c.name)&&a.error("invalid dataset name: "+c.name),e.mixin(this),this.highlight=!!c.highlight,this.name=c.name||j(),this.limit=c.limit||5,this.displayFn=d(c.display||c.displayKey),this.templates=g(c.templates,this.displayFn),this.source=c.source.__ttAdapter?c.source.__ttAdapter():c.source,this.async=b.isUndefined(c.async)?this.source.length>2:!!c.async,this._resetLastSuggestion(),this.$el=a(c.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function d(a){function c(b){return b[a]}return a=a||b.stringify,b.isFunction(a)?a:c}function g(c,d){function e(b){return a("<div>").text(d(b))}return{notFound:c.notFound&&b.templatify(c.notFound),pending:c.pending&&b.templatify(c.pending),header:c.header&&b.templatify(c.header),footer:c.footer&&b.templatify(c.footer),suggestion:c.suggestion||e}}function h(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var i,j;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},j=b.getIdGenerator(),c.extractData=function(b){var c=a(b);return c.data(i.obj)?{val:c.data(i.val)||"",obj:c.data(i.obj)||null}:null},b.mixin(c.prototype,e,{_overwrite:function(a,b){b=b||[],b.length?this._renderSuggestions(a,b):this.async&&this.templates.pending?this._renderPending(a):!this.async&&this.templates.notFound?this._renderNotFound(a):this._empty(),this.trigger("rendered",this.name,b,!1)},_append:function(a,b){b=b||[],b.length&&this.$lastSuggestion.length?this._appendSuggestions(a,b):b.length?this._renderSuggestions(a,b):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(a),this.trigger("rendered",this.name,b,!0)},_renderSuggestions:function(a,b){var c;c=this._getSuggestionsFragment(a,b),this.$lastSuggestion=c.children().last(),this.$el.html(c).prepend(this._getHeader(a,b)).append(this._getFooter(a,b))},_appendSuggestions:function(a,b){var c,d;c=this._getSuggestionsFragment(a,b),d=c.children().last(),this.$lastSuggestion.after(c),this.$lastSuggestion=d},_renderPending:function(a){var b=this.templates.pending;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_renderNotFound:function(a){var b=this.templates.notFound;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(c,d){var e,g=this;return e=document.createDocumentFragment(),b.each(d,function(b){var d,f;f=g._injectQuery(c,b),d=a(g.templates.suggestion(f)).data(i.obj,b).data(i.val,g.displayFn(b)).addClass(g.classes.suggestion+" "+g.classes.selectable),e.appendChild(d[0])}),this.highlight&&f({className:this.classes.highlight,node:e,pattern:c}),a(e)},_getFooter:function(a,b){return this.templates.footer?this.templates.footer({query:a,suggestions:b,dataset:this.name}):null},_getHeader:function(a,b){return this.templates.header?this.templates.header({query:a,suggestions:b,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=a()},_injectQuery:function(a,c){return b.isObject(c)?b.mixin({_query:a},c):c},update:function(b){function c(a){g||(g=!0,a=(a||[]).slice(0,e.limit),h=a.length,e._overwrite(b,a),h<e.limit&&e.async&&e.trigger("asyncRequested",b))}function d(c){c=c||[],!f&&h<e.limit&&(e.cancel=a.noop,h+=c.length,e._append(b,c.slice(0,e.limit-h)),e.async&&e.trigger("asyncReceived",b))}var e=this,f=!1,g=!1,h=0;this.cancel(),this.cancel=function(){f=!0,e.cancel=a.noop,e.async&&e.trigger("asyncCanceled",b)},this.source(b,c,d),!g&&c([])},cancel:a.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=a("<div>")}}),c}(),i=function(){"use strict";function c(c,d){function e(b){var c=f.$node.find(b.node).first();return b.node=c.length?c:a("<div>").appendTo(f.$node),new h(b,d)}var f=this;c=c||{},c.node||a.error("node is required"),d.mixin(this),this.$node=a(c.node),this.query=null,this.datasets=b.map(c.datasets,e)}return b.mixin(c.prototype,e,{_onSelectableClick:function(b){this.trigger("selectableClicked",a(b.currentTarget))},_onRendered:function(a,b,c,d){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",b,c,d)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function a(a){return a.isEmpty()}return b.every(this.datasets,a)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var a=this.getActiveSelectable();a&&a.removeClass(this.classes.cursor)},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$node.scrollTop(),e=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>b?this.$node.scrollTop(d+b):c>e&&this.$node.scrollTop(d+(c-e))},bind:function(){var a,c=this;return a=b.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,a),b.each(this.datasets,function(a){a.onSync("asyncRequested",c._propagate,c).onSync("asyncCanceled",c._propagate,c).onSync("asyncReceived",c._propagate,c).onSync("rendered",c._onRendered,c).onSync("cleared",c._onCleared,c)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(a){this.$node.attr("dir",a)},selectableRelativeToCursor:function(a){var b,c,d,e;return c=this.getActiveSelectable(),b=this._getSelectables(),d=c?b.index(c):-1,e=d+a,e=(e+1)%(b.length+1)-1,e=-1>e?b.length-1:e,-1===e?null:b.eq(e)},setCursor:function(a){this._removeCursor(),(a=a&&a.first())&&(a.addClass(this.classes.cursor),this._ensureVisible(a))},getSelectableData:function(a){return a&&a.length?h.extractData(a):null},getActiveSelectable:function(){var a=this._getSelectables().filter(this.selectors.cursor).first();return a.length?a:null},getTopSelectable:function(){var a=this._getSelectables().first();return a.length?a:null},update:function(a){function c(b){b.update(a)}var d=a!==this.query;return d&&(this.query=a,b.each(this.datasets,c)),d},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function c(a){a.destroy()}this.$node.off(".tt"),this.$node=a("<div>"),b.each(this.datasets,c)}}),c}(),j=function(){"use strict";function a(){i.apply(this,[].slice.call(arguments,0))}var c=i.prototype;return b.mixin(a.prototype,i.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),c.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),c.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){return this.$node.css("ltr"===a?this.css.ltr:this.css.rtl),c.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),a}(),k=function(){"use strict";function c(c,e){var f,g,h,i,j,k,l,m,n,o,p;c=c||{},c.input||a.error("missing input"),c.menu||a.error("missing menu"),c.eventBus||a.error("missing event bus"),e.mixin(this),this.eventBus=c.eventBus,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.input=c.input,this.menu=c.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),f=d(this,"activate","open","_onFocused"),g=d(this,"deactivate","_onBlurred"),h=d(this,"isActive","isOpen","_onEnterKeyed"),i=d(this,"isActive","isOpen","_onTabKeyed"),j=d(this,"isActive","_onEscKeyed"),k=d(this,"isActive","open","_onUpKeyed"),l=d(this,"isActive","open","_onDownKeyed"),m=d(this,"isActive","isOpen","_onLeftKeyed"),n=d(this,"isActive","isOpen","_onRightKeyed"),o=d(this,"_openIfActive","_onQueryChanged"),p=d(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",f,this).onSync("blurred",g,this).onSync("enterKeyed",h,this).onSync("tabKeyed",i,this).onSync("escKeyed",j,this).onSync("upKeyed",k,this).onSync("downKeyed",l,this).onSync("leftKeyed",m,this).onSync("rightKeyed",n,this).onSync("queryChanged",o,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function d(a){var c=[].slice.call(arguments,1);return function(){var d=[].slice.call(arguments);b.each(c,function(b){return a[b].apply(a,d)})}}return b.mixin(c.prototype,{_hacks:function(){var c,d;c=this.input.$input||a("<div>"),d=this.menu.$node||a("<div>"),c.on("blur.tt",function(a){var e,f,g;
e=document.activeElement,f=d.is(e),g=d.has(e).length>0,b.isMsie()&&(f||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){c.focus()}))}),d.on("mousedown.tt",function(a){a.preventDefault()})},_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(a,b,c,d){this._updateHint(),this.eventBus.trigger("render",c,d,b)},_onAsyncRequested:function(a,b,c){this.eventBus.trigger("asyncrequest",c,b)},_onAsyncCanceled:function(a,b,c){this.eventBus.trigger("asynccancel",c,b)},_onAsyncReceived:function(a,b,c){this.eventBus.trigger("asyncreceive",c,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())&&this.select(c)&&b.preventDefault()},_onTabKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&b.preventDefault():(c=this.menu.getTopSelectable())&&this.autocomplete(c)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){return a=b.isString(a)?a:this.input.getQuery()||"",a.length>=this.minLength},_updateHint:function(){var a,c,d,e,f,h,i;a=this.menu.getTopSelectable(),c=this.menu.getSelectableData(a),d=this.input.getInputValue(),!c||b.isBlankString(d)||this.input.hasOverflow()?this.input.clearHint():(e=g.normalizeQuery(d),f=b.escapeRegExChars(e),h=new RegExp("^(?:"+f+")(.+$)","i"),i=h.exec(c.val),i&&this.input.setHint(d+i[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(a){this.input.setQuery(b.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){var b=this.menu.getSelectableData(a);return b&&!this.eventBus.before("select",b.obj)?(this.input.setQuery(b.val,!0),this.eventBus.trigger("select",b.obj),this.close(),!0):!1},autocomplete:function(a){var b,c,d;return b=this.input.getQuery(),c=this.menu.getSelectableData(a),d=c&&b!==c.val,d&&!this.eventBus.before("autocomplete",c.obj)?(this.input.setQuery(c.val),this.eventBus.trigger("autocomplete",c.obj),!0):!1},moveCursor:function(a){var b,c,d,e,f;return b=this.input.getQuery(),c=this.menu.selectableRelativeToCursor(a),d=this.menu.getSelectableData(c),e=d?d.obj:null,f=this._minLengthMet()&&this.menu.update(b),f||this.eventBus.before("cursorchange",e)?!1:(this.menu.setCursor(c),d?this.input.setInputValue(d.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",e),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),c}();!function(){"use strict";function e(b,c){b.each(function(){var b,d=a(this);(b=d.data(p.typeahead))&&c(b,d)})}function f(a,b){return a.clone().addClass(b.classes.hint).removeData().css(b.css.hint).css(l(a)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function h(a,b){a.data(p.attrs,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")}),a.addClass(b.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!a.attr("dir")&&a.attr("dir","auto")}catch(c){}return a}function l(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function m(a){var c,d;c=a.data(p.www),d=a.parent().filter(c.selectors.wrapper),b.each(a.data(p.attrs),function(c,d){b.isUndefined(c)?a.removeAttr(d):a.attr(d,c)}),a.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(c.classes.input),d.length&&(a.detach().insertAfter(d),d.remove())}function n(c){var d,e;return d=b.isJQuery(c)||b.isElement(c),e=d?a(c).first():[],e.length?e:null}var o,p,q;o=a.fn.typeahead,p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},q={initialize:function(e,l){function m(){var c,m,q,r,s,t,u,v,w,x,y;b.each(l,function(a){a.highlight=!!e.highlight}),c=a(this),m=a(o.html.wrapper),q=n(e.hint),r=n(e.menu),s=e.hint!==!1&&!q,t=e.menu!==!1&&!r,s&&(q=f(c,o)),t&&(r=a(o.html.menu).css(o.css.menu)),q&&q.val(""),c=h(c,o),(s||t)&&(m.css(o.css.wrapper),c.css(s?o.css.input:o.css.inputWithNoHint),c.wrap(m).parent().prepend(s?q:null).append(t?r:null)),y=t?j:i,u=new d({el:c}),v=new g({hint:q,input:c},o),w=new y({node:r,datasets:l},o),x=new k({input:v,menu:w,eventBus:u,minLength:e.minLength},o),c.data(p.www,o),c.data(p.typeahead,x)}var o;return l=b.isArray(l)?l:[].slice.call(arguments,1),e=e||{},o=c(e.classNames),this.each(m)},isEnabled:function(){var a;return e(this.first(),function(b){a=b.isEnabled()}),a},enable:function(){return e(this,function(a){a.enable()}),this},disable:function(){return e(this,function(a){a.disable()}),this},isActive:function(){var a;return e(this.first(),function(b){a=b.isActive()}),a},activate:function(){return e(this,function(a){a.activate()}),this},deactivate:function(){return e(this,function(a){a.deactivate()}),this},isOpen:function(){var a;return e(this.first(),function(b){a=b.isOpen()}),a},open:function(){return e(this,function(a){a.open()}),this},close:function(){return e(this,function(a){a.close()}),this},select:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.select(d)}),c},autocomplete:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.autocomplete(d)}),c},moveCursor:function(a){var b=!1;return e(this.first(),function(c){b=c.moveCursor(a)}),b},val:function(a){var b;return arguments.length?(e(this,function(b){b.setVal(a)}),this):(e(this.first(),function(a){b=a.getVal()}),b)},destroy:function(){return e(this,function(a,b){m(b),a.destroy()}),this}},a.fn.typeahead=function(a){return q[a]?q[a].apply(this,[].slice.call(arguments,1)):q.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=o,this}}()});

(function(){'use strict';var n,t=this;function aa(a){return void 0!==a}function ba(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ga(a){return"string"==typeof a}function ha(a){return"number"==typeof a}function ia(a){return"function"==da(a)}function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function v(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;
function ma(a,b,d){return a.call.apply(a.bind,arguments)}function na(a,b,d){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}}function oa(a,b,d){oa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return oa.apply(null,arguments)}
function pa(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var b=d.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var qa=Date.now||function(){return+new Date};function ra(a,b){var d=a.split("."),e=t;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)!d.length&&aa(b)?e[f]=b:e[f]?e=e[f]:e=e[f]={}}
function x(a,b){function d(){}d.prototype=b.prototype;a.ca=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.$l=function(a,d,g){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[d].apply(a,h)}};var A=angular.module("ngeo",["gettext"]);ra("ngeo.FeatureProperties",{ANGLE:"angle",COLOR:"color",IS_CIRCLE:"isCircle",IS_RECTANGLE:"isRectangle",IS_TEXT:"isText",NAME:"name",OPACITY:"opacity",SHOW_MEASURE:"showMeasure",SIZE:"size",STROKE:"stroke"});ra("ngeo.GeometryType",{CIRCLE:"Circle",LINE_STRING:"LineString",POINT:"Point",POLYGON:"Polygon",RECTANGLE:"Rectangle",TEXT:"Text"});var G=angular.module("gmf",[A.name,"gettext","ngAnimate","ngTouch"]);var sa=angular.module("app",[G.name]);function ta(a,b){this.type=a;this.target=b||null}ta.prototype.preventDefault=ta.prototype.stopPropagation=function(){this.Nk=!0};function ua(a){a.stopPropagation()};var va="function"===typeof Object.assign?Object.assign:function(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(a),e=1,f=arguments.length;e<f;++e){var g=arguments[e];if(void 0!==g&&null!==g)for(var h in g)g.hasOwnProperty(h)&&(d[h]=g[h])}return d};function wa(a){for(var b in a)delete a[b]}function xa(a){var b=[],d;for(d in a)b.push(a[d]);return b}function ya(a){for(var b in a)return!1;return!b};var za="olm_"+(1E4*Math.random()|0);function Aa(a){function b(b){var e=a.listener,f=a.xf||a.target;a.wb&&H(a);return e.call(f,b)}return a.yf=b}function Ba(a,b,d,e){for(var f,g=0,h=a.length;g<h;++g)if(f=a[g],f.listener===b&&f.xf===d)return e&&(f.deleteIndex=g),f}function Ca(a,b){var d=a[za];return d?d[b]:void 0}function Da(a){var b=a[za];b||(b=a[za]={});return b}
function Ea(a,b){var d=Ca(a,b);if(d){for(var e=0,f=d.length;e<f;++e)a.removeEventListener(b,d[e].yf),wa(d[e]);d.length=0;if(d=a[za])delete d[b],0===Object.keys(d).length&&delete a[za]}}function I(a,b,d,e,f){var g=Da(a),h=g[b];h||(h=g[b]=[]);(g=Ba(h,d,e,!1))?f||(g.wb=!1):(g={xf:e,wb:!!f,listener:d,target:a,type:b},a.addEventListener(b,Aa(g)),h.push(g));return g}function Fa(a,b,d,e){(a=Ca(a,b))&&(d=Ba(a,d,e,!0))&&H(d)}
function H(a){if(a&&a.target){a.target.removeEventListener(a.type,a.yf);var b=Ca(a.target,a.type);if(b){var d="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==d&&b.splice(d,1);0===b.length&&Ea(a.target,a.type)}wa(a)}};var Ga;var Ia=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Ja(a){if(!Ka.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(La,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ma,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Na,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Oa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Pa,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Qa,"&#0;"));return a}
var La=/&/g,Ma=/</g,Na=/>/g,Oa=/"/g,Pa=/'/g,Qa=/\x00/g,Ka=/[\x00&<>"']/,Ra=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Sa(a,b,d){a=aa(d)?a.toFixed(d):String(a);d=a.indexOf(".");-1==d&&(d=a.length);return Ra("0",Math.max(0,b-d))+a}function Ta(a){return Array.prototype.join.call(arguments,"")}
function Ua(a,b){for(var d=0,e=Ia(String(a)).split("."),f=Ia(String(b)).split("."),g=Math.max(e.length,f.length),h=0;0==d&&h<g;h++){var k=e[h]||"",l=f[h]||"",m=/(\d*)(\D*)/g,p=/(\d*)(\D*)/g;do{var q=m.exec(k)||["","",""],r=p.exec(l)||["","",""];if(0==q[0].length&&0==r[0].length)break;d=Va(0==q[1].length?0:parseInt(q[1],10),0==r[1].length?0:parseInt(r[1],10))||Va(0==q[2].length,0==r[2].length)||Va(q[2],r[2])}while(0==d)}return d}function Va(a,b){return a<b?-1:a>b?1:0};function Wa(){};function Xa(){}Xa.prototype.tb=!1;Xa.prototype.xa=function(){this.tb||(this.tb=!0,this.ha())};Xa.prototype.ha=Wa;function Ya(){this.fa={};this.R={}}x(Ya,Xa);Ya.prototype.addEventListener=function(a,b){var d=this.R[a];d||(d=this.R[a]=[]);-1===d.indexOf(b)&&d.push(b)};function M(a,b){var d="string"===typeof b?new ta(b):b,e=d.type;d.target=a;var f=a.R[e],g;if(f){e in a.fa||(a.fa[e]=0);for(var h=0,k=f.length;h<k;++h)if(!1===f[h].call(a,d)||d.Nk){g=!1;break}d=a.fa[e];for(delete a.fa[e];d--;)a.removeEventListener(e,Wa);return g}}Ya.prototype.ha=function(){var a=Da(this),b;for(b in a)Ea(this,b)};
function Za(a,b){return b?b in a.R:0<Object.keys(a.R).length}Ya.prototype.removeEventListener=function(a,b){var d=this.R[a];if(d){var e=d.indexOf(b);a in this.fa?(d[e]=Wa,++this.fa[a]):(d.splice(e,1),0===d.length&&delete this.R[a])}};function ab(){Ya.call(this);this.g=0}x(ab,Ya);ab.prototype.c=function(){++this.g;M(this,"change")};ab.prototype.on=function(a,b,d){if(Array.isArray(a)){for(var e=a.length,f=Array(e),g=0;g<e;++g)f[g]=I(this,a[g],b,d);return f}return I(this,a,b,d)};function bb(a,b,d){ta.call(this,a);this.key=b;this.oldValue=d}x(bb,ta);function cb(a){ab.call(this);v(this);this.S={};void 0!==a&&this.wa(a)}x(cb,ab);var db={};function O(a){return db.hasOwnProperty(a)?db[a]:db[a]="change:"+a}cb.prototype.get=function(a){var b;this.S.hasOwnProperty(a)&&(b=this.S[a]);return b};cb.prototype.La=function(){return Object.keys(this.S)};function eb(a){return va({},a.S)}
cb.prototype.set=function(a,b,d){d?this.S[a]=b:(d=this.S[a],this.S[a]=b,d!==b&&(b=O(a),M(this,new bb(b,a,d)),M(this,new bb("propertychange",a,d))))};cb.prototype.wa=function(a,b){for(var d in a)this.set(d,a[d],b)};function fb(a,b,d){ta.call(this,a,d);this.element=b}x(fb,ta);function gb(a){cb.call(this);this.b=a?a:[];hb(this)}x(gb,cb);n=gb.prototype;n.clear=function(){for(;0<ib(this);)this.pop()};n.extend=function(a){var b,d;b=0;for(d=a.length;b<d;++b)this.push(a[b]);return this};n.forEach=function(a,b){this.b.forEach(a,b)};n.item=function(a){return this.b[a]};function ib(a){return a.get("length")}function jb(a,b,d){a.b.splice(b,0,d);hb(a);M(a,new fb("add",d,a))}n.pop=function(){return kb(this,ib(this)-1)};
n.push=function(a){var b=this.b.length;jb(this,b,a);return b};n.remove=function(a){var b=this.b,d,e;d=0;for(e=b.length;d<e;++d)if(b[d]===a)return kb(this,d)};function kb(a,b){var d=a.b[b];a.b.splice(b,1);hb(a);M(a,new fb("remove",d,a));return d}function hb(a){a.set("length",a.b.length)};function lb(a,b){return a>b?1:a<b?-1:0}function mb(a,b,d){var e=a.length;if(a[0]<=b)return 0;if(!(b<=a[e-1]))if(0<d)for(d=1;d<e;++d){if(a[d]<b)return d-1}else if(0>d)for(d=1;d<e;++d){if(a[d]<=b)return d}else for(d=1;d<e;++d){if(a[d]==b)return d;if(a[d]<b)return a[d-1]-b<b-a[d]?d-1:d}return e-1}function nb(a,b){var d,e=fa(b)?b:[b],f=e.length;for(d=0;d<f;d++)a[a.length]=e[d]}function ob(a,b){var d=a.indexOf(b),e=-1<d;e&&a.splice(d,1);return e}
function pb(a,b){for(var d=a.length>>>0,e,f=0;f<d;f++)if(e=a[f],b(e,f,a))return e;return null}function qb(a,b){var d=a.length;if(d!==b.length)return!1;for(var e=0;e<d;e++)if(a[e]!==b[e])return!1;return!0}function rb(a){var b=sb,d=a.length,e=Array(a.length),f;for(f=0;f<d;f++)e[f]={index:f,value:a[f]};e.sort(function(a,d){return b(a.value,d.value)||a.index-d.index});for(f=0;f<a.length;f++)a[f]=e[f].value}function tb(a,b){var d;return a.every(function(e,f){d=f;return!b(e,f,a)})?-1:d};function ub(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}ub.prototype.BYTES_PER_ELEMENT=4;ub.prototype.set=function(a,b){b=b||0;for(var d=0;d<a.length&&b+d<this.length;d++)this[b+d]=a[d]};ub.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(ub.BYTES_PER_ELEMENT=4,ub.prototype.BYTES_PER_ELEMENT=ub.prototype.BYTES_PER_ELEMENT,ub.prototype.set=ub.prototype.set,ub.prototype.toString=ub.prototype.toString,ra("Float32Array",ub));function vb(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}vb.prototype.BYTES_PER_ELEMENT=8;vb.prototype.set=function(a,b){b=b||0;for(var d=0;d<a.length&&b+d<this.length;d++)this[b+d]=a[d]};vb.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{vb.BYTES_PER_ELEMENT=8}catch(a){}vb.prototype.BYTES_PER_ELEMENT=vb.prototype.BYTES_PER_ELEMENT;vb.prototype.set=vb.prototype.set;vb.prototype.toString=vb.prototype.toString;ra("Float64Array",vb)};function wb(){var a=Array(16);a[0]=0;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=0;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=0;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=0;return a}
function xb(a,b){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],k=a[5],l=a[6],m=a[7],p=a[8],q=a[9],r=a[10],w=a[11],u=a[12],y=a[13],B=a[14],C=a[15],D=d*k-e*h,z=d*l-f*h,N=d*m-g*h,U=e*l-f*k,T=e*m-g*k,J=f*m-g*l,ca=p*y-q*u,L=p*B-r*u,R=p*C-w*u,P=q*B-r*y,F=q*C-w*y,K=r*C-w*B,E=D*K-z*F+N*P+U*R-T*L+J*ca;0!=E&&(E=1/E,b[0]=(k*K-l*F+m*P)*E,b[1]=(-e*K+f*F-g*P)*E,b[2]=(y*J-B*T+C*U)*E,b[3]=(-q*J+r*T-w*U)*E,b[4]=(-h*K+l*R-m*L)*E,b[5]=(d*K-f*R+g*L)*E,b[6]=(-u*J+B*N-C*z)*E,b[7]=(p*J-r*N+w*z)*E,b[8]=(h*F-k*R+m*ca)*E,b[9]=(-d*
F+e*R-g*ca)*E,b[10]=(u*T-y*N+C*D)*E,b[11]=(-p*T+q*N-w*D)*E,b[12]=(-h*P+k*L-l*ca)*E,b[13]=(d*P-e*L+f*ca)*E,b[14]=(-u*U+y*z-B*D)*E,b[15]=(p*U-q*z+r*D)*E)}function yb(a,b,d){var e=a[1]*b+a[5]*d+0*a[9]+a[13],f=a[2]*b+a[6]*d+0*a[10]+a[14],g=a[3]*b+a[7]*d+0*a[11]+a[15];a[12]=a[0]*b+a[4]*d+0*a[8]+a[12];a[13]=e;a[14]=f;a[15]=g}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function zb(a,b,d){return Math.min(Math.max(a,b),d)}var Ab=function(){var a;"cosh"in Math?a=Math.cosh:a=function(a){a=Math.exp(a);return(a+1/a)/2};return a}();function Bb(a){return a*Math.PI/180}function Cb(a,b){var d=a%b;return 0>d*b?d+b:d};function Db(a,b){a[0]+=b[0];a[1]+=b[1]}function Eb(a,b){var d=a[0],e=a[1],f=b[0],g=b[1],h=f[0],f=f[1],k=g[0],g=g[1],l=k-h,m=g-f,d=0===l&&0===m?0:(l*(d-h)+m*(e-f))/(l*l+m*m||0);0>=d||(1<=d?(h=k,f=g):(h+=d*l,f+=d*m));return[h,f]}function Fb(a,b){for(var d=!0,e=a.length-1;0<=e;--e)if(a[e]!=b[e]){d=!1;break}return d}function Gb(a,b){var d=Math.cos(b),e=Math.sin(b),f=a[1]*d+a[0]*e;a[0]=a[0]*d-a[1]*e;a[1]=f}function Hb(a,b){var d=a[0]-b[0],e=a[1]-b[1];return d*d+e*e};function Ib(a,b){if(Array.isArray(a))return a;void 0===b?b=[a,a]:(b[0]=a,b[1]=a);return b};function Jb(a){for(var b=Kb(),d=0,e=a.length;d<e;++d)Lb(b,a[d]);return b}function Mb(a,b,d){return d?(d[0]=a[0]-b,d[1]=a[1]-b,d[2]=a[2]+b,d[3]=a[3]+b,d):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Nb(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Ob(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function Pb(a,b,d){return a[0]<=b&&b<=a[2]&&a[1]<=d&&d<=a[3]}function Kb(){return[Infinity,Infinity,-Infinity,-Infinity]}
function Qb(a,b,d,e,f){return f?(f[0]=a,f[1]=b,f[2]=d,f[3]=e,f):[a,b,d,e]}function Rb(a){return Qb(Infinity,Infinity,-Infinity,-Infinity,a)}function Sb(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function Tb(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3])}function Lb(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}
function Ub(a,b,d,e,f){for(;d<e;d+=f){var g=a,h=b[d],k=b[d+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],k);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],k)}return a}function Vb(a){var b=0;Wb(a)||(b=Xb(a)*Yb(a));return b}function Zb(a){return[a[0],a[1]]}function $b(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function ac(a,b,d,e){var f=b*e[0]/2;e=b*e[1]/2;b=Math.cos(d);var g=Math.sin(d);d=f*b;f*=g;b*=e;var h=e*g,k=a[0],l=a[1];a=k-d+h;e=k-d-h;g=k+d-h;d=k+d+h;var h=l-f-b,k=l-f+b,m=l+f+b,f=l+f-b;return Qb(Math.min(a,e,g,d),Math.min(h,k,m,f),Math.max(a,e,g,d),Math.max(h,k,m,f),void 0)}function Yb(a){return a[3]-a[1]}function bc(a,b){var d=Kb();cc(a,b)&&(d[0]=a[0]>b[0]?a[0]:b[0],d[1]=a[1]>b[1]?a[1]:b[1],d[2]=a[2]<b[2]?a[2]:b[2],d[3]=a[3]<b[3]?a[3]:b[3]);return d}function Xb(a){return a[2]-a[0]}
function cc(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Wb(a){return a[2]<a[0]||a[3]<a[1]};function dc(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")};var ec=document.implementation.createDocument("","",null);function fc(a){return gc(a,!1,[]).join("")}function gc(a,b,d){if(4==a.nodeType||3==a.nodeType)b?d.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):d.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)gc(a,b,d);return d}function hc(a){return a instanceof Document}function ic(a){return a instanceof Node}function jc(a){return(new DOMParser).parseFromString(a,"application/xml")}
function kc(a,b){return function(d,e){var f=a.call(void 0!==b?b:this,d,e);void 0!==f&&e[e.length-1].push(f)}}function lc(a,b){return function(d,e){var f=a.call(void 0!==b?b:this,d,e);void 0!==f&&(e[e.length-1]=f)}}function mc(a){return function(b,d){var e=a.call(this,b,d);if(void 0!==e){var f=d[d.length-1],g=b.localName,h;g in f?h=f[g]:h=f[g]=[];h.push(e)}}}function Q(a,b){return function(d,e){var f=a.call(this,d,e);void 0!==f&&(e[e.length-1][void 0!==b?b:d.localName]=f)}}
function S(a,b){return function(d,e,f){a.call(void 0!==b?b:this,d,e,f);f[f.length-1].node.appendChild(d)}}function nc(a){var b,d;return function(e,f,g){if(void 0===b){b={};var h={};h[e.localName]=a;b[e.namespaceURI]=h;d=oc(e.localName)}pc(b,d,f,g)}}function oc(a,b){return function(d,e,f){d=e[e.length-1].node;e=a;void 0===e&&(e=f);f=b;void 0===b&&(f=d.namespaceURI);return ec.createElementNS(f,e)}}var qc=oc();function rc(a,b){for(var d=b.length,e=Array(d),f=0;f<d;++f)e[f]=a[b[f]];return e}
function V(a,b,d){d=void 0!==d?d:{};var e,f;e=0;for(f=a.length;e<f;++e)d[a[e]]=b;return d}function sc(a,b,d,e){for(b=b.firstElementChild;b;b=b.nextElementSibling){var f=a[b.namespaceURI];void 0!==f&&(f=f[b.localName],void 0!==f&&f.call(e,b,d))}}function W(a,b,d,e,f){e.push(a);sc(b,d,e,f);return e.pop()}function pc(a,b,d,e,f,g){for(var h=(void 0!==f?f:d).length,k,l,m=0;m<h;++m)k=d[m],void 0!==k&&(l=b.call(g,k,e,void 0!==f?f[m]:void 0),void 0!==l&&a[l.namespaceURI][l.localName].call(g,l,k,e))}
function tc(a,b,d,e,f,g,h){f.push(a);pc(b,d,e,f,g,h);f.pop()};function uc(){}uc.prototype.read=function(a){return hc(a)?this.b(a):ic(a)?this.c(a):"string"===typeof a?(a=jc(a),this.b(a)):null};function vc(a){a=fc(a);return wc(a)}function wc(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function xc(a){a=fc(a);if(a=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?))\s*$/.exec(a)){var b=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10))/1E3;if("Z"!=a[7]){var d="-"==a[8]?-1:1,b=b+60*d*parseInt(a[9],10);void 0!==a[10]&&(b+=3600*d*parseInt(a[10],10))}return b}}
function yc(a){a=fc(a);return zc(a)}function zc(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function Ac(a){a=fc(a);return Bc(a)}function Bc(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function X(a){return fc(a).trim()}function Dc(a,b){Ec(a,b?"1":"0")}function Fc(a,b){a.appendChild(ec.createTextNode(b.toPrecision()))}function Gc(a,b){a.appendChild(ec.createTextNode(b.toString()))}function Ec(a,b){a.appendChild(ec.createTextNode(b))};function Hc(){}x(Hc,uc);Hc.prototype.b=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return this.c(a);return null};Hc.prototype.c=function(a){return(a=W({},Ic,a,[]))?a:null};
var Jc=[null,"http://www.opengis.net/ows/1.1"],Ic=V(Jc,{ServiceIdentification:Q(function(a,b){return W({},Kc,a,b)}),ServiceProvider:Q(function(a,b){return W({},Lc,a,b)}),OperationsMetadata:Q(function(a,b){return W({},Mc,a,b)})}),Nc=V(Jc,{DeliveryPoint:Q(X),City:Q(X),AdministrativeArea:Q(X),PostalCode:Q(X),Country:Q(X),ElectronicMailAddress:Q(X)}),Oc=V(Jc,{Value:mc(function(a){return X(a)})}),Pc=V(Jc,{AllowedValues:Q(function(a,b){return W({},Oc,a,b)})}),Rc=V(Jc,{Phone:Q(function(a,b){return W({},
Qc,a,b)}),Address:Q(function(a,b){return W({},Nc,a,b)})}),Tc=V(Jc,{HTTP:Q(function(a,b){return W({},Sc,a,b)})}),Sc=V(Jc,{Get:mc(function(a,b){var d=dc(a);return d?W({href:d},Uc,a,b):void 0}),Post:void 0}),Vc=V(Jc,{DCP:Q(function(a,b){return W({},Tc,a,b)})}),Mc=V(Jc,{Operation:function(a,b){var d=a.getAttribute("name"),e=W({},Vc,a,b);e&&(b[b.length-1][d]=e)}}),Qc=V(Jc,{Voice:Q(X),Facsimile:Q(X)}),Uc=V(Jc,{Constraint:mc(function(a,b){var d=a.getAttribute("name");return d?W({name:d},Pc,a,b):void 0})}),
Wc=V(Jc,{IndividualName:Q(X),PositionName:Q(X),ContactInfo:Q(function(a,b){return W({},Rc,a,b)})}),Kc=V(Jc,{Title:Q(X),ServiceTypeVersion:Q(X),ServiceType:Q(X)}),Lc=V(Jc,{ProviderName:Q(X),ProviderSite:Q(dc),ServiceContact:Q(function(a,b){return W({},Wc,a,b)})});function Xc(){this.g=new Hc}x(Xc,uc);Xc.prototype.b=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return this.c(a);return null};Xc.prototype.c=function(a){var b=a.getAttribute("version").trim(),d=this.g.c(a);if(!d)return null;d.version=b;return(d=W(d,Yc,a,[]))?d:null};function Zc(a){var b=X(a).split(" ");if(b&&2==b.length)return a=+b[0],b=+b[1],isNaN(a)||isNaN(b)?void 0:[a,b]}
var $c=[null,"http://www.opengis.net/wmts/1.0"],ad=[null,"http://www.opengis.net/ows/1.1"],Yc=V($c,{Contents:Q(function(a,b){return W({},bd,a,b)})}),bd=V($c,{Layer:mc(function(a,b){return W({},cd,a,b)}),TileMatrixSet:mc(function(a,b){return W({},dd,a,b)})}),cd=V($c,{Style:mc(function(a,b){var d=W({},ed,a,b);if(d){var e="true"===a.getAttribute("isDefault");d.isDefault=e;return d}}),Format:mc(X),TileMatrixSetLink:mc(function(a,b){return W({},fd,a,b)}),Dimension:mc(function(a,b){return W({},gd,a,b)}),
ResourceURL:mc(function(a){var b=a.getAttribute("format"),d=a.getAttribute("template");a=a.getAttribute("resourceType");var e={};b&&(e.format=b);d&&(e.template=d);a&&(e.resourceType=a);return e})},V(ad,{Title:Q(X),Abstract:Q(X),WGS84BoundingBox:Q(function(a,b){var d=W([],hd,a,b);return 2!=d.length?void 0:Jb(d)}),Identifier:Q(X)})),ed=V($c,{LegendURL:mc(function(a){var b={};b.format=a.getAttribute("format");b.href=dc(a);return b})},V(ad,{Title:Q(X),Identifier:Q(X)})),fd=V($c,{TileMatrixSet:Q(X)}),
gd=V($c,{Default:Q(X),Value:mc(X)},V(ad,{Identifier:Q(X)})),hd=V(ad,{LowerCorner:kc(Zc),UpperCorner:kc(Zc)}),dd=V($c,{WellKnownScaleSet:Q(X),TileMatrix:mc(function(a,b){return W({},id,a,b)})},V(ad,{SupportedCRS:Q(X),Identifier:Q(X)})),id=V($c,{TopLeftCorner:Q(Zc),ScaleDenominator:Q(yc),TileWidth:Q(Ac),TileHeight:Q(Ac),MatrixWidth:Q(Ac),MatrixHeight:Q(Ac)},V(ad,{Identifier:Q(X)}));function jd(a,b,d,e){this.b=a;this.c=b;this.f=d;this.g=e}jd.prototype.contains=function(a){return kd(this,a[1],a[2])};function kd(a,b,d){return a.b<=b&&b<=a.c&&a.f<=d&&d<=a.g}jd.prototype.equals=function(a){return this.b==a.b&&this.f==a.f&&this.c==a.c&&this.g==a.g};jd.prototype.extend=function(a){a.b<this.b&&(this.b=a.b);a.c>this.c&&(this.c=a.c);a.f<this.f&&(this.f=a.f);a.g>this.g&&(this.g=a.g)};function ld(a,b){return a.b<=b.c&&a.c>=b.b&&a.f<=b.g&&a.g>=b.f};function md(a){this.b=a.html;this.c=a.nl?a.nl:null};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function nd(a){this.radius=a}function od(a,b,d){var e=Bb(b[1]),f=Bb(d[1]),g=(f-e)/2;b=Bb(d[0]-b[0])/2;e=Math.sin(g)*Math.sin(g)+Math.sin(b)*Math.sin(b)*Math.cos(e)*Math.cos(f);return 2*a.radius*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))}nd.prototype.offset=function(a,b,d){var e=Bb(a[1]);b/=this.radius;var f=Math.asin(Math.sin(e)*Math.cos(b)+Math.cos(e)*Math.sin(b)*Math.cos(d));return[180*(Bb(a[0])+Math.atan2(Math.sin(d)*Math.sin(b)*Math.cos(e),Math.cos(b)-Math.sin(e)*Math.sin(f)))/Math.PI,180*f/Math.PI]};var pd=new nd(6370997);var qd={};qd.degrees=2*Math.PI*pd.radius/360;qd.ft=.3048;qd.m=1;qd["us-ft"]=1200/3937;
function rd(a){this.c=a.code;this.f=a.units;this.j=void 0!==a.extent?a.extent:null;this.i=void 0!==a.Yd?a.Yd:"enu";this.g=void 0!==a.global?a.global:!1;this.b=!(!this.g||!this.j);this.u=void 0!==a.Cb?a.Cb:this.v;this.o=null;this.s=a.ig;var b=sd,d=a.code,e=td||t.proj4;if("function"==typeof e&&void 0===b[d]){var f=e.defs(d);if(void 0!==f){void 0!==f.axis&&void 0===a.Yd&&(this.i=f.axis);void 0===a.ig&&(this.s=f.to_meter);void 0===a.units&&(this.f=f.units);var g,h;for(g in b)if(a=e.defs(g),void 0!==a)if(b=
ud(g),a===f)vd([b,this]);else{h=e(g,d);a=h.forward;h=h.inverse;var b=ud(b),k=ud(this);wd(b,k,xd(a));wd(k,b,xd(h))}}}}rd.prototype.I=function(){return this.j};function yd(a){return a.s||qd[a.f]}function zd(a,b){a.j=b;a.b=!(!a.g||!b)}
rd.prototype.v=function(a,b){if("degrees"==this.f)return a;var d=Ad(this,ud("EPSG:4326")),e=[b[0]-a/2,b[1],b[0]+a/2,b[1],b[0],b[1]-a/2,b[0],b[1]+a/2],e=d(e,e,2),d=od(pd,e.slice(0,2),e.slice(2,4)),e=od(pd,e.slice(4,6),e.slice(6,8)),e=(d+e)/2,d=yd(this);void 0!==d&&(e/=d);return e};rd.prototype.Cb=function(a,b){return this.u(a,b)};var sd={},Bd={},td=null;function vd(a){Cd(a);a.forEach(function(b){a.forEach(function(a){b!==a&&wd(b,a,Dd)})})}function Ed(a){sd[a.c]=a;wd(a,a,Dd)}
function Cd(a){var b=[];a.forEach(function(a){b.push(Ed(a))})}function Fd(a){return a?"string"===typeof a?ud(a):a:ud("EPSG:3857")}function wd(a,b,d){a=a.c;b=b.c;a in Bd||(Bd[a]={});Bd[a][b]=d}function xd(a){return function(b,d,e){var f=b.length;e=void 0!==e?e:2;d=void 0!==d?d:Array(f);var g,h;for(h=0;h<f;h+=e)for(g=a([b[h],b[h+1]]),d[h]=g[0],d[h+1]=g[1],g=e-1;2<=g;--g)d[h+g]=b[h+g];return d}}
function ud(a){var b;if(a instanceof rd)b=a;else if("string"===typeof a){b=sd[a];var d=td||t.proj4;void 0===b&&"function"==typeof d&&void 0!==d.defs(a)&&(b=new rd({code:a}),Ed(b))}else b=null;return b}function Gd(a,b){if(a===b)return!0;var d=a.f===b.f;return a.c===b.c?d:Ad(a,b)===Dd&&d}function Hd(a,b){var d=ud(a),e=ud(b);return Ad(d,e)}function Ad(a,b){var d=a.c,e=b.c,f;d in Bd&&e in Bd[d]&&(f=Bd[d][e]);void 0===f&&(f=Id);return f}
function Id(a,b){if(void 0!==b&&a!==b){for(var d=0,e=a.length;d<e;++d)b[d]=a[d];a=b}return a}function Dd(a,b){var d;if(void 0!==b){d=0;for(var e=a.length;d<e;++d)b[d]=a[d];d=b}else d=a.slice();return d}function Jd(a,b,d){return Hd(b,d)(a,void 0,a.length)}
function Kd(a,b,d){b=Hd(b,d);a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);d=[a[0],a[2],a[4],a[6]];var e=[a[1],a[3],a[5],a[7]];a=Math.min.apply(null,d);b=Math.min.apply(null,e);d=Math.max.apply(null,d);e=Math.max.apply(null,e);return Qb(a,b,d,e,void 0)};function Ld(a){cb.call(this);this.N=ud(a.projection);this.Ea=Md(a.ka);this.za=a.qa;this.ab=void 0!==a.state?a.state:"ready";this.u=void 0!==a.wrapX?a.wrapX:!1}x(Ld,cb);function Md(a){if("string"===typeof a)return[new md({html:a})];if(a instanceof md)return[a];if(Array.isArray(a)){for(var b=a.length,d=Array(b),e=0;e<b;e++){var f=a[e];d[e]="string"===typeof f?new md({html:f}):f}return d}return null}n=Ld.prototype;n.uk=Wa;n.ec=function(){return this.Ea};n.Y=function(){return this.N};n.ea=function(){return this.ab};
n.refresh=function(){this.c()};n.Jd=function(a){this.N=a};function Nd(a){cb.call(this);var b=va({},a);b.opacity=void 0!==a.opacity?a.opacity:1;b.visible=void 0!==a.visible?a.visible:!0;b.zIndex=void 0!==a.zIndex?a.zIndex:0;b.maxResolution=void 0!==a.jb?a.jb:Infinity;b.minResolution=void 0!==a.Ya?a.Ya:0;this.wa(b)}x(Nd,cb);function Od(a){var b=Pd(a),d=a.ue(),e=Qd(a),f=a.I(),g=a.get("zIndex"),h=a.get("maxResolution"),k=a.get("minResolution");return{layer:a,opacity:zb(b,0,1),il:d,visible:e,Be:!0,extent:f,zIndex:g,jb:h,Ya:Math.max(k,0)}}Nd.prototype.I=function(){return this.get("extent")};
function Pd(a){return a.get("opacity")}function Qd(a){return a.get("visible")}Nd.prototype.Za=function(a){this.set("visible",a)};function Rd(a){var b=a||{};a=va({},b);delete a.layers;b=b.layers;Nd.call(this,a);this.f=[];this.b={};I(this,O("layers"),this.Ti,this);b?Array.isArray(b)&&(b=new gb(b.slice())):b=new gb;this.set("layers",b)}x(Rd,Nd);n=Rd.prototype;n.md=function(){Qd(this)&&this.c()};
n.Ti=function(){this.f.forEach(H);this.f.length=0;var a=Sd(this);this.f.push(I(a,"add",this.lk,this),I(a,"remove",this.mk,this));for(var b in this.b)this.b[b].forEach(H);wa(this.b);var a=a.b,d,e;b=0;for(d=a.length;b<d;b++)e=a[b],this.b[v(e).toString()]=[I(e,"propertychange",this.md,this),I(e,"change",this.md,this)];this.c()};n.lk=function(a){a=a.element;var b=v(a).toString();this.b[b]=[I(a,"propertychange",this.md,this),I(a,"change",this.md,this)];this.c()};
n.mk=function(a){a=v(a.element).toString();this.b[a].forEach(H);delete this.b[a];this.c()};function Sd(a){return a.get("layers")}n.pe=function(a){var b=void 0!==a?a:[],d=b.length;Sd(this).forEach(function(a){a.pe(b)});a=Od(this);var e,f;for(e=b.length;d<e;d++)f=b[d],f.opacity*=a.opacity,f.visible=f.visible&&a.visible,f.jb=Math.min(f.jb,a.jb),f.Ya=Math.max(f.Ya,a.Ya),void 0!==a.extent&&(f.extent=void 0!==f.extent?bc(f.extent,a.extent):a.extent);return b};n.ue=function(){return"ready"};function Td(){};function Ud(a,b,d,e,f,g){ta.call(this,a,b);this.vectorContext=d;this.frameState=e;this.context=f;this.glContext=g}x(Ud,ta);function Vd(a){var b=va({},a);delete b.source;Nd.call(this,b);this.i=this.f=this.b=null;a.map&&this.setMap(a.map);I(this,O("source"),this.ej,this);Wd(this,a.source?a.source:null)}x(Vd,Nd);n=Vd.prototype;n.pe=function(a){a=a?a:[];a.push(Od(this));return a};n.K=function(){return this.get("source")||null};n.ue=function(){var a=this.K();return a?a.ea():"undefined"};n.nk=function(){this.c()};n.ej=function(){this.i&&(H(this.i),this.i=null);var a=this.K();a&&(this.i=I(a,"change",this.nk,this));this.c()};
n.setMap=function(a){this.b&&(H(this.b),this.b=null);a||this.c();this.f&&(H(this.f),this.f=null);a&&(this.b=I(a,"precompose",function(a){var d=Od(this);d.Be=!1;d.zIndex=Infinity;a.frameState.rd.push(d);a.frameState.qd[v(this)]=d},this),this.f=I(this,"change",a.render,a),this.c())};function Wd(a,b){a.set("source",b)};function Xd(a){Vd.call(this,a?a:{})}x(Xd,Vd);function Yd(a){a=a?a:{};var b=va({},a);delete b.Dg;delete b.$g;Vd.call(this,b);this.set("preload",void 0!==a.Dg?a.Dg:0);this.set("useInterimTilesOnError",void 0!==a.$g?a.$g:!0)}x(Yd,Vd);var Zd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function $d(a,b){if(a)for(var d=a.split("&"),e=0;e<d.length;e++){var f=d[e].indexOf("="),g=null,h=null;0<=f?(g=d[e].substring(0,f),h=d[e].substring(f+1)):g=d[e];b(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}
function ae(a){if(a[1]){var b=a[0],d=b.indexOf("#");0<=d&&(a.push(b.substr(d)),a[0]=b=b.substr(0,d));d=b.indexOf("?");0>d?a[1]="?":d==b.length-1&&(a[1]=void 0)}return a.join("")}function be(a,b,d){if(ea(b))for(var e=0;e<b.length;e++)be(a,String(b[e]),d);else null!=b&&d.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))}function ce(a,b){for(var d in b)be(d,b[d],a);return a}
function de(a,b,d,e){for(var f=d.length;0<=(b=a.indexOf(d,b))&&b<e;){var g=a.charCodeAt(b-1);if(38==g||63==g)if(g=a.charCodeAt(b+f),!g||61==g||38==g||35==g)return b;b+=f+1}return-1}var ee=/#|$/,fe=/[?&]($|#)/;function ge(a,b,d){for(var e=a.search(ee),f=0,g,h=[];0<=(g=de(a,f,b,e));)h.push(a.substring(f,g)),f=Math.min(a.indexOf("&",g)+1||e,e);h.push(a.substr(f));a=[h.join("").replace(fe,"$1"),"&",b];null!=d&&a.push("=",encodeURIComponent(String(d)));return ae(a)}
function he(a,b){var d=a.length-1;0<=d&&a.indexOf("/",d)==d&&(a=a.substr(0,a.length-1));0==b.lastIndexOf("/",0)&&(b=b.substr(1));return Ta(a,"/",b)};function ie(a,b,d,e,f){Ya.call(this);this.o=f;this.extent=a;this.f=d;this.resolution=b;this.state=e}x(ie,Ya);function je(a){M(a,"change")}ie.prototype.ec=function(){return this.o};ie.prototype.I=function(){return this.extent};ie.prototype.X=function(){return this.resolution};ie.prototype.ea=function(){return this.state};function ke(a,b,d,e,f,g,h){ie.call(this,a,b,d,0,e);this.j=f;this.c=new Image;null!==g&&(this.c.crossOrigin=g);this.g={};this.b=null;this.state=0;this.i=h}x(ke,ie);ke.prototype.wd=function(a){if(void 0!==a){var b;a=v(a);if(a in this.g)return this.g[a];ya(this.g)?b=this.c:b=this.c.cloneNode(!1);return this.g[a]=b}return this.c};ke.prototype.s=function(){this.state=3;this.b.forEach(H);this.b=null;je(this)};
ke.prototype.u=function(){void 0===this.resolution&&(this.resolution=Yb(this.extent)/this.c.height);this.state=2;this.b.forEach(H);this.b=null;je(this)};ke.prototype.load=function(){0==this.state&&(this.state=1,je(this),this.b=[I(this.c,"error",this.s,this,!0),I(this.c,"load",this.u,this,!0)],this.i(this,this.j))};var le=Array.prototype.indexOf?function(a,b,d){return Array.prototype.indexOf.call(a,b,d)}:function(a,b,d){d=null==d?0:0>d?Math.max(0,a.length+d):d;if(ga(a))return ga(b)&&1==b.length?a.indexOf(b,d):-1;for(;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},me=Array.prototype.forEach?function(a,b,d){Array.prototype.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,f=ga(a)?a.split(""):a,g=0;g<e;g++)g in f&&b.call(d,f[g],g,a)},ne=Array.prototype.filter?function(a,b,d){return Array.prototype.filter.call(a,
b,d)}:function(a,b,d){for(var e=a.length,f=[],g=0,h=ga(a)?a.split(""):a,k=0;k<e;k++)if(k in h){var l=h[k];b.call(d,l,k,a)&&(f[g++]=l)}return f};function oe(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function pe(a){var b=a.length;if(0<b){for(var d=Array(b),e=0;e<b;e++)d[e]=a[e];return d}return[]}function qe(a,b,d){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,d)};var re;a:{var se=t.navigator;if(se){var te=se.userAgent;if(te){re=te;break a}}re=""}function ue(a){return-1!=re.indexOf(a)};function ve(a,b,d){for(var e in a)b.call(d,a[e],e,a)}function we(a){var b=[],d=0,e;for(e in a)b[d++]=a[e];return b}function xe(a){var b=[],d=0,e;for(e in a)b[d++]=e;return b}function ye(a){var b={},d;for(d in a)b[d]=a[d];return b}function ze(a){var b=da(a);if("object"==b||"array"==b){if(ia(a.clone))return a.clone();var b="array"==b?[]:{},d;for(d in a)b[d]=ze(a[d]);return b}return a}var Ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Be(a,b){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)a[d]=e[d];for(var g=0;g<Ae.length;g++)d=Ae[g],Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])}};var Ce=ue("Opera")||ue("OPR"),De=ue("Trident")||ue("MSIE"),Ee=ue("Edge"),Fe=ue("Gecko")&&!(-1!=re.toLowerCase().indexOf("webkit")&&!ue("Edge"))&&!(ue("Trident")||ue("MSIE"))&&!ue("Edge"),Ge=-1!=re.toLowerCase().indexOf("webkit")&&!ue("Edge"),He=ue("Macintosh");function Ie(){var a=t.document;return a?a.documentMode:void 0}var Je;
a:{var Ke="",Le=function(){var a=re;if(Fe)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Ee)return/Edge\/([\d\.]+)/.exec(a);if(De)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Ge)return/WebKit\/(\S+)/.exec(a);if(Ce)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Le&&(Ke=Le?Le[1]:"");if(De){var Me=Ie();if(null!=Me&&Me>parseFloat(Ke)){Je=String(Me);break a}}Je=Ke}var Ne={};function Oe(a){return Ne[a]||(Ne[a]=0<=Ua(Je,a))}var Pe=t.document,Qe=Pe&&De?Ie()||("CSS1Compat"==Pe.compatMode?parseInt(Je,10):5):void 0;function Re(a,b){var d=document.createElement("CANVAS");a&&(d.width=a);b&&(d.height=b);return d.getContext("2d")};var Se=!((ue("Chrome")||ue("CriOS"))&&!ue("Opera")&&!ue("OPR")&&!ue("Edge"))||ue("iPhone")&&!ue("iPod")&&!ue("iPad")||ue("iPad")||ue("iPod");function Te(a,b,d,e){var f=Jd(d,b,a);d=b.Cb(e,d);b=yd(b);void 0!==b&&(d*=b);b=yd(a);void 0!==b&&(d/=b);a=a.Cb(d,f)/d;isFinite(a)&&0<a&&(d/=a);return d}function Ue(a,b,d,e){a=d-a;b=e-b;var f=Math.sqrt(a*a+b*b);return[Math.round(d+a/f),Math.round(e+b/f)]}
function Ve(a,b,d,e,f,g,h,k,l,m,p){var q=Re(Math.round(d*a),Math.round(d*b));if(0===l.length)return q.canvas;q.scale(d,d);var r=Kb();l.forEach(function(a){Tb(r,a.extent)});var w=Re(Math.round(d*Xb(r)/e),Math.round(d*Yb(r)/e)),u=d/e;l.forEach(function(a){w.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-r[0])*u,-(a.extent[3]-r[3])*u,Xb(a.extent)*u,Yb(a.extent)*u)});var y=[h[0],h[3]];k.f.forEach(function(a){var b=a.source,f=a.target,h=b[1][0],k=b[1][1],l=b[2][0],m=b[2][1];a=
(f[0][0]-y[0])/g;var p=-(f[0][1]-y[1])/g,u=(f[1][0]-y[0])/g,L=-(f[1][1]-y[1])/g,R=(f[2][0]-y[0])/g,P=-(f[2][1]-y[1])/g,f=b[0][0],b=b[0][1],h=h-f,k=k-b,l=l-f,m=m-b;a:{h=[[h,k,0,0,u-a],[l,m,0,0,R-a],[0,0,h,k,L-p],[0,0,l,m,P-p]];k=h.length;for(l=0;l<k;l++){for(var m=l,F=Math.abs(h[l][l]),K=l+1;K<k;K++){var E=Math.abs(h[K][l]);E>F&&(F=E,m=K)}if(0===F){h=null;break a}F=h[m];h[m]=h[l];h[l]=F;for(m=l+1;m<k;m++)for(F=-h[m][l]/h[l][l],K=l;K<k+1;K++)h[m][K]=l==K?0:h[m][K]+F*h[l][K]}l=Array(k);for(m=k-1;0<=
m;m--)for(l[m]=h[m][k]/h[m][m],F=m-1;0<=F;F--)h[F][k]-=h[F][m]*l[m];h=l}h&&(q.save(),q.beginPath(),Se?(l=(a+u+R)/3,m=(p+L+P)/3,k=Ue(l,m,a,p),u=Ue(l,m,u,L),R=Ue(l,m,R,P),q.moveTo(k[0],k[1]),q.lineTo(u[0],u[1]),q.lineTo(R[0],R[1])):(q.moveTo(a,p),q.lineTo(u,L),q.lineTo(R,P)),q.closePath(),q.clip(),q.transform(h[0],h[2],h[1],h[3],a,p),q.translate(r[0]-f,r[3]-b),q.scale(e/d,-e/d),q.drawImage(w.canvas,0,0),q.restore())});p&&(q.save(),q.strokeStyle="black",q.lineWidth=1,k.f.forEach(function(a){var b=a.target;
a=(b[0][0]-y[0])/g;var d=-(b[0][1]-y[1])/g,e=(b[1][0]-y[0])/g,f=-(b[1][1]-y[1])/g,h=(b[2][0]-y[0])/g,b=-(b[2][1]-y[1])/g;q.beginPath();q.moveTo(a,d);q.lineTo(e,f);q.lineTo(h,b);q.closePath();q.stroke()}),q.restore());return q.canvas};function We(a,b,d,e,f){this.g=a;this.i=b;var g={},h=Hd(this.i,this.g);this.b=function(a){var b=a[0]+"/"+a[1];g[b]||(g[b]=h(a));return g[b]};this.j=e;this.v=f*f;this.f=[];this.s=!1;this.u=this.g.b&&!!e&&!!this.g.I()&&Xb(e)==Xb(this.g.I());this.c=this.g.I()?Xb(this.g.I()):null;this.o=this.i.I()?Xb(this.i.I()):null;a=[d[0],d[3]];b=[d[2],d[3]];e=[d[2],d[1]];d=Zb(d);f=this.b(a);var k=this.b(b),l=this.b(e),m=this.b(d);Xe(this,a,b,e,d,f,k,l,m,10);if(this.s){var p=Infinity;this.f.forEach(function(a){p=Math.min(p,
a.source[0][0],a.source[1][0],a.source[2][0])});this.f.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-p>this.c/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-p>this.c/2&&(b[0][0]-=this.c);b[1][0]-p>this.c/2&&(b[1][0]-=this.c);b[2][0]-p>this.c/2&&(b[2][0]-=this.c);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.c/2&&(a.source=b)}},this)}g={}}
function Xe(a,b,d,e,f,g,h,k,l,m){var p=Jb([g,h,k,l]),q=a.c?Xb(p)/a.c:null,r=a.g.b&&.5<q&&1>q,w=!1;if(0<m){if(a.i.g&&a.o)var u=Jb([b,d,e,f]),w=w|.25<Xb(u)/a.o;!r&&a.g.g&&q&&(w|=.25<q)}if(w||!a.j||cc(p,a.j)){if(!(w||isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(k[0])&&isFinite(k[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)w=!0;else return;if(0<m&&(w||(q=a.b([(b[0]+e[0])/2,(b[1]+e[1])/2]),p=r?(Cb(g[0],a.c)+Cb(k[0],a.c))/2-Cb(q[0],a.c):(g[0]+k[0])/2-q[0],q=(g[1]+k[1])/2-q[1],
w=p*p+q*q>a.v),w)){Math.abs(b[0]-e[0])<=Math.abs(b[1]-e[1])?(r=[(d[0]+e[0])/2,(d[1]+e[1])/2],p=a.b(r),q=[(f[0]+b[0])/2,(f[1]+b[1])/2],w=a.b(q),Xe(a,b,d,r,q,g,h,p,w,m-1),Xe(a,q,r,e,f,w,p,k,l,m-1)):(r=[(b[0]+d[0])/2,(b[1]+d[1])/2],p=a.b(r),q=[(e[0]+f[0])/2,(e[1]+f[1])/2],w=a.b(q),Xe(a,b,r,q,f,g,p,w,l,m-1),Xe(a,r,d,e,q,p,h,k,w,m-1));return}if(r){if(!a.u)return;a.s=!0}a.f.push({source:[g,k,l],target:[b,e,f]});a.f.push({source:[g,h,k],target:[b,d,e]})}}
function Ye(a){var b=Kb();a.f.forEach(function(a){a=a.source;Lb(b,a[0]);Lb(b,a[1]);Lb(b,a[2])});return b};function Ze(a,b,d,e,f,g){this.u=b;this.s=a.I();var h=b.I(),k=h?bc(d,h):d,h=Te(a,b,$b(k),e);this.i=new We(a,b,k,this.s,.5*h);this.b=e;this.c=d;a=Ye(this.i);this.j=(this.Ja=g(a,h,f))?this.Ja.f:1;this.Lc=this.g=null;f=2;g=[];this.Ja&&(f=0,g=this.Ja.ec());ie.call(this,d,e,this.j,f,g)}x(Ze,ie);n=Ze.prototype;n.ha=function(){1==this.state&&(H(this.Lc),this.Lc=null);Ze.ca.ha.call(this)};n.wd=function(){return this.g};n.Y=function(){return this.u};
n.Jc=function(){var a=this.Ja.ea();2==a&&(this.g=Ve(Xb(this.c)/this.b,Yb(this.c)/this.b,this.j,this.Ja.X(),0,this.b,this.c,this.i,[{extent:this.Ja.I(),image:this.Ja.wd()}],0));this.state=a;je(this)};n.load=function(){if(0==this.state){this.state=1;je(this);var a=this.Ja.ea();2==a||3==a?this.Jc():(this.Lc=I(this.Ja,"change",function(){var a=this.Ja.ea();if(2==a||3==a)H(this.Lc),this.Lc=null,this.Jc()},this),this.Ja.load())}};function $e(a){Ld.call(this,{ka:a.ka,extent:a.extent,qa:a.qa,projection:a.projection,state:a.state});this.v=void 0!==a.Ia?a.Ia:null;this.f=null;this.T=0}x($e,Ld);function af(a,b,d,e,f){var g=a.Y();if(g&&f&&!Gd(g,f)){if(a.f){if(a.T==a.g&&Gd(a.f.Y(),f)&&a.f.X()==d&&a.f.f==e&&Sb(a.f.I(),b))return a.f;a.f.xa();a.f=null}a.f=new Ze(g,f,b,d,e,function(a,b,d){return bf(this,a,b,d,g)}.bind(a));a.T=a.g;return a.f}g&&(f=g);return bf(a,b,d,e,f)}
$e.prototype.Z=function(a){a=a.target;switch(a.ea()){case 1:M(this,new cf(df,a));break;case 2:M(this,new cf(ef,a));break;case 3:M(this,new cf(ff,a))}};function gf(a,b){a.wd().src=b}function cf(a,b){ta.call(this,a);this.image=b}x(cf,ta);var df="imageloadstart",ef="imageloadend",ff="imageloaderror";function hf(a){a=a||{};$e.call(this,{ka:a.ka,qa:a.qa,projection:a.projection,Ia:a.Ia});this.da=void 0!==a.crossOrigin?a.crossOrigin:null;this.o=a.url;this.na=void 0!==a.rj?a.rj:gf;this.b=a.params||{};this.s=!0;jf(this);this.G=a.serverType;this.ga=void 0!==a.nj?a.nj:!0;this.i=null;this.C=[0,0];this.D=0;this.j=void 0!==a.ratio?a.ratio:1.5}x(hf,$e);var kf=[101,101];
function lf(a,b,d,e,f){if(void 0!==a.o){var g=ac(b,d,0,kf),h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:a.b.LAYERS};va(h,a.b,f);f=Math.floor((g[3]-b[1])/d);h[a.s?"I":"X"]=Math.floor((b[0]-g[0])/d);h[a.s?"J":"Y"]=f;return mf(a,g,kf,1,ud(e),h)}}
function bf(a,b,d,e,f){if(void 0===a.o)return null;a.v&&(d=mb(a.v,d,0),d=a.v[d]);1==e||a.ga&&void 0!==a.G||(e=1);b=b.slice();var g=(b[0]+b[2])/2,h=(b[1]+b[3])/2,k=d/e,l=Xb(b)/k,k=Yb(b)/k,m=a.i;if(m&&a.D==a.g&&m.X()==d&&m.f==e&&Ob(m.I(),b))return m;if(1!=a.j){var m=a.j*Xb(b)/2,p=a.j*Yb(b)/2;b[0]=g-m;b[1]=h-p;b[2]=g+m;b[3]=h+p}g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};va(g,a.b);a.C[0]=Math.ceil(l*a.j);a.C[1]=Math.ceil(k*a.j);f=mf(a,b,a.C,e,f,g);a.i=new ke(b,
d,e,a.ec(),f,a.da,a.na);a.D=a.g;I(a.i,"change",a.Z,a);return a.i}
function mf(a,b,d,e,f,g){g[a.s?"CRS":"SRS"]=f.c;"STYLES"in a.b||(g.STYLES=new String(""));if(1!=e)switch(a.G){case "geoserver":e=90*e+.5|0;g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+e):"dpi:"+e;break;case "mapserver":g.MAP_RESOLUTION=90*e;break;case "carmentaserver":case "qgis":g.DPI=90*e}g.WIDTH=d[0];g.HEIGHT=d[1];d=f.i;var h;a.s&&"ne"==d.substr(0,2)?h=[b[1],b[0],b[3],b[2]]:h=b;g.BBOX=h.join(",");return ae(ce([a.o],g))}
hf.prototype.updateParams=function(a){va(this.b,a);jf(this);this.i=null;this.c()};function jf(a){a.s=0<=Ua(a.b.VERSION||"1.3.0","1.3")};function nf(a,b){var d=/\{z\}/g,e=/\{x\}/g,f=/\{y\}/g,g=/\{-y\}/g;return function(h){if(h)return a.replace(d,h[0].toString()).replace(e,h[1].toString()).replace(f,function(){return(-h[2]-1).toString()}).replace(g,function(){var a=b.c?b.c[h[0]]:null;return(a.g-a.f+1+h[2]).toString()})}}function of(a,b){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=nf(a[f],b);return pf(e)}function pf(a){return 1===a.length?a[0]:function(b,d,e){if(b)return a[Cb((b[1]<<b[0])+b[2],a.length)](b,d,e)}}function qf(){}
function rf(a){var b=[],d=/\{(\d)-(\d)\}/.exec(a)||/\{([a-z])-([a-z])\}/.exec(a);if(d){var e=d[2].charCodeAt(0),f;for(f=d[1].charCodeAt(0);f<=e;++f)b.push(a.replace(d[0],String.fromCharCode(f)))}else b.push(a);return b};function sf(a,b){Ya.call(this);this.Ra=a;this.state=b;this.c=null;this.key=""}x(sf,Ya);function tf(a){M(a,"change")}sf.prototype.Ec=function(){return v(this).toString()};sf.prototype.ea=function(){return this.state};function uf(a,b,d,e,f){sf.call(this,a,b);this.i=d;this.b=new Image;null!==e&&(this.b.crossOrigin=e);this.g={};this.f=null;this.j=f}x(uf,sf);n=uf.prototype;n.ha=function(){1==this.state&&vf(this);this.c&&this.c.xa();this.state=5;tf(this);uf.ca.ha.call(this)};n.xd=function(a){if(void 0!==a){var b=v(a);if(b in this.g)return this.g[b];a=ya(this.g)?this.b:this.b.cloneNode(!1);return this.g[b]=a}return this.b};n.Ec=function(){return this.i};n.ak=function(){this.state=3;vf(this);tf(this)};
n.bk=function(){this.state=this.b.naturalWidth&&this.b.naturalHeight?2:4;vf(this);tf(this)};n.load=function(){0==this.state&&(this.state=1,tf(this),this.f=[I(this.b,"error",this.ak,this,!0),I(this.b,"load",this.bk,this,!0)],this.j(this,this.i))};function vf(a){a.f.forEach(H);a.f=null};function wf(){this.f=0;this.g={};this.c=this.b=null}n=wf.prototype;n.clear=function(){this.f=0;this.g={};this.c=this.b=null};n.forEach=function(a,b){for(var d=this.b;d;)a.call(b,d.Ub,d.ye,this),d=d.Pa};n.get=function(a){a=this.g[a];if(a===this.c)return a.Ub;a===this.b?(this.b=this.b.Pa,this.b.qb=null):(a.Pa.qb=a.qb,a.qb.Pa=a.Pa);a.Pa=null;a.qb=this.c;this.c=this.c.Pa=a;return a.Ub};n.eb=function(){return this.f};n.La=function(){var a=Array(this.f),b=0,d;for(d=this.c;d;d=d.qb)a[b++]=d.ye;return a};
n.Ga=function(){var a=Array(this.f),b=0,d;for(d=this.c;d;d=d.qb)a[b++]=d.Ub;return a};n.pop=function(){var a=this.b;delete this.g[a.ye];a.Pa&&(a.Pa.qb=null);this.b=a.Pa;this.b||(this.c=null);--this.f;return a.Ub};n.replace=function(a,b){this.get(a);this.g[a].Ub=b};n.set=function(a,b){var d={ye:a,Pa:null,qb:this.c,Ub:b};this.c?this.c.Pa=d:this.b=d;this.c=d;this.g[a]=d;++this.f};function xf(a){wf.call(this);this.i=void 0!==a?a:2048}x(xf,wf);function yf(a){return a.eb()>a.i}function zf(a,b){for(var d,e;yf(a)&&!(d=a.b.Ub,e=d.Ra[0].toString(),e in b&&b[e].contains(d.Ra));)a.pop().xa()};function Af(a,b,d,e,f,g,h,k,l,m,p){sf.call(this,f,0);this.S=void 0!==p?p:!1;this.C=h;this.v=k;this.f=null;this.g={};this.i=b;this.o=e;this.s=g?g:f;this.b=[];this.nc=null;this.j=0;g=Bf(e,this.s);k=this.o.I();f=this.i.I();g=k?bc(g,k):g;if(0===Vb(g))this.state=4;else if((k=a.I())&&(f?f=bc(f,k):f=k),e=e.X(this.s[0]),e=Te(a,d,$b(g),e),!isFinite(e)||0>=e)this.state=4;else if(this.u=new We(a,d,g,f,e*(void 0!==m?m:.5)),0===this.u.f.length)this.state=4;else if(this.j=Cf(b,e),d=Ye(this.u),f&&(a.b?(d[1]=zb(d[1],
f[1],f[3]),d[3]=zb(d[3],f[1],f[3])):d=bc(d,f)),Vb(d))if(a=Df(b,d,this.j),100>(a.c-a.b+1)*(a.g-a.f+1)){for(b=a.b;b<=a.c;b++)for(d=a.f;d<=a.g;d++)(m=l(this.j,b,d,h))&&this.b.push(m);0===this.b.length&&(this.state=4)}else this.state=3;else this.state=4}x(Af,sf);Af.prototype.ha=function(){1==this.state&&(this.nc.forEach(H),this.nc=null);Af.ca.ha.call(this)};Af.prototype.xd=function(a){if(void 0!==a){var b=v(a);if(b in this.g)return this.g[b];a=ya(this.g)?this.f:this.f.cloneNode(!1);return this.g[b]=a}return this.f};
Af.prototype.Jc=function(){var a=[];this.b.forEach(function(b){b&&2==b.ea()&&a.push({extent:Bf(this.i,b.Ra),image:b.xd()})},this);this.b.length=0;if(0===a.length)this.state=3;else{var b=this.s[0],d=Ef(this.o,b),e=ha(d)?d:d[0],d=ha(d)?d:d[1],b=this.o.X(b),f=this.i.X(this.j),g=Bf(this.o,this.s);this.f=Ve(e,d,this.C,f,this.i.I(),b,g,this.u,a,this.v,this.S);this.state=2}tf(this)};
Af.prototype.load=function(){if(0==this.state){this.state=1;tf(this);var a=0;this.nc=[];this.b.forEach(function(b){var d=b.ea();if(0==d||1==d){a++;var e;e=I(b,"change",function(){var d=b.ea();if(2==d||3==d||4==d)H(e),a--,0===a&&(this.nc.forEach(H),this.nc=null,this.Jc())},this);this.nc.push(e)}},this);this.b.forEach(function(a){0==a.ea()&&a.load()});0===a&&t.setTimeout(this.Jc.bind(this),0)}};function Ff(a){this.Ha=void 0!==a.Ha?a.Ha:0;this.g=a.Ia;this.kb=this.g.length-1;this.b=void 0!==a.origin?a.origin:null;this.i=null;void 0!==a.zd&&(this.i=a.zd);var b=a.extent;void 0===b||this.b||this.i||(this.b=[b[0],b[3]]);this.j=null;void 0!==a.Md&&(this.j=a.Md);this.s=void 0!==a.tileSize?a.tileSize:this.j?null:256;this.u=void 0!==b?b:null;this.c=null;void 0!==a.sizes?this.c=a.sizes.map(function(a){return new jd(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&
Gf(this,b);this.f=[0,0]}var Hf=[0,0,0];function If(a,b,d,e,f){f=Bf(a,b,f);for(b=b[0]-1;b>=a.Ha;){if(d.call(null,b,Df(a,f,b,e)))return!0;--b}return!1}Ff.prototype.I=function(){return this.u};Ff.prototype.Ua=function(a){return this.b?this.b:this.i[a]};Ff.prototype.X=function(a){return this.g[a]};function Jf(a,b,d,e){return b[0]<a.kb?(e=Bf(a,b,e),Df(a,e,b[0]+1,d)):null}
function Kf(a,b,d,e){Lf(a,b[0],b[1],d,!1,Hf);var f=Hf[1],g=Hf[2];Lf(a,b[2],b[3],d,!0,Hf);a=Hf[1];b=Hf[2];void 0!==e?(e.b=f,e.c=a,e.f=g,e.g=b):e=new jd(f,a,g,b);return e}function Df(a,b,d,e){d=a.X(d);return Kf(a,b,d,e)}function Mf(a,b){var d=a.Ua(b[0]),e=a.X(b[0]),f=Ib(Ef(a,b[0]),a.f);return[d[0]+(b[1]+.5)*f[0]*e,d[1]+(b[2]+.5)*f[1]*e]}function Bf(a,b,d){var e=a.Ua(b[0]),f=a.X(b[0]);a=Ib(Ef(a,b[0]),a.f);var g=e[0]+b[1]*a[0]*f;b=e[1]+b[2]*a[1]*f;return Qb(g,b,g+a[0]*f,b+a[1]*f,d)}
function Lf(a,b,d,e,f,g){var h=Cf(a,e),k=e/a.X(h),l=a.Ua(h);a=Ib(Ef(a,h),a.f);b=k*Math.floor((b-l[0])/e+(f?.5:0))/a[0];d=k*Math.floor((d-l[1])/e+(f?0:.5))/a[1];f?(b=Math.ceil(b)-1,d=Math.ceil(d)-1):(b=Math.floor(b),d=Math.floor(d));f=b;void 0!==g?(g[0]=h,g[1]=f,g[2]=d):g=[h,f,d];return g}function Nf(a,b,d){d=a.X(d);return Lf(a,b[0],b[1],d,!1,void 0)}function Ef(a,b){return a.s?a.s:a.j[b]}function Cf(a,b){var d=mb(a.g,b,0);return zb(d,a.Ha,a.kb)}
function Gf(a,b){for(var d=a.g.length,e=Array(d),f=a.Ha;f<d;++f)e[f]=Df(a,b,f);a.c=e}function Of(a){var b=a.o;if(!b){for(var b=Pf(a),d=Yb(b),e=Xb(b),f=Ib(256),d=Math.max(e/f[0],d/f[1]),e=Array(43),f=0;43>f;++f)e[f]=d/Math.pow(2,f);b=new Ff({extent:b,origin:[b[0],b[3]],Ia:e,tileSize:void 0});a.o=b}return b}function Pf(a){a=ud(a);var b=a.I();b||(a=180*qd.degrees/yd(a),b=Qb(-a,-a,a,a));return b};function Qf(a){Ld.call(this,{ka:a.ka,extent:a.extent,qa:a.qa,projection:a.projection,state:a.state,wrapX:a.wrapX});this.cb=void 0!==a.Gc?a.Gc:!1;this.v=void 0!==a.Sb?a.Sb:1;this.ra=void 0!==a.ra?a.ra:null;this.f=new xf(a.$b);this.na=[0,0]}x(Qf,Ld);n=Qf.prototype;n.rg=function(){return yf(this.f)};n.sg=function(a,b){var d=this.Cc(a);d&&zf(d,b)};
function Rf(a,b,d,e,f){b=a.Cc(b);if(!b)return!1;for(var g=!0,h,k,l=e.b;l<=e.c;++l)for(var m=e.f;m<=e.g;++m)h=a.hd(d,l,m),k=!1,b.g.hasOwnProperty(h)&&(h=b.get(h),(k=2===h.ea())&&(k=!1!==f(h))),k||(g=!1);return g}n.Of=function(){return 0};n.Rf=function(){return""};n.hd=function(a,b,d){return a+"/"+b+"/"+d};n.qe=function(){return this.cb};n.pb=function(a){return this.ra?this.ra:Of(a)};n.Cc=function(a){var b=this.Y();return b&&!Gd(b,a)?null:this.f};
function Sf(a,b,d){var e=void 0!==d?d:a.Y();d=a.pb(e);if(a.u&&e.g){var f=b;b=f[0];a=Mf(d,f);e=Pf(e);Pb(e,a[0],a[1])?b=f:(f=Xb(e),a[0]+=f*Math.ceil((e[0]-a[0])/f),b=Nf(d,a,b))}f=b[0];e=b[1];a=b[2];if(d.Ha>f||f>d.kb)d=!1;else{var g=d.I();d=(d=g?Df(d,g,f):d.c?d.c[f]:null)?kd(d,e,a):!0}return d?b:null}n.refresh=function(){this.f.clear();this.c()};n.ah=Wa;function Tf(a,b){ta.call(this,a);this.tile=b}x(Tf,ta);function Uf(a){Qf.call(this,{ka:a.ka,$b:a.$b,extent:a.extent,qa:a.qa,Gc:a.Gc,projection:a.projection,state:a.state,ra:a.ra,Sb:a.Sb,wrapX:a.wrapX});this.Rb=a.Rb;this.Tb=this.j?this.j.bind(this):qf;this.$a=null;if(a.$a){var b=a.$a;this.$a=b;Vf(this,this.j?this.j.bind(this):of(b,this.ra))}else a.url&&(b=this.$a=rf(a.url),Vf(this,this.j?this.j.bind(this):of(b,this.ra)));a.Tb&&Vf(this,a.Tb)}x(Uf,Qf);
Uf.prototype.bb=function(a){a=a.target;switch(a.ea()){case 1:M(this,new Tf("tileloadstart",a));break;case 2:M(this,new Tf("tileloadend",a));break;case 3:M(this,new Tf("tileloaderror",a))}};function Vf(a,b){a.f.clear();a.Tb=b;a.c()}Uf.prototype.ah=function(a,b,d){a=this.hd(a,b,d);this.f.g.hasOwnProperty(a)&&this.f.get(a)};function Wf(a){Uf.call(this,{ka:a.ka,$b:a.$b,extent:a.extent,qa:a.qa,Gc:a.Gc,projection:a.projection,state:a.state,ra:a.ra,Rb:a.Rb?a.Rb:Xf,Sb:a.Sb,Tb:a.Tb,url:a.url,$a:a.$a,wrapX:a.wrapX});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.Nc=void 0!==a.Nc?a.Nc:uf;this.i={};this.s={};this.ob=a.Mg}x(Wf,Uf);n=Wf.prototype;n.rg=function(){if(yf(this.f))return!0;for(var a in this.i)if(yf(this.i[a]))return!0;return!1};
n.sg=function(a,b){var d=this.Cc(a);zf(this.f,this.f==d?b:{});for(var e in this.i){var f=this.i[e];zf(f,f==d?b:{})}};n.Of=function(a){return this.Y()&&a&&this.Y(),0};n.qe=function(a){return this.Y()&&a&&!Gd(this.Y(),a)?!1:Wf.ca.qe.call(this,a)};n.pb=function(a){var b=this.Y();return!this.ra||b&&!Gd(b,a)?(b=v(a).toString(),b in this.s||(this.s[b]=Of(a)),this.s[b]):this.ra};n.Cc=function(a){var b=this.Y();if(!b||Gd(b,a))return this.f;a=v(a).toString();a in this.i||(this.i[a]=new xf);return this.i[a]};
function Yf(a,b,d,e,f,g,h){b=[b,d,e];f=(d=Sf(a,b,g))?a.Tb(d,f,g):void 0;f=new a.Nc(b,void 0!==f?0:4,void 0!==f?f:"",a.crossOrigin,a.Rb);f.key=h;I(f,"change",a.bb,a);return f}function Zf(a,b,d,e,f,g){if(a.Y()&&g&&!Gd(a.Y(),g)){f=a.Cc(g);d=[b,d,e];b=a.hd.apply(a,d);if(f.g.hasOwnProperty(b))return f.get(b);var h=a.Y();e=a.pb(h);var k=a.pb(g),l=Sf(a,d,g);a=new Af(h,e,g,k,d,l,a.v,0,function(a,b,d,e){return $f(this,a,b,d,e,h)}.bind(a),a.ob,!1);f.set(b,a);return a}return $f(a,b,d,e,f,g)}
function $f(a,b,d,e,f,g){var h=null,k=a.hd(b,d,e),l=a.Rf();if(a.f.g.hasOwnProperty(k)){if(h=a.f.get(k),h.key!=l){var m=h;h.c&&h.c.key==l?(h=h.c,2==m.ea()&&(h.c=m)):(h=Yf(a,b,d,e,f,g,l),2==m.ea()?h.c=m:m.c&&2==m.c.ea()&&(h.c=m.c,m.c=null));h.c&&(h.c.c=null);a.f.replace(k,h)}}else h=Yf(a,b,d,e,f,g,l),a.f.set(k,h);return h}function Xf(a,b){a.xd().src=b};function ag(a){this.o=a.Ce;Ff.call(this,{extent:a.extent,origin:a.origin,zd:a.zd,Ia:a.Ia,tileSize:a.tileSize,Md:a.Md,sizes:a.sizes})}x(ag,Ff);
function bg(a,b){var d=[],e=[],f=[],g=[],h=[],k;k=ud(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var l=yd(k),m="ne"==k.i.substr(0,2);a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator});a.TileMatrix.forEach(function(a){e.push(a.Identifier);var b=2.8E-4*a.ScaleDenominator/l,k=a.TileWidth,w=a.TileHeight;m?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):f.push(a.TopLeftCorner);d.push(b);g.push(k==w?k:[k,w]);h.push([a.MatrixWidth,-a.MatrixHeight])});
return new ag({extent:b,zd:f,Ia:d,Ce:e,Md:g,sizes:h})};function cg(a){function b(a){a="KVP"==e?ae(ce([a],g)):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in g?g[b.toLowerCase()]:a});return function(b){if(b){var d={TileMatrix:f.o[b[0]],TileCol:b[1],TileRow:-b[2]-1};va(d,h);b=a;return b="KVP"==e?ae(ce([b],d)):b.replace(/\{(\w+?)\}/g,function(a,b){return d[b]})}}}this.da=void 0!==a.version?a.version:"1.0.0";this.G=void 0!==a.format?a.format:"image/jpeg";this.o=void 0!==a.dimensions?a.dimensions:{};this.C="";dg(this);this.T=a.layer;this.D=
a.matrixSet;this.Z=a.style;var d=a.$a;void 0===d&&void 0!==a.url&&(d=rf(a.url));var e=this.ga=void 0!==a.requestEncoding?a.requestEncoding:"KVP",f=a.ra,g={layer:this.T,style:this.Z,tilematrixset:this.D};"KVP"==e&&va(g,{Service:"WMTS",Request:"GetTile",Version:this.da,Format:this.G});var h=this.o,k=d&&0<d.length?pf(d.map(b)):qf;Wf.call(this,{ka:a.ka,$b:a.$b,crossOrigin:a.crossOrigin,qa:a.qa,projection:a.projection,Mg:a.Mg,Nc:a.Nc,ra:f,Rb:a.Rb,Sb:a.Sb,Tb:k,$a:d,wrapX:void 0!==a.wrapX?a.wrapX:!1})}
x(cg,Wf);cg.prototype.Rf=function(){return this.C};cg.prototype.la=function(){return this.T};cg.prototype.Db=function(){return this.Z};function dg(a){var b=0,d=[],e;for(e in a.o)d[b++]=e+"-"+a.o[e];a.C=d.join("/")}
function eg(a,b){var d=pb(a.Contents.Layer,function(a){return a.Identifier==b.layer}),e=a.Contents.TileMatrixSet,f,g;f=1<d.TileMatrixSetLink.length?"projection"in b?tb(d.TileMatrixSetLink,function(a){return pb(e,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")==b.projection}):tb(d.TileMatrixSetLink,function(a){return a.TileMatrixSet==b.matrixSet}):0;0>f&&(f=0);g=d.TileMatrixSetLink[f].TileMatrixSet;var h=d.Format[0];"format"in b&&
(h=b.format);f=tb(d.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault});0>f&&(f=0);f=d.Style[f].Identifier;var k={};"Dimension"in d&&d.Dimension.forEach(function(a){var b=a.Identifier,d=a.Default;void 0===d&&(d=a.Value[0]);k[b]=d});var l=pb(a.Contents.TileMatrixSet,function(a){return a.Identifier==g}),m;m="projection"in b?ud(b.projection):ud(l.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p=d.WGS84BoundingBox,q,r;void 0!==p&&(r=ud("EPSG:4326").I(),r=p[0]==
r[0]&&p[2]==r[2],q=Kd(p,"EPSG:4326",m),(p=m.I())&&(Ob(p,q)||(q=void 0)));var l=bg(l,q),w=[];q=b.requestEncoding;q=void 0!==q?q:"";if(a.hasOwnProperty("OperationsMetadata")&&a.OperationsMetadata.hasOwnProperty("GetTile")&&0!==q.indexOf("REST"))for(var d=a.OperationsMetadata.GetTile.DCP.HTTP.Get,p=0,u=d.length;p<u;++p){var y=pb(d[p].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;0<y.length&&0<=y.indexOf("KVP")&&(q="KVP",w.push(d[p].href))}else q="REST",d.ResourceURL.forEach(function(a){"tile"==
a.resourceType&&(h=a.format,w.push(a.template))});return{$a:w,layer:b.layer,matrixSet:g,format:h,projection:m,requestEncoding:q,ra:l,style:f,dimensions:k,wrapX:r}};function fg(a,b){this.b=a;this.c=b}fg.$inject=["$q","$http"];fg.prototype.ge=function(a,b){return new Xd({source:new hf({url:a,params:{LAYERS:b}})})};fg.prototype.createBasicWMSLayer=fg.prototype.ge;
fg.prototype.he=function(a,b){var d=new Xc,e=new Yd,f=this.b;return this.c.get(a).then(function(g){var h;g.data&&(h=d.read(g.data));return void 0!==h?(g=eg(h,{layer:b,requestEncoding:"REST"}),Wd(e,new cg(g)),h=pb(h.Contents.Layer,function(a){return a.Identifier==b}),e.set("capabilitiesStyles",h.Style),f.resolve(e)):f.reject("Failed to get WMTS capabilities from "+a)})};fg.prototype.createWMTSLayerFromCapabilitites=fg.prototype.he;
fg.prototype.fe=function(a){var b=new Rd;null!=a&&b.set("layers",a);return b};fg.prototype.createBasicGroup=fg.prototype.fe;fg.prototype.ne=function(a,b){var d;Sd(gg(a)).b.some(function(a){return a.get("groupName")===b?(d=a,!0):!1});d||(d=this.fe(),d.set("groupName",b),hg(a,d));return d};fg.prototype.getGroupFromMap=fg.prototype.ne;fg.prototype.gd=function(a){return ig(this,a,[])};fg.prototype.getFlatLayers=fg.prototype.gd;
function ig(a,b,d){b instanceof Rd?Sd(b).forEach(function(a){ig(this,a,d)},a):0>d.indexOf(b)&&d.push(b);return d}fg.prototype.jd=function(a,b){var d=null;b.some(function(b){b instanceof Rd?(b=Sd(b).b,d=this.jd(a,b)):b.get("layerName")===a&&(d=b);return!!d},this);return d};fg.prototype.getLayerByName=fg.prototype.jd;A.service("ngeoLayerHelper",fg);function jg(a,b,d,e,f){Ya.call(this);this.j=d;this.i=a;this.f=null;b.has("gmfTreeUrl")&&(this.f=b.get("gmfTreeUrl"));this.Ca=e;this.o=f;this.g=d.defer();this.b=this.g.promise;this.c=null}x(jg,Ya);jg.$inject=["$http","$injector","$q","ngeoLayerHelper","gettextCatalog"];function kg(a,b){return pb(a,function(a){return a.name===b})}function lg(a){var b=a.mixed;return void 0!==a.children&&b?mg:void 0===a.children||b?"WMTS"===a.type?ng:null!=a.url?og:pg:qg}
function rg(a){if(a.c)return a.c;var b=a.j,d=function(a){a=a.background_layers.map(function(a){function d(a,b){b.set("label",a.name);b.set("metadata",a.metadata);return b}if("WMTS"===a.type)return this.Ca.he(a.url,a.name).then(d.bind(this,a)).then(null,function(a){console.error(a||"unknown error");return b.resolve(void 0)})},this);return b.all(a)}.bind(a);a.c=a.b.then(d).then(function(a){var b=[];b.push(new Yd({label:this.o.getString("blank"),metadata:{thumbnail:""}}));a.forEach(function(a){a&&b.push(a)});
return b}.bind(a));return a.c}jg.prototype.wi=function(a){return this.b.then(function(b){return kg(b.themes,a)})};jg.prototype.getThemeObject=jg.prototype.wi;jg.prototype.Eb=function(){return this.b.then(function(a){return a.themes})};jg.prototype.getThemesObject=jg.prototype.Eb;jg.prototype.gg=function(a){var b=this.g;this.i.get(this.f,{params:void 0!==a?{role:a}:{},cache:!1,withCredentials:!0}).then(function(a){b.resolve(a.data)},function(a){b.reject(a)})};jg.prototype.loadThemes=jg.prototype.gg;
G.service("gmfThemes",jg);var og="externalWMS",mg="MixedGroup",qg="NotMixedGroup",ng="WMTS",pg="WMS";function sg(){return!0}function tg(){return!1};function ug(){cb.call(this);this.s=Kb();this.u=-1;this.i={};this.o=this.j=0}x(ug,cb);ug.prototype.I=function(a){this.u!=this.g&&(this.s=this.cd(this.s),this.u=this.g);var b=this.s;a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};ug.prototype.transform=function(a,b){this.sc(Hd(a,b));return this};function vg(a){var b=a[0],d=a[1];a=a[2];b=Number(b);d=Number(d);a=Number(a);if(b!=(b&255)||d!=(d&255)||a!=(a&255))throw Error('"('+b+","+d+","+a+'") is not a valid RGB color');b=wg(b.toString(16));d=wg(d.toString(16));a=wg(a.toString(16));return"#"+b+d+a}function wg(a){return 1==a.length?"0"+a:a};var xg=/^#(?:[0-9a-f]{3}){1,2}$/i,yg=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,zg=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i;function Ag(a){return Array.isArray(a)?a:Bg(a)}function Cg(a){return"string"===typeof a?a:Dg(a)}
var Bg=function(){var a={},b=0;return function(d){var e;if(a.hasOwnProperty(d))e=a[d];else{if(1024<=b){e=0;for(var f in a)0===(e++&3)&&(delete a[f],--b)}var g,h;xg.exec(d)?(h=3==d.length-1?1:2,e=parseInt(d.substr(1+0*h,h),16),f=parseInt(d.substr(1+1*h,h),16),g=parseInt(d.substr(1+2*h,h),16),1==h&&(e=(e<<4)+e,f=(f<<4)+f,g=(g<<4)+g),e=[e,f,g,1]):(h=zg.exec(d))?(e=Number(h[1]),f=Number(h[2]),g=Number(h[3]),h=Number(h[4]),e=[e,f,g,h],e=Eg(e,e)):(h=yg.exec(d))?(e=Number(h[1]),f=Number(h[2]),g=Number(h[3]),
e=[e,f,g,1],e=Eg(e,e)):e=void 0;a[d]=e;++b}return e}}();function Eg(a,b){var d=b||[];d[0]=zb(a[0]+.5|0,0,255);d[1]=zb(a[1]+.5|0,0,255);d[2]=zb(a[2]+.5|0,0,255);d[3]=zb(a[3],0,1);return d}function Dg(a){var b=a[0];b!=(b|0)&&(b=b+.5|0);var d=a[1];d!=(d|0)&&(d=d+.5|0);var e=a[2];e!=(e|0)&&(e=e+.5|0);return"rgba("+b+","+d+","+e+","+(void 0===a[3]?1:a[3])+")"};function Fg(a){return"string"===typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:Cg(a)};var Gg="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",Hg=-1!==Gg.indexOf("firefox"),Ig=-1!==Gg.indexOf("safari")&&-1===Gg.indexOf("chrom"),Jg=-1!==Gg.indexOf("macintosh"),Kg=t.devicePixelRatio||1,Lg=!1,Mg=function(){if(!("HTMLCanvasElement"in t))return!1;try{var a=Re();return a?(void 0!==a.setLineDash&&(Lg=!0),!0):!1}catch(b){return!1}}(),Ng="geolocation"in t.navigator,Og="ontouchstart"in t,Pg="PointerEvent"in t,Qg=!!t.navigator.msPointerEnabled;var Rg=[0,0,0,1],Sg=[],Tg=[0,0,0,1];function Ug(a,b,d,e){0!==b&&(a.translate(d,e),a.rotate(b),a.translate(-d,-e))};function Vg(a){a=a||{};this.c=void 0!==a.color?a.color:null;this.b=void 0}Vg.prototype.Qe=function(a){this.c=a;this.b=void 0};function Wg(a){void 0===a.b&&(a.b=a.c instanceof CanvasPattern||a.c instanceof CanvasGradient?v(a.c).toString():"f"+(a.c?Cg(a.c):"-"));return a.b};function Xg(a){this.C=a.opacity;this.S=a.Nb;this.u=a.rotation;this.T=a.scale;this.D=a.nb}Xg.prototype.Ma=function(){return this.T};function Yg(){this.b=-1};function Zg(){this.b=-1;this.b=64;this.c=Array(4);this.i=Array(this.b);this.f=this.g=0;this.c[0]=1732584193;this.c[1]=4023233417;this.c[2]=2562383102;this.c[3]=271733878;this.f=this.g=0}x(Zg,Yg);
function $g(a,b,d){d||(d=0);var e=Array(16);if(ga(b))for(var f=0;16>f;++f)e[f]=b.charCodeAt(d++)|b.charCodeAt(d++)<<8|b.charCodeAt(d++)<<16|b.charCodeAt(d++)<<24;else for(f=0;16>f;++f)e[f]=b[d++]|b[d++]<<8|b[d++]<<16|b[d++]<<24;b=a.c[0];d=a.c[1];var f=a.c[2],g=a.c[3],h=0,h=b+(g^d&(f^g))+e[0]+3614090360&4294967295;b=d+(h<<7&4294967295|h>>>25);h=g+(f^b&(d^f))+e[1]+3905402710&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(d^g&(b^d))+e[2]+606105819&4294967295;f=g+(h<<17&4294967295|h>>>15);h=d+(b^f&(g^
b))+e[3]+3250441966&4294967295;d=f+(h<<22&4294967295|h>>>10);h=b+(g^d&(f^g))+e[4]+4118548399&4294967295;b=d+(h<<7&4294967295|h>>>25);h=g+(f^b&(d^f))+e[5]+1200080426&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(d^g&(b^d))+e[6]+2821735955&4294967295;f=g+(h<<17&4294967295|h>>>15);h=d+(b^f&(g^b))+e[7]+4249261313&4294967295;d=f+(h<<22&4294967295|h>>>10);h=b+(g^d&(f^g))+e[8]+1770035416&4294967295;b=d+(h<<7&4294967295|h>>>25);h=g+(f^b&(d^f))+e[9]+2336552879&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+
(d^g&(b^d))+e[10]+4294925233&4294967295;f=g+(h<<17&4294967295|h>>>15);h=d+(b^f&(g^b))+e[11]+2304563134&4294967295;d=f+(h<<22&4294967295|h>>>10);h=b+(g^d&(f^g))+e[12]+1804603682&4294967295;b=d+(h<<7&4294967295|h>>>25);h=g+(f^b&(d^f))+e[13]+4254626195&4294967295;g=b+(h<<12&4294967295|h>>>20);h=f+(d^g&(b^d))+e[14]+2792965006&4294967295;f=g+(h<<17&4294967295|h>>>15);h=d+(b^f&(g^b))+e[15]+1236535329&4294967295;d=f+(h<<22&4294967295|h>>>10);h=b+(f^g&(d^f))+e[1]+4129170786&4294967295;b=d+(h<<5&4294967295|
h>>>27);h=g+(d^f&(b^d))+e[6]+3225465664&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^d&(g^b))+e[11]+643717713&4294967295;f=g+(h<<14&4294967295|h>>>18);h=d+(g^b&(f^g))+e[0]+3921069994&4294967295;d=f+(h<<20&4294967295|h>>>12);h=b+(f^g&(d^f))+e[5]+3593408605&4294967295;b=d+(h<<5&4294967295|h>>>27);h=g+(d^f&(b^d))+e[10]+38016083&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^d&(g^b))+e[15]+3634488961&4294967295;f=g+(h<<14&4294967295|h>>>18);h=d+(g^b&(f^g))+e[4]+3889429448&4294967295;d=f+(h<<20&4294967295|
h>>>12);h=b+(f^g&(d^f))+e[9]+568446438&4294967295;b=d+(h<<5&4294967295|h>>>27);h=g+(d^f&(b^d))+e[14]+3275163606&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^d&(g^b))+e[3]+4107603335&4294967295;f=g+(h<<14&4294967295|h>>>18);h=d+(g^b&(f^g))+e[8]+1163531501&4294967295;d=f+(h<<20&4294967295|h>>>12);h=b+(f^g&(d^f))+e[13]+2850285829&4294967295;b=d+(h<<5&4294967295|h>>>27);h=g+(d^f&(b^d))+e[2]+4243563512&4294967295;g=b+(h<<9&4294967295|h>>>23);h=f+(b^d&(g^b))+e[7]+1735328473&4294967295;f=g+(h<<14&4294967295|
h>>>18);h=d+(g^b&(f^g))+e[12]+2368359562&4294967295;d=f+(h<<20&4294967295|h>>>12);h=b+(d^f^g)+e[5]+4294588738&4294967295;b=d+(h<<4&4294967295|h>>>28);h=g+(b^d^f)+e[8]+2272392833&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^d)+e[11]+1839030562&4294967295;f=g+(h<<16&4294967295|h>>>16);h=d+(f^g^b)+e[14]+4259657740&4294967295;d=f+(h<<23&4294967295|h>>>9);h=b+(d^f^g)+e[1]+2763975236&4294967295;b=d+(h<<4&4294967295|h>>>28);h=g+(b^d^f)+e[4]+1272893353&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^
b^d)+e[7]+4139469664&4294967295;f=g+(h<<16&4294967295|h>>>16);h=d+(f^g^b)+e[10]+3200236656&4294967295;d=f+(h<<23&4294967295|h>>>9);h=b+(d^f^g)+e[13]+681279174&4294967295;b=d+(h<<4&4294967295|h>>>28);h=g+(b^d^f)+e[0]+3936430074&4294967295;g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^d)+e[3]+3572445317&4294967295;f=g+(h<<16&4294967295|h>>>16);h=d+(f^g^b)+e[6]+76029189&4294967295;d=f+(h<<23&4294967295|h>>>9);h=b+(d^f^g)+e[9]+3654602809&4294967295;b=d+(h<<4&4294967295|h>>>28);h=g+(b^d^f)+e[12]+3873151461&4294967295;
g=b+(h<<11&4294967295|h>>>21);h=f+(g^b^d)+e[15]+530742520&4294967295;f=g+(h<<16&4294967295|h>>>16);h=d+(f^g^b)+e[2]+3299628645&4294967295;d=f+(h<<23&4294967295|h>>>9);h=b+(f^(d|~g))+e[0]+4096336452&4294967295;b=d+(h<<6&4294967295|h>>>26);h=g+(d^(b|~f))+e[7]+1126891415&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~d))+e[14]+2878612391&4294967295;f=g+(h<<15&4294967295|h>>>17);h=d+(g^(f|~b))+e[5]+4237533241&4294967295;d=f+(h<<21&4294967295|h>>>11);h=b+(f^(d|~g))+e[12]+1700485571&4294967295;b=d+
(h<<6&4294967295|h>>>26);h=g+(d^(b|~f))+e[3]+2399980690&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~d))+e[10]+4293915773&4294967295;f=g+(h<<15&4294967295|h>>>17);h=d+(g^(f|~b))+e[1]+2240044497&4294967295;d=f+(h<<21&4294967295|h>>>11);h=b+(f^(d|~g))+e[8]+1873313359&4294967295;b=d+(h<<6&4294967295|h>>>26);h=g+(d^(b|~f))+e[15]+4264355552&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~d))+e[6]+2734768916&4294967295;f=g+(h<<15&4294967295|h>>>17);h=d+(g^(f|~b))+e[13]+1309151649&4294967295;
d=f+(h<<21&4294967295|h>>>11);h=b+(f^(d|~g))+e[4]+4149444226&4294967295;b=d+(h<<6&4294967295|h>>>26);h=g+(d^(b|~f))+e[11]+3174756917&4294967295;g=b+(h<<10&4294967295|h>>>22);h=f+(b^(g|~d))+e[2]+718787259&4294967295;f=g+(h<<15&4294967295|h>>>17);h=d+(g^(f|~b))+e[9]+3951481745&4294967295;a.c[0]=a.c[0]+b&4294967295;a.c[1]=a.c[1]+(f+(h<<21&4294967295|h>>>11))&4294967295;a.c[2]=a.c[2]+f&4294967295;a.c[3]=a.c[3]+g&4294967295}
function ah(a,b){var d;aa(d)||(d=b.length);for(var e=d-a.b,f=a.i,g=a.g,h=0;h<d;){if(0==g)for(;h<=e;)$g(a,b,h),h+=a.b;if(ga(b))for(;h<d;){if(f[g++]=b.charCodeAt(h++),g==a.b){$g(a,f);g=0;break}}else for(;h<d;)if(f[g++]=b[h++],g==a.b){$g(a,f);g=0;break}}a.g=g;a.f+=d};function bh(a){a=a||{};this.c=void 0!==a.color?a.color:null;this.f=a.lineCap;this.g=void 0!==a.O?a.O:null;this.i=a.lineJoin;this.j=a.miterLimit;this.b=a.width;this.o=void 0}bh.prototype.Qe=function(a){this.c=a;this.o=void 0};
function ch(a){if(void 0===a.o){var b="s"+(a.c?Cg(a.c):"-")+","+(void 0!==a.f?a.f.toString():"-")+","+(a.g?a.g.toString():"-")+","+(void 0!==a.i?a.i:"-")+","+(void 0!==a.j?a.j.toString():"-")+","+(void 0!==a.b?a.b.toString():"-"),d=new Zg;ah(d,b);b=Array((56>d.g?d.b:2*d.b)-d.g);b[0]=128;for(var e=1;e<b.length-8;++e)b[e]=0;for(var f=8*d.f,e=b.length-8;e<b.length;++e)b[e]=f&255,f/=256;ah(d,b);b=Array(16);for(e=f=0;4>e;++e)for(var g=0;32>g;g+=8)b[f++]=d.c[e]>>>g&255;if(8192>=b.length)d=String.fromCharCode.apply(null,
b);else for(d="",e=0;e<b.length;e+=8192)f=qe(b,e,e+8192),d+=String.fromCharCode.apply(null,f);a.o=d}return a.o};function dh(a){a=a||{};this.j=this.b=this.i=null;this.f=void 0!==a.fill?a.fill:null;this.c=void 0!==a.stroke?a.stroke:null;this.g=a.radius;this.v=[0,0];this.s=this.R=this.o=null;var b=a.Fh,d,e=null,f,g=0;this.c&&(f=Cg(this.c.c),g=this.c.b,void 0===g&&(g=1),e=this.c.g,Lg||(e=null));var h=2*(this.g+g)+1;f={strokeStyle:f,strokeWidth:g,size:h,O:e};if(void 0===b)this.b=document.createElement("CANVAS"),this.b.height=h,this.b.width=h,d=h=this.b.width,b=this.b.getContext("2d"),this.vg(f,b,0,0),this.f?this.j=
this.b:(b=this.j=document.createElement("CANVAS"),b.height=f.size,b.width=f.size,b=b.getContext("2d"),this.ug(f,b,0,0));else{h=Math.round(h);(e=!this.f)&&(d=this.ug.bind(this,f));var g=this.c?ch(this.c):"-",k=this.f?Wg(this.f):"-";this.i&&g==this.i[1]&&k==this.i[2]&&this.g==this.i[3]||(this.i=["c"+g+k+(void 0!==this.g?this.g.toString():"-"),g,k,this.g]);f=b.add(this.i[0],h,h,this.vg.bind(this,f),d);this.b=f.image;this.v=[f.offsetX,f.offsetY];d=f.image.width;this.j=e?f.oj:this.b}this.o=[h/2,h/2];this.R=
[h,h];this.s=[d,d];Xg.call(this,{opacity:1,Nb:!1,rotation:0,scale:1,nb:void 0!==a.nb?a.nb:!0})}x(dh,Xg);n=dh.prototype;n.zc=function(){return this.o};n.Ee=function(){return this.j};n.yd=function(){return this.b};n.Fc=function(){return 2};n.oe=function(){return this.s};n.Ua=function(){return this.v};n.lb=function(){return this.R};n.Ae=Wa;n.load=Wa;n.Xe=Wa;
n.vg=function(a,b,d,e){b.setTransform(1,0,0,1,0,0);b.translate(d,e);b.beginPath();b.arc(a.size/2,a.size/2,this.g,0,2*Math.PI,!0);this.f&&(b.fillStyle=Fg(this.f.c),b.fill());this.c&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.O&&b.setLineDash(a.O),b.stroke());b.closePath()};
n.ug=function(a,b,d,e){b.setTransform(1,0,0,1,0,0);b.translate(d,e);b.beginPath();b.arc(a.size/2,a.size/2,this.g,0,2*Math.PI,!0);b.fillStyle=Cg(Rg);b.fill();this.c&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.O&&b.setLineDash(a.O),b.stroke());b.closePath()};function eh(a){a=a||{};this.j=null;this.i=fh;void 0!==a.geometry&&gh(this,a.geometry);this.g=void 0!==a.fill?a.fill:null;this.f=void 0!==a.image?a.image:null;this.b=void 0!==a.stroke?a.stroke:null;this.o=void 0!==a.text?a.text:null;this.c=a.zIndex}eh.prototype.H=function(){return this.j};eh.prototype.ta=function(){return this.o};function gh(a,b){ia(b)?a.i=b:"string"===typeof b?a.i=function(a){return a.get(b)}:b?void 0!==b&&(a.i=function(){return b}):a.i=fh;a.j=b}
function hh(a){if(!ia(a)){var b;b=Array.isArray(a)?a:[a];a=function(){return b}}return a}var ih=null;function jh(){if(!ih){var a=new Vg({color:"rgba(255,255,255,0.4)"}),b=new bh({color:"#3399CC",width:1.25});ih=[new eh({image:new dh({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return ih}
function kh(){var a={},b=[255,255,255,1],d=[0,153,255,1];a.Polygon=[new eh({fill:new Vg({color:[255,255,255,.5]})})];a.MultiPolygon=a.Polygon;a.LineString=[new eh({stroke:new bh({color:b,width:5})}),new eh({stroke:new bh({color:d,width:3})})];a.MultiLineString=a.LineString;a.Circle=a.Polygon.concat(a.LineString);a.Point=[new eh({image:new dh({radius:6,fill:new Vg({color:d}),stroke:new bh({color:b,width:1.5})}),zIndex:Infinity})];a.MultiPoint=a.Point;a.GeometryCollection=a.Polygon.concat(a.LineString,
a.Point);return a}function fh(a){return a.H()};function lh(a){cb.call(this);this.f=void 0;this.b="geometry";this.o=null;this.i=void 0;this.j=null;I(this,O(this.b),this.ld,this);void 0!==a&&(a instanceof ug||!a?mh(this,a):this.wa(a))}x(lh,cb);n=lh.prototype;n.clone=function(){var a=new lh(eb(this));nh(a,this.b);var b=this.H();b&&mh(a,b.clone());(b=this.Db())&&a.ja(b);return a};n.H=function(){return this.get(this.b)};n.gb=function(){return this.f};n.Db=function(){return this.o};n.Yj=function(){this.c()};
n.ld=function(){this.j&&(H(this.j),this.j=null);var a=this.H();a&&(this.j=I(a,"change",this.Yj,this));this.c()};function mh(a,b){a.set(a.b,b)}n.ja=function(a){this.i=(this.o=a)?oh(a):void 0;this.c()};function nh(a,b){Fa(a,O(a.b),a.ld,a);a.b=b;I(a,O(a.b),a.ld,a);a.ld()}function oh(a){if(!ia(a)){var b;b=Array.isArray(a)?a:[a];a=function(){return b}}return a};function ph(){this.Ba=null}function qh(a,b,d){var e;d&&(e={xb:d.xb?d.xb:a.Dd(b),zb:d.zb});return rh(a,e)}function rh(a,b){var d;b&&(d={zb:b.zb,xb:b.xb?b.xb:a.Ba,Pe:b.Pe},b.decimals&&(d.decimals=b.decimals));return d}
function sh(a,b,d){var e=d?ud(d.zb):null,f=d?ud(d.xb):null,g;e&&f&&!Gd(e,f)?a instanceof ug?g=(b?a.clone():a).transform(b?e:f,b?f:e):g=Kd(b?a.slice():a,b?e:f,b?f:e):g=a;if(b&&d&&d.decimals){var h=Math.pow(10,d.decimals);a=function(a){for(var b=0,d=a.length;b<d;++b)a[b]=Math.round(a[b]*h)/h;return a};Array.isArray(g)?a(g):g.sc(a)}return g};function th(){this.g=new XMLSerializer;this.Ba=null}x(th,ph);n=th.prototype;n.V=function(){return"xml"};n.readFeature=function(a,b){if(hc(a))return uh(this,a,b);if(ic(a))return this.v(a,b);if("string"===typeof a){var d=jc(a);return uh(this,d,b)}return null};function uh(a,b,d){a=vh(a,b,d);return 0<a.length?a[0]:null}n.readFeatures=function(a,b){if(hc(a))return vh(this,a,b);if(ic(a))return this.Je(a,b);if("string"===typeof a){var d=jc(a);return vh(this,d,b)}return[]};
function vh(a,b,d){var e=[];for(b=b.firstChild;b;b=b.nextSibling)1==b.nodeType&&nb(e,a.Je(b,d));return e}n.readGeometry=function(a,b){if(hc(a))return this.s(a,b);if(ic(a)){var d=wh(this,a,[qh(this,a,b?b:{})]);return d?d:null}return"string"===typeof a?(d=jc(a),this.s(d,b)):null};n.Dd=function(a){return hc(a)?this.Ba:ic(a)?this.Ig(a):"string"===typeof a?(jc(a),this.Ba):null};n.Ig=function(){return this.Ba};n.writeFeature=function(a,b){var d=this.R(a,b);return this.g.serializeToString(d)};
n.writeFeatures=function(a,b){var d;d=rh(this,b);var e=ec.createElementNS("http://www.opengis.net/gml","featureMembers");e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.Hd);var f={Qb:this.Qb,curve:this.i,kl:this.u,Sj:this.o,Rj:this.j,cc:this.cc,dc:this.dc};d&&va(f,d);d=[f];var g=d[d.length-1],f=g.featureType,h=g.featureNS,k={};k[h]={};k[h][f]=S(this.C,this);g=va({},g);g.node=e;tc(g,k,oc(f,h),a,d);return this.g.serializeToString(e)};
n.writeGeometry=function(a,b){var d;d=rh(this,b);var e=ec.createElementNS("http://www.opengis.net/gml","geom"),f={node:e,Qb:this.Qb,curve:this.i,kl:this.u,Sj:this.o,Rj:this.j};d&&va(f,d);this.S(e,a,[f]);return this.g.serializeToString(e)};function xh(a,b,d,e,f,g){var h=f[0],k=f[1],l=f[4],m=f[5],p=f[12];f=f[13];for(var q=g?g:[],r=0;b<d;b+=e){var w=a[b],u=a[b+1];q[r++]=h*w+l*u+p;q[r++]=k*w+m*u+f}g&&q.length!=r&&(q.length=r);return q};function yh(){ug.call(this);this.layout="XY";this.F=2;this.B=null}x(yh,ug);function zh(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}n=yh.prototype;n.cd=function(a){var b=this.B,d=this.B.length,e=this.F;a=Rb(a);return Ub(a,b,0,d,e)};function Ah(a){return a.B.slice(a.B.length-a.F)}
n.se=function(a){this.o!=this.g&&(wa(this.i),this.j=0,this.o=this.g);if(0>a||0!==this.j&&a<=this.j)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var d=this.hc(a);if(d.B.length<this.B.length)return this.i[b]=d;this.j=a;return this};n.hc=function(){return this};function Bh(a,b,d){a.F=zh(b);a.layout=b;a.B=d}
function Ch(a,b,d,e){if(b)d=zh(b);else{for(b=0;b<e;++b){if(0===d.length){a.layout="XY";a.F=2;return}d=d[0]}d=d.length;b=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}a.layout=b;a.F=d}n.sc=function(a){this.B&&(a(this.B,this.B,this.F),this.c())};n.rotate=function(a,b){var d=this.B;if(d){for(var e=d.length,f=this.F,g=d?d:[],h=Math.cos(a),k=Math.sin(a),l=b[0],m=b[1],p=0,q=0;q<e;q+=f){var r=d[q]-l,w=d[q+1]-m;g[p++]=l+r*h-w*k;g[p++]=m+r*k+w*h;for(r=q+2;r<q+f;++r)g[p++]=d[r]}d&&g.length!=p&&(g.length=p);this.c()}};
n.translate=function(a,b){var d=this.B;if(d){var e=d.length,f=this.F,g=d?d:[],h=0,k,l;for(k=0;k<e;k+=f)for(g[h++]=d[k]+a,g[h++]=d[k+1]+b,l=k+2;l<k+f;++l)g[h++]=d[l];d&&g.length!=h&&(g.length=h);this.c()}};function Dh(a,b){var d=0,e,f;e=0;for(f=b.length;e<f;++e)a[d++]=b[e];return d}function Eh(a,b,d,e){var f,g;f=0;for(g=d.length;f<g;++f){var h=d[f],k;for(k=0;k<e;++k)a[b++]=h[k]}return b}function Fh(a,b,d,e,f){f=f?f:[];var g=0,h,k;h=0;for(k=d.length;h<k;++h)b=Eh(a,b,d[h],e),f[g++]=b;f.length=g;return f};function Gh(a,b,d,e,f){f=void 0!==f?f:[];for(var g=0;b<d;b+=e)f[g++]=a.slice(b,b+e);f.length=g;return f}function Hh(a,b,d,e,f){f=void 0!==f?f:[];var g=0,h,k;h=0;for(k=d.length;h<k;++h){var l=d[h];f[g++]=Gh(a,b,l,e,f[g]);b=l}f.length=g;return f};function Ih(a,b,d,e,f){var g=NaN,h=NaN,k=(d-b)/e;if(0!==k)if(1==k)g=a[b],h=a[b+1];else if(2==k)g=.5*a[b]+.5*a[b+e],h=.5*a[b+1]+.5*a[b+e+1];else{var h=a[b],k=a[b+1],l=0,g=[0],m;for(m=b+e;m<d;m+=e){var p=a[m],q=a[m+1],l=l+Math.sqrt((p-h)*(p-h)+(q-k)*(q-k));g.push(l);h=p;k=q}d=.5*l;l=0;m=g.length;for(p=!1;l<m;)h=l+(m-l>>1),k=+lb(g[h],d),0>k?l=h+1:(m=h,p=!k);h=p?l:~l;0>h?(d=(d-g[-h-2])/(g[-h-1]-g[-h-2]),b+=(-h-2)*e,g=a[b],g=g+d*(a[b+e]-g),h=a[b+1],h=h+d*(a[b+e+1]-h)):(g=a[b+h*e],h=a[b+h*e+1])}return f?
(f[0]=g,f[1]=h,f):[g,h]};function Jh(a,b,d,e,f,g){for(var h=!1,k=a[d-e],l=a[d-e+1];b<d;b+=e){var m=a[b],p=a[b+1];l>g!=p>g&&f<(m-k)*(g-l)/(p-l)+k&&(h=!h);k=m;l=p}return h};function Kh(a,b,d,e,f,g,h){var k=(d-b)/e;if(3>k){for(;b<d;b+=e)g[h++]=a[b],g[h++]=a[b+1];return h}var l=Array(k);l[0]=1;l[k-1]=1;d=[b,d-e];for(var m=0,p;0<d.length;){var q=d.pop(),r=d.pop(),w=0,u=a[r],y=a[r+1],B=a[q],C=a[q+1];for(p=r+e;p<q;p+=e){var D,z=a[p];D=a[p+1];var N=u,U=y,T=B-N,J=C-U;if(0!==T||0!==J){var ca=((z-N)*T+(D-U)*J)/(T*T+J*J);1<ca?(N=B,U=C):0<ca&&(N+=T*ca,U+=J*ca)}z=N-z;D=U-D;D=z*z+D*D;D>w&&(m=p,w=D)}w>f&&(l[(m-b)/e]=1,r+e<m&&d.push(r,m),m+e<q&&d.push(m,q))}for(p=0;p<k;++p)l[p]&&(g[h++]=
a[b+p*e],g[h++]=a[b+p*e+1]);return h}
function Lh(a,b,d,e,f,g,h,k){var l,m;l=0;for(m=d.length;l<m;++l){var p=d[l];a:{var q=a,r=p,w=e,u=f,y=g;if(b!=r){var B=u*Math.round(q[b]/u),C=u*Math.round(q[b+1]/u);b+=w;y[h++]=B;y[h++]=C;var D=void 0,z=void 0;do if(D=u*Math.round(q[b]/u),z=u*Math.round(q[b+1]/u),b+=w,b==r){y[h++]=D;y[h++]=z;break a}while(D==B&&z==C);for(;b<r;){var N,U;N=u*Math.round(q[b]/u);U=u*Math.round(q[b+1]/u);b+=w;if(N!=D||U!=z){var T=D-B,J=z-C,ca=N-B,L=U-C;T*L==J*ca&&(0>T&&ca<T||T==ca||0<T&&ca>T)&&(0>J&&L<J||J==L||0<J&&L>J)||
(y[h++]=D,y[h++]=z,B=D,C=z);D=N;z=U}}y[h++]=D;y[h++]=z}}k.push(h);b=p}return h};function Mh(a,b){yh.call(this);this.b=null;this.f=-1;this.ba(a,b)}x(Mh,yh);n=Mh.prototype;n.clone=function(){var a=new Mh(null);a.M(this.layout,this.B.slice());return a};n.U=function(){return Gh(this.B,0,this.B.length,this.F)};function Nh(a){if(a.f!=a.g){var b;b=Ih(a.B,0,a.B.length,a.F,a.b);a.b=b;a.f=a.g}return a.b}n.hc=function(a){var b=[];b.length=Kh(this.B,0,this.B.length,this.F,a,b,0);a=new Mh(null);a.M("XY",b);return a};n.V=function(){return"LineString"};
n.ba=function(a,b){a?(Ch(this,b,a,1),this.B||(this.B=[]),this.B.length=Eh(this.B,0,a,this.F),this.c()):this.M("XY",null)};n.M=function(a,b){Bh(this,a,b);this.c()};function Oh(a,b){yh.call(this);this.ba(a,b)}x(Oh,yh);n=Oh.prototype;n.clone=function(){var a=new Oh(null);Ph(a,this.layout,this.B.slice());return a};n.U=function(){return Gh(this.B,0,this.B.length,this.F)};n.hc=function(a){var b=[];b.length=Kh(this.B,0,this.B.length,this.F,a,b,0);a=new Oh(null);Ph(a,"XY",b);return a};n.V=function(){return"LinearRing"};n.ba=function(a,b){a?(Ch(this,b,a,1),this.B||(this.B=[]),this.B.length=Eh(this.B,0,a,this.F),this.c()):Ph(this,"XY",null)};
function Ph(a,b,d){Bh(a,b,d);a.c()};function Qh(a,b){yh.call(this);this.f=[];this.ba(a,b)}x(Qh,yh);n=Qh.prototype;n.clone=function(){var a=new Qh(null);a.M(this.layout,this.B.slice(),this.f.slice());return a};n.U=function(){return Hh(this.B,0,this.f,this.F)};n.fb=function(){return this.f};function Rh(a){var b=a.B,d=a.f;a=a.layout;var e=[],f=0,g,h;g=0;for(h=d.length;g<h;++g){var k=d[g],l=new Mh(null);l.M(a,b.slice(f,k));e.push(l);f=k}return e}
function Sh(a){var b=[],d=a.B,e=0,f=a.f;a=a.F;var g,h;g=0;for(h=f.length;g<h;++g){var k=f[g],e=Ih(d,e,k,a);nb(b,e);e=k}return b}n.hc=function(a){var b=[],d=[],e=this.B,f=this.f,g=this.F,h=0,k=0,l,m;l=0;for(m=f.length;l<m;++l){var p=f[l],k=Kh(e,h,p,g,a,b,k);d.push(k);h=p}b.length=k;a=new Qh(null);a.M("XY",b,d);return a};n.V=function(){return"MultiLineString"};
n.ba=function(a,b){if(a){Ch(this,b,a,2);this.B||(this.B=[]);var d=Fh(this.B,0,a,this.F,this.f);this.B.length=0===d.length?0:d[d.length-1];this.c()}else this.M("XY",null,this.f)};n.M=function(a,b,d){Bh(this,a,b);this.f=d;this.c()};function Th(a,b){var d=a.layout,e=[],f=[],g,h;g=0;for(h=b.length;g<h;++g){var k=b[g];0===g&&(d=k.layout);nb(e,k.B);f.push(e.length)}a.M(d,e,f)};function Uh(a,b){yh.call(this);this.ba(a,b)}x(Uh,yh);n=Uh.prototype;n.clone=function(){var a=new Uh(null);a.M(this.layout,this.B.slice());return a};n.U=function(){return this.B?this.B.slice():[]};n.cd=function(a){var b=this.B,d=b[0],b=b[1];return Qb(d,b,d,b,a)};n.V=function(){return"Point"};n.ba=function(a,b){a?(Ch(this,b,a,0),this.B||(this.B=[]),this.B.length=Dh(this.B,a),this.c()):this.M("XY",null)};n.M=function(a,b){Bh(this,a,b);this.c()};function Vh(a,b){yh.call(this);this.ba(a,b)}x(Vh,yh);n=Vh.prototype;n.clone=function(){var a=new Vh(null);a.M(this.layout,this.B.slice());return a};n.U=function(){return Gh(this.B,0,this.B.length,this.F)};n.V=function(){return"MultiPoint"};n.ba=function(a,b){a?(Ch(this,b,a,1),this.B||(this.B=[]),this.B.length=Eh(this.B,0,a,this.F),this.c()):this.M("XY",null)};n.M=function(a,b){Bh(this,a,b);this.c()};function Wh(a,b,d,e,f,g,h){var k,l,m,p,q,r=f[g+1],w=[],u=d[0];m=a[u-e];q=a[u-e+1];for(k=b;k<u;k+=e){p=a[k];l=a[k+1];if(r<=q&&l<=r||q<=r&&r<=l)m=(r-q)/(l-q)*(p-m)+m,w.push(m);m=p;q=l}u=NaN;q=-Infinity;w.sort(lb);m=w[0];k=1;for(l=w.length;k<l;++k){p=w[k];var y=Math.abs(p-m);if(y>q){m=(m+p)/2;var B;a:if(0!==d.length&&Jh(a,b,d[0],e,m,r)){var C=B=void 0;B=1;for(C=d.length;B<C;++B)if(Jh(a,d[B-1],d[B],e,m,r)){B=!1;break a}B=!0}else B=!1;B&&(u=m,q=y)}m=p}isNaN(u)&&(u=f[g]);return h?(h.push(u,r),h):[u,r]}
;function Xh(a,b,d,e){for(var f=0,g=a[d-e],h=a[d-e+1];b<d;b+=e)var k=a[b],l=a[b+1],f=f+(k-g)*(l+h),g=k,h=l;return 0<f}function Yh(a,b,d,e){var f=0;e=void 0!==e?e:!1;var g,h;g=0;for(h=b.length;g<h;++g){var k=b[g],f=Xh(a,f,k,d);if(0===g){if(e&&f||!e&&!f)return!1}else if(e&&!f||!e&&f)return!1;f=k}return!0}
function Zh(a,b,d,e,f){f=void 0!==f?f:!1;var g,h;g=0;for(h=d.length;g<h;++g){var k=d[g],l=Xh(a,b,k,e);if(0===g?f&&l||!f&&!l:f&&!l||!f&&l)for(var l=a,m=k,p=e;b<m-p;){var q;for(q=0;q<p;++q){var r=l[b+q];l[b+q]=l[m-p+q];l[m-p+q]=r}b+=p;m-=p}b=k}return b}function $h(a,b,d,e){var f=0,g,h;g=0;for(h=b.length;g<h;++g)f=Zh(a,f,b[g],d,e);return f};function ai(a,b){yh.call(this);this.b=[];this.v=-1;this.C=null;this.D=-1;this.f=null;this.ba(a,b)}x(ai,yh);n=ai.prototype;n.clone=function(){var a=new ai(null);a.M(this.layout,this.B.slice(),this.b.slice());return a};n.U=function(a){var b;void 0!==a?(b=bi(this).slice(),Zh(b,0,this.b,this.F,a)):b=this.B;return Hh(b,0,this.b,this.F)};n.fb=function(){return this.b};function ci(a){if(a.v!=a.g){var b=$b(a.I());a.C=Wh(bi(a),0,a.b,a.F,b,0);a.v=a.g}return a.C}
function di(a){if(0>=a.b.length)return null;var b=new Oh(null);Ph(b,a.layout,a.B.slice(0,a.b[0]));return b}function bi(a){if(a.D!=a.g){var b=a.B;Yh(b,a.b,a.F)?a.f=b:(a.f=b.slice(),a.f.length=Zh(a.f,0,a.b,a.F));a.D=a.g}return a.f}n.hc=function(a){var b=[],d=[];b.length=Lh(this.B,0,this.b,this.F,Math.sqrt(a),b,0,d);a=new ai(null);a.M("XY",b,d);return a};n.V=function(){return"Polygon"};
n.ba=function(a,b){if(a){Ch(this,b,a,2);this.B||(this.B=[]);var d=Fh(this.B,0,a,this.F,this.b);this.B.length=0===d.length?0:d[d.length-1];this.c()}else this.M("XY",null,this.b)};n.M=function(a,b,d){Bh(this,a,b);this.b=d;this.c()};function ei(a,b){yh.call(this);this.b=[];this.v=-1;this.C=null;this.D=-1;this.f=null;this.ba(a,b)}x(ei,yh);n=ei.prototype;n.clone=function(){for(var a=new ei(null),b=this.b.length,d=Array(b),e=0;e<b;++e)d[e]=this.b[e].slice();fi(a,this.layout,this.B.slice(),d);return a};n.U=function(a){var b;void 0!==a?(b=gi(this).slice(),$h(b,this.b,this.F,a)):b=this.B;a=b;b=this.b;var d=this.F,e=0,f=[],g=0,h,k;h=0;for(k=b.length;h<k;++h){var l=b[h];f[g++]=Hh(a,e,l,d,f[g]);e=l[l.length-1]}f.length=g;return f};
function hi(a){if(a.v!=a.g){var b=a.B,d=a.b,e=a.F,f=0,g=[],h,k,l=Kb();h=0;for(k=d.length;h<k;++h){var m=d[h],l=b,p=m[0],q=e,r=Rb(void 0),l=Ub(r,l,f,p,q);g.push((l[0]+l[2])/2,(l[1]+l[3])/2);f=m[m.length-1]}b=gi(a);d=a.b;e=a.F;h=0;k=[];m=0;for(l=d.length;m<l;++m)f=d[m],k=Wh(b,h,f,e,g,2*m,k),h=f[f.length-1];a.C=k;a.v=a.g}return a.C}
function gi(a){if(a.D!=a.g){var b=a.B,d;a:{d=a.b;var e,f;e=0;for(f=d.length;e<f;++e)if(!Yh(b,d[e],a.F,void 0)){d=!1;break a}d=!0}d?a.f=b:(a.f=b.slice(),a.f.length=$h(a.f,a.b,a.F));a.D=a.g}return a.f}n.hc=function(a){var b=[],d=[],e=this.B,f=this.b,g=this.F;a=Math.sqrt(a);var h=0,k=0,l,m;l=0;for(m=f.length;l<m;++l){var p=f[l],q=[],k=Lh(e,h,p,g,a,b,k,q);d.push(q);h=p[p.length-1]}b.length=k;e=new ei(null);fi(e,"XY",b,d);return e};n.V=function(){return"MultiPolygon"};
n.ba=function(a,b){if(a){Ch(this,b,a,3);this.B||(this.B=[]);var d=this.B,e=this.F,f=this.b,g=0,f=f?f:[],h=0,k,l;k=0;for(l=a.length;k<l;++k)g=Fh(d,g,a[k],e,f[h]),f[h++]=g,g=g[g.length-1];f.length=h;0===f.length?this.B.length=0:(d=f[f.length-1],this.B.length=0===d.length?0:d[d.length-1]);this.c()}else fi(this,"XY",null,this.b)};function fi(a,b,d,e){Bh(a,b,d);a.b=e;a.c()}
function ii(a,b){var d=a.layout,e=[],f=[],g,h,k;g=0;for(h=b.length;g<h;++g){var l=b[g];0===g&&(d=l.layout);var m=e.length;k=l.fb();var p,q;p=0;for(q=k.length;p<q;++p)k[p]+=m;nb(e,l.B);f.push(k)}fi(a,d,e,f)};function ji(a){a=a?a:{};this.dc=a.dc;this.cc=a.cc;this.Qb=a.Qb;this.Hd="";this.c={};this.c["http://www.opengis.net/gml"]={featureMember:lc(ji.prototype.Bd),featureMembers:lc(ji.prototype.Bd)};th.call(this)}x(ji,th);var ki=/^[\s\xa0]*$/;n=ji.prototype;
n.Bd=function(a,b){var d=a.localName,e;if("FeatureCollection"==d)"http://www.opengis.net/wfs"===a.namespaceURI?e=W([],this.c,a,b,this):e=W(null,this.c,a,b,this);else if("featureMembers"==d||"featureMember"==d){var f=b[0],g=f.featureType;e=f.featureNS;var h,k;if(!g&&a.childNodes){g=[];e={};h=0;for(k=a.childNodes.length;h<k;++h){var l=a.childNodes[h];if(1===l.nodeType){var m=l.nodeName.split(":").pop();if(-1===g.indexOf(m)){var p="",q=0,l=l.namespaceURI,r;for(r in e){if(e[r]===l){p=r;break}++q}p||(p=
"p"+q,e[p]=l);g.push(p+":"+m)}}}f.featureType=g;f.featureNS=e}"string"===typeof e&&(h=e,e={},e.p0=h);r={};var g=Array.isArray(g)?g:[g],w;for(w in e){f={};h=0;for(k=g.length;h<k;++h)(-1===g[h].indexOf(":")?"p0":g[h].split(":")[0])===w&&(f[g[h].split(":").pop()]="featureMembers"==d?kc(this.Ie,this):lc(this.Ie,this));r[e[w]]=f}e=W([],r,a,b)}e||(e=[]);return e};function wh(a,b,d){var e=d[0];e.srsName=b.firstElementChild.getAttribute("srsName");if(a=W(null,a.ih,b,d,a))return sh(a,!1,e)}
n.Ie=function(a,b){var d,e;(e=a.getAttribute("fid"))||(e=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var f={},g;for(d=a.firstElementChild;d;d=d.nextElementSibling){var h=d.localName;if(0===d.childNodes.length||1===d.childNodes.length&&(3===d.firstChild.nodeType||4===d.firstChild.nodeType)){var k=fc(d);ki.test(k)&&(k=void 0);f[h]=k}else"boundedBy"!==h&&(g=h),f[h]=wh(this,d,b)}d=new lh(f);g&&nh(d,g);e&&(d.f=e,d.c());return d};
n.Xk=function(a,b){var d=this.Cd(a,b);if(d){var e=new Uh(null);e.M("XYZ",d);return e}};n.Vk=function(a,b){var d=W([],this.lh,a,b,this);if(d)return new Vh(d)};n.Uk=function(a,b){var d=W([],this.kh,a,b,this);if(d){var e=new Qh(null);Th(e,d);return e}};n.Wk=function(a,b){var d=W([],this.mh,a,b,this);if(d){var e=new ei(null);ii(e,d);return e}};n.Bg=function(a,b){sc(this.nh,a,b,this)};n.fg=function(a,b){sc(this.jh,a,b,this)};n.Cg=function(a,b){sc(this.oh,a,b,this)};
n.Gg=function(a,b){var d=this.Cd(a,b);if(d){var e=new Mh(null);e.M("XYZ",d);return e}};n.Rk=function(a,b){var d=W(null,this.cf,a,b,this);if(d)return d};n.Tk=function(a,b){var d=this.Cd(a,b);if(d){var e=new Oh(null);Ph(e,"XYZ",d);return e}};n.Hg=function(a,b){var d=W([null],this.hh,a,b,this);if(d&&d[0]){var e=new ai(null),f=d[0],g=[f.length],h,k;h=1;for(k=d.length;h<k;++h)nb(f,d[h]),g.push(f.length);e.M("XYZ",f,g);return e}};n.Cd=function(a,b){return W(null,this.cf,a,b,this)};
n.lh={"http://www.opengis.net/gml":{pointMember:kc(ji.prototype.Bg),pointMembers:kc(ji.prototype.Bg)}};n.kh={"http://www.opengis.net/gml":{lineStringMember:kc(ji.prototype.fg),lineStringMembers:kc(ji.prototype.fg)}};n.mh={"http://www.opengis.net/gml":{polygonMember:kc(ji.prototype.Cg),polygonMembers:kc(ji.prototype.Cg)}};n.nh={"http://www.opengis.net/gml":{Point:kc(ji.prototype.Cd)}};n.jh={"http://www.opengis.net/gml":{LineString:kc(ji.prototype.Gg)}};n.oh={"http://www.opengis.net/gml":{Polygon:kc(ji.prototype.Hg)}};
n.df={"http://www.opengis.net/gml":{LinearRing:lc(ji.prototype.Rk)}};n.Je=function(a,b){var d={dc:this.dc,cc:this.cc};b&&va(d,qh(this,a,b));return this.Bd(a,[d])};n.Ig=function(a){return ud(this.Qb?this.Qb:a.firstElementChild.getAttribute("srsName"))};function li(a){a=a?a:{};ji.call(this,a);this.c["http://www.opengis.net/gml"].featureMember=kc(ji.prototype.Bd);this.Hd=a.Hd?a.Hd:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}x(li,ji);n=li.prototype;
n.Eg=function(a,b){var d=fc(a).replace(/^\s*|\s*$/g,""),e=b[0].srsName,f=a.parentNode.getAttribute("srsDimension"),g="enu";e&&(e=ud(e))&&(g=e.i);d=d.split(/[\s,]+/);e=2;a.getAttribute("srsDimension")?e=Bc(a.getAttribute("srsDimension")):a.getAttribute("dimension")?e=Bc(a.getAttribute("dimension")):f&&(e=Bc(f));for(var h,k,l=[],m=0,p=d.length;m<p;m+=e)f=parseFloat(d[m]),h=parseFloat(d[m+1]),k=3===e?parseFloat(d[m+2]):0,"en"===g.substr(0,2)?l.push(f,h,k):l.push(h,f,k);return l};
n.Pk=function(a,b){var d=W([null],this.gh,a,b,this);return Qb(d[1][0],d[1][1],d[1][3],d[1][4])};n.uj=function(a,b){var d=W(void 0,this.df,a,b,this);d&&b[b.length-1].push(d)};n.Ak=function(a,b){var d=W(void 0,this.df,a,b,this);d&&(b[b.length-1][0]=d)};n.cf={"http://www.opengis.net/gml":{coordinates:lc(li.prototype.Eg)}};n.hh={"http://www.opengis.net/gml":{innerBoundaryIs:li.prototype.uj,outerBoundaryIs:li.prototype.Ak}};n.gh={"http://www.opengis.net/gml":{coordinates:kc(li.prototype.Eg)}};
n.ih={"http://www.opengis.net/gml":{Point:lc(ji.prototype.Xk),MultiPoint:lc(ji.prototype.Vk),LineString:lc(ji.prototype.Gg),MultiLineString:lc(ji.prototype.Uk),LinearRing:lc(ji.prototype.Tk),Polygon:lc(ji.prototype.Hg),MultiPolygon:lc(ji.prototype.Wk),Box:lc(li.prototype.Pk)}};function mi(a){a=a?a:{};this.b="http://mapserver.gis.umn.edu/mapserver";this.c=new li;this.f=a.layers?a.layers:null;th.call(this)}x(mi,th);
mi.prototype.Je=function(a,b){var d={featureType:this.dc,featureNS:this.cc};b&&va(d,qh(this,a,b));var e=[d];a.setAttribute("namespaceURI",this.b);var f=a.localName,d=[];if(0!==a.childNodes.length){if("msGMLOutput"==f)for(var g=0,h=a.childNodes.length;g<h;g++){var k=a.childNodes[g];if(1===k.nodeType){var l=e[0],m=k.localName.replace("_layer","");if(!this.f||0<=this.f.indexOf(m)){m+="_feature";l.featureType=m;l.featureNS=this.b;var p={};p[m]=kc(this.c.Ie,this.c);l=V([l.featureNS,null],p);k.setAttribute("namespaceURI",
this.b);(k=W([],l,k,e,this.c))&&nb(d,k)}}}"FeatureCollection"==f&&(e=W([],this.c.c,a,[{}],this.c))&&(d=e)}return d};A.value("ngeoQueryResult",{Kd:[],total:0});function ni(a,b,d,e){d=void 0!==d?d:{};this.b=void 0!==d.limit?d.limit:50;this.j=void 0!==d.sourceIdProperty?d.sourceIdProperty:"querySourceId";this.o=void 0!==d.sourceIdsProperty?d.sourceIdsProperty:"querySourceIds";this.g=e;this.f=a;this.Kc=b;this.i=[];this.c={}}ni.$inject=["$http","ngeoQueryResult","ngeoQueryOptions","ngeoLayerHelper"];
ni.prototype.sf=function(a){var b=a.id;if(!a.wmsSource)if(a.layer&&(a.layer instanceof Xd||a.layer instanceof Yd)){var d=a.layer.K();d&&d instanceof hf&&(a.wmsSource=d)}else a.wmsSource=new hf({url:a.url,params:a.params});a.format?!a.infoFormat&&a.format instanceof mi&&(a.infoFormat="application/vnd.ogc.gml"):(a.infoFormat||(a.infoFormat="application/vnd.ogc.gml"),d=a.wmsSource.b.LAYERS.split(","),"application/vnd.ogc.gml"===a.infoFormat&&(a.format=new mi({layers:d})));this.i.push(a);d={features:[],
id:b,identifierAttributeField:void 0!==a.identifierAttributeField?a.identifierAttributeField:b,label:void 0!==a.label?a.label:b,pending:!1};this.Kc.Kd.push(d);this.c[b]={source:a,resultSource:d}};ni.prototype.addSource=ni.prototype.sf;ni.prototype.tf=function(a){a.forEach(this.sf,this)};ni.prototype.addSources=ni.prototype.tf;ni.prototype.clear=function(){oi(this)};ni.prototype.clear=ni.prototype.clear;ni.prototype.eg=function(a,b){oi(this);2===b.length&&pi(this,a,b)};ni.prototype.issue=ni.prototype.eg;
function pi(a,b,d){var e=Y(b),f=e.Y().c,g,h,k,l,m,p,q={},r=e.X();a.g.gd(gg(b)).forEach(function(a){if(Qd(a)){var b=a.get(this.j);g=b=ha(b)||ga(b)?b:"";h=(a.get(this.o)||[]).slice();if(g&&this.c[g]||h.length){g&&h.push(g);for(var b=0,d=h.length;b<d;b++)g=h[b],m=this.c[g],m.source.validateLayerParams&&-1===a.K().b.LAYERS.split(",").indexOf(m.source.wmsSource.b.LAYERS)||(m.resultSource.pending=!0,k=m.source.infoFormat,"application/vnd.ogc.gml"===k?(l=m.source.wmsSource.o,q[l]||(q[l]=[]),q[l].push(m)):
m.resultSource.pending=!1)}}},a);ve(q,function(a){k=a[0].source.infoFormat;var b=a[0].source.wmsSource.b.LAYERS.split(",");p=lf(a[0].source.wmsSource,d,r,f,{INFO_FORMAT:k,FEATURE_COUNT:this.b});for(var e=1,g=a.length;e<g;e++)b=b.concat(a[e].source.wmsSource.b.LAYERS.split(","));b=b.join(",");p=ge(p,"LAYERS",b);p=ge(p,"QUERY_LAYERS",b);this.f.get(p).then(function(a,b){a.forEach(function(a){var d=a.source.format.readFeatures(b.data);a.resultSource.pending=!1;a.resultSource.features=d;this.Kc.total+=
d.length},this)}.bind(this,a))},a)}function oi(a){a.Kc.total=0;a.Kc.Kd.forEach(function(a){a.features.length=0},a)}A.service("ngeoQuery",ni);function qi(a,b,d){this.i=a;this.g=b;this.f=d;this.b=[];this.c={};this.g.Eb().then(function(a){for(var b=0,d=a.length;b<d;b++)ri(this,a[b]);this.i.tf(this.b)}.bind(this))}qi.$inject=["ngeoQuery","gmfThemes","gmfWmsUrl"];
function ri(a,b){var d=b.metadata,e=b.children,f=b.id,g=d.identifierAttributeField,h=d.wmsLayers||d.queryLayers||b.layers,k=b.name,l=d.wmsUrl||b.url||a.f,m=!1;if("WMTS"!==b.type||d.wmsUrl)if(e)for(f=0,d=e.length;f<d;f++)ri(a,e[f]);else if(!a.c[f]){if(b.childLayers&&b.childLayers.length){var p=[];b.childLayers.forEach(function(a){p.push(a.name)},a);h=p.join(",")}else"WMS"===b.type&&(m=!0);e={id:f,identifierAttributeField:g,label:k,params:{LAYERS:h},url:l,validateLayerParams:m};a.c[f]=e;a.b.push(e)}}
G.service("gmfQueryManager",qi);G.value("gmfTreeManagerModeFlush",!0);function si(a,b){this.b=a;this.c=b;this.tree={children:[],name:""}}si.$inject=["gmfThemes","gmfTreeManagerModeFlush"];si.prototype.xj=function(){return this.c};si.prototype.isModeFlush=si.prototype.xj;si.prototype.el=function(a){this.c=a;this.tree.name=""};si.prototype.setModeFlush=si.prototype.el;si.prototype.Td=function(a){this.c&&(this.tree.name=a.name);this.Yc(a.children)};si.prototype.addTheme=si.prototype.Td;
si.prototype.Yc=function(a,b){this.c&&!0!==b&&(this.tree.children.length=0);a.forEach(function(a){ti(this,a)}.bind(this))};si.prototype.addGroups=si.prototype.Yc;function ti(a,b){var d=a.tree.children,e=!1;d.some(function(a){if(b.id===a.id)return e=!0});e||d.push(b)}si.prototype.Sd=function(a,b){this.c&&!0!==b&&(this.tree.children.length=0);a.forEach(function(a){a=this.Ef(a.node,a.layers);ti(this,a)}.bind(this))};si.prototype.addCustomGroups=si.prototype.Sd;
si.prototype.uf=function(a){this.b.Eb().then(function(b){(b=kg(b,a))&&this.Td(b)}.bind(this))};si.prototype.addThemeByName=si.prototype.uf;si.prototype.qf=function(a,b){this.b.Eb().then(function(d){a:{for(var e=0,f=d.length;e<f;e++)for(var g=d[e],h=0,k=g.children.length;h<k;h++){var l=g.children[h];if(l.name==a){d=l;break a}}d=null}d&&this.Yc([d],b)}.bind(this))};si.prototype.addGroupByName=si.prototype.qf;
si.prototype.pf=function(a,b){this.b.Eb().then(function(d){a:{for(var e=0,f=d.length;e<f;e++)for(var g=d[e],h=0,k=g.children.length;h<k;h++)for(var l=g.children[h],m=0,p=l.children.length;m<p;m++)if(l.children[m].layers==a){d=l;break a}d=null}d&&this.Yc([d],b)}.bind(this))};si.prototype.addGroupByLayerName=si.prototype.pf;si.prototype.Kg=function(a){var b=this.tree.children,d=0,e=!1;b.some(function(b){if(b.name===a.name)return e=!0;d++}.bind(this));e&&b.splice(d,1)};si.prototype.removeGroup=si.prototype.Kg;
si.prototype.Ef=function(a,b){var d=ze(a);this.Ve(d,b);return d};si.prototype.cloneGroupNode_=si.prototype.Ef;si.prototype.Ve=function(a,b){a.children&&a.children.forEach(function(a){a.children?this.Ve(a,b):a.metadata&&(a.metadata.isChecked=0<=b.indexOf(a.name)?"true":"false")},this)};si.prototype.toggleNodeCheck_=si.prototype.Ve;G.service("gmfTreeManager",si);function ui(a,b){ta.call(this,a);this.previous=b}x(ui,ta);function vi(){ab.call(this);this.b={}}x(vi,ab);vi.prototype.get=function(a){return v(a).toString()in this.b?Sd(gg(a)).item(0):null};vi.prototype.get=vi.prototype.get;
vi.prototype.set=function(a,b){var d=v(a).toString(),e=this.get(a);if(null!==e)if(null!==b){var d=Sd(gg(a)),f=ib(d);if(0<f)f=d.b[0],d.b[0]=b,M(d,new fb("remove",f,d)),M(d,new fb("add",b,d));else{for(;0>f;++f)jb(d,f,void 0);jb(d,0,b)}}else kb(Sd(gg(a)),0),delete this.b[d];else null!==b&&(jb(Sd(gg(a)),0,b),this.b[d]=!0);M(this,new ui("change",e));return e};vi.prototype.set=vi.prototype.set;A.service("ngeoBackgroundLayerMgr",vi);function wi(a){return function(b,d,e){var f=null;return function(){var g=this,h=arguments;null!==f&&a.cancel(f);f=a(function(){f=null;b.apply(g,h)},d,e)}}}wi.$inject=["$timeout"];A.factory("ngeoDebounce",wi);function xi(a){a=a?a:{};var b=va({},a);delete b.style;delete b.Lg;delete b.Qc;delete b.Rc;Vd.call(this,b);this.s=void 0!==a.Lg?a.Lg:100;this.o=null;this.j=void 0;this.ja(a.style);this.u=void 0!==a.Qc?a.Qc:!1;this.v=void 0!==a.Rc?a.Rc:!1}x(xi,Vd);xi.prototype.Db=function(){return this.o};xi.prototype.ja=function(a){this.o=void 0!==a?a:jh;this.j=null===a?void 0:hh(this.o);this.c()};function yi(a,b,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET",ia(a)?a(e,f,g):a,!0);"arraybuffer"==b.V()&&(h.responseType="arraybuffer");h.onload=function(){if(200<=h.status&&300>h.status){var a=b.V(),e;"json"==a||"text"==a?e=h.responseText:"xml"==a?(e=h.responseXML)||(e=jc(h.responseText)):"arraybuffer"==a&&(e=h.response);e&&d.call(this,b.readFeatures(e,{zb:g}),b.Dd(e))}}.bind(this);h.send()}}function zi(a,b){return yi(a,b,function(a){Ai(this,a)})};function Bi(){return[[-Infinity,-Infinity,Infinity,Infinity]]};var Ci;
(function(){var a={aa:{}};(function(){function b(a,d){if(!(this instanceof b))return new b(a,d);this.Rd=Math.max(4,a||9);this.kf=Math.max(2,Math.ceil(.4*this.Rd));d&&this.xh(d);this.clear()}function d(a,b){a.bbox=e(a,0,a.children.length,b)}function e(a,b,d,e){for(var g=[Infinity,Infinity,-Infinity,-Infinity],h;b<d;b++)h=a.children[b],f(g,a.ua?e(h):h.bbox);return g}function f(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function g(a,b){return a.bbox[0]-
b.bbox[0]}function h(a,b){return a.bbox[1]-b.bbox[1]}function k(a){return(a[2]-a[0])*(a[3]-a[1])}function l(a){return a[2]-a[0]+(a[3]-a[1])}function m(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function p(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function q(a,b,d,e,f){for(var g=[b,d],h;g.length;)d=g.pop(),b=g.pop(),d-b<=e||(h=b+Math.ceil((d-b)/e/2)*e,r(a,b,d,h,f),g.push(b,h,h,d))}function r(a,b,d,e,f){for(var g,h,k,l,m;d>b;){600<d-b&&(g=d-b+1,h=e-b+1,k=Math.log(g),
l=.5*Math.exp(2*k/3),m=.5*Math.sqrt(k*l*(g-l)/g)*(0>h-g/2?-1:1),k=Math.max(b,Math.floor(e-h*l/g+m)),h=Math.min(d,Math.floor(e+(g-h)*l/g+m)),r(a,k,h,e,f));g=a[e];h=b;l=d;w(a,b,e);for(0<f(a[d],g)&&w(a,b,d);h<l;){w(a,h,l);h++;for(l--;0>f(a[h],g);)h++;for(;0<f(a[l],g);)l--}0===f(a[b],g)?w(a,b,l):(l++,w(a,l,d));l<=e&&(b=l+1);e<=l&&(d=l-1)}}function w(a,b,d){var e=a[b];a[b]=a[d];a[d]=e}b.prototype={all:function(){return this.ef(this.data,[])},search:function(a){var b=this.data,d=[],e=this.Da;if(!p(a,b.bbox))return d;
for(var f=[],g,h,k,l;b;){g=0;for(h=b.children.length;g<h;g++)k=b.children[g],l=b.ua?e(k):k.bbox,p(a,l)&&(b.ua?d.push(k):m(a,l)?this.ef(k,d):f.push(k));b=f.pop()}return d},load:function(a){if(!a||!a.length)return this;if(a.length<this.kf){for(var b=0,d=a.length;b<d;b++)this.insert(a[b]);return this}a=this.gf(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.nf(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.jf(a,this.data.height-a.height-
1,!0)):this.data=a;return this},insert:function(a){a&&this.jf(a,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],ua:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,d=this.Da(a),e=[],f=[],g,h,k,l;b||e.length;){b||(b=e.pop(),h=e[e.length-1],g=f.pop(),l=!0);if(b.ua&&(k=b.children.indexOf(a),-1!==k)){b.children.splice(k,1);e.push(b);this.uh(e);break}l||b.ua||!m(b.bbox,d)?h?(g++,b=h.children[g],l=!1):
b=null:(e.push(b),f.push(g),g=0,h=b,b=b.children[0])}return this},Da:function(a){return a},ce:function(a,b){return a[0]-b[0]},de:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},ef:function(a,b){for(var d=[];a;)a.ua?b.push.apply(b,a.children):d.push.apply(d,a.children),a=d.pop();return b},gf:function(a,b,e,f){var g=e-b+1,h=this.Rd,k;if(g<=h)return k={children:a.slice(b,e+1),height:1,bbox:null,ua:!0},d(k,this.Da),k;f||(f=Math.ceil(Math.log(g)/Math.log(h)),h=Math.ceil(g/Math.pow(h,
f-1)));k={children:[],height:f,bbox:null,ua:!1};var g=Math.ceil(g/h),h=g*Math.ceil(Math.sqrt(h)),l,m,p;for(q(a,b,e,h,this.ce);b<=e;b+=h)for(m=Math.min(b+h-1,e),q(a,b,m,g,this.de),l=b;l<=m;l+=g)p=Math.min(l+g-1,m),k.children.push(this.gf(a,l,p,f-1));d(k,this.Da);return k},th:function(a,b,d,e){for(var f,g,h,l,m,p,q,r;;){e.push(b);if(b.ua||e.length-1===d)break;q=r=Infinity;f=0;for(g=b.children.length;f<g;f++)h=b.children[f],m=k(h.bbox),p=h.bbox,p=(Math.max(p[2],a[2])-Math.min(p[0],a[0]))*(Math.max(p[3],
a[3])-Math.min(p[1],a[1]))-m,p<r?(r=p,q=m<q?m:q,l=h):p===r&&m<q&&(q=m,l=h);b=l}return b},jf:function(a,b,d){var e=this.Da;d=d?a.bbox:e(a);var e=[],g=this.th(d,this.data,b,e);g.children.push(a);for(f(g.bbox,d);0<=b;)if(e[b].children.length>this.Rd)this.Ch(e,b),b--;else break;this.qh(d,e,b)},Ch:function(a,b){var e=a[b],f=e.children.length,g=this.kf;this.rh(e,g,f);f=this.sh(e,g,f);f={children:e.children.splice(f,e.children.length-f),height:e.height,bbox:null,ua:!1};e.ua&&(f.ua=!0);d(e,this.Da);d(f,this.Da);
b?a[b-1].children.push(f):this.nf(e,f)},nf:function(a,b){this.data={children:[a,b],height:a.height+1,bbox:null,ua:!1};d(this.data,this.Da)},sh:function(a,b,d){var f,g,h,l,m,p,q;m=p=Infinity;for(f=b;f<=d-b;f++)g=e(a,0,f,this.Da),h=e(a,f,d,this.Da),l=Math.max(0,Math.min(g[2],h[2])-Math.max(g[0],h[0]))*Math.max(0,Math.min(g[3],h[3])-Math.max(g[1],h[1])),g=k(g)+k(h),l<m?(m=l,q=f,p=g<p?g:p):l===m&&g<p&&(p=g,q=f);return q},rh:function(a,b,d){var e=a.ua?this.ce:g,f=a.ua?this.de:h,k=this.ff(a,b,d,e);b=this.ff(a,
b,d,f);k<b&&a.children.sort(e)},ff:function(a,b,d,g){a.children.sort(g);g=this.Da;var h=e(a,0,b,g),k=e(a,d-b,d,g),m=l(h)+l(k),p,q;for(p=b;p<d-b;p++)q=a.children[p],f(h,a.ua?g(q):q.bbox),m+=l(h);for(p=d-b-1;p>=b;p--)q=a.children[p],f(k,a.ua?g(q):q.bbox),m+=l(k);return m},qh:function(a,b,d){for(;0<=d;d--)f(b[d].bbox,a)},uh:function(a){for(var b=a.length-1,e;0<=b;b--)0===a[b].children.length?0<b?(e=a[b-1].children,e.splice(e.indexOf(a[b]),1)):this.clear():d(a[b],this.Da)},xh:function(a){var b=["return a",
" - b",";"];this.ce=new Function("a","b",b.join(a[0]));this.de=new Function("a","b",b.join(a[1]));this.Da=new Function("a","return [a"+a.join(", a")+"];")}};"undefined"!==typeof a?a.aa=b:"undefined"!==typeof self?self.c=b:window.c=b})();Ci=a.aa})();function Di(a){this.b=Ci(a);this.c={}}n=Di.prototype;n.insert=function(a,b){var d=[a[0],a[1],a[2],a[3],b];this.b.insert(d);this.c[v(b)]=d};n.load=function(a,b){for(var d=Array(b.length),e=0,f=b.length;e<f;e++){var g=a[e],h=b[e],g=[g[0],g[1],g[2],g[3],h];d[e]=g;this.c[v(h)]=g}this.b.load(d)};n.remove=function(a){a=v(a);var b=this.c[a];delete this.c[a];return null!==this.b.remove(b)};function Ei(a,b,d){var e=v(d);Sb(a.c[e].slice(0,4),b)||(a.remove(d),a.insert(b,d))}
function Fi(a){return a.b.all().map(function(a){return a[4]})}function Gi(a,b){return a.b.search(b).map(function(a){return a[4]})}n.forEach=function(a,b){return Hi(Fi(this),a,b)};function Ii(a,b,d,e){return Hi(Gi(a,b),d,e)}function Hi(a,b,d){for(var e,f=0,g=a.length;f<g&&!(e=b.call(d,a[f]));f++);return e}n.Xa=function(){return ya(this.c)};n.clear=function(){this.b.clear();this.c={}};n.I=function(){return this.b.data.bbox};function Ji(a){a=a||{};Ld.call(this,{ka:a.ka,qa:a.qa,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0});this.v=Wa;this.G=a.format;this.D=a.url;void 0!==a.Ej?this.v=a.Ej:void 0!==this.D&&(this.v=zi(this.D,this.G));this.T=void 0!==a.jl?a.jl:Bi;var b=void 0!==a.pc?a.pc:!0;this.b=b?new Di:null;this.C=new Di;this.f={};this.i={};this.o={};this.s={};this.j=null;var d,e;a.features instanceof gb?(d=a.features,e=d.b):Array.isArray(a.features)&&(e=a.features);b||void 0!==d||(d=new gb(e));void 0!==
e&&Ki(this,e);void 0!==d&&Li(this,d)}x(Ji,Ld);n=Ji.prototype;n.oa=function(a){var b=v(a).toString();if(Mi(this,b,a)){Ni(this,b,a);var d=a.H();d?(b=d.I(),this.b&&this.b.insert(b,a)):this.f[b]=a;M(this,new Oi("addfeature",a))}this.c()};function Ni(a,b,d){a.s[b]=[I(d,"change",a.tg,a),I(d,"propertychange",a.tg,a)]}function Mi(a,b,d){var e=!0,f=d.gb();void 0!==f?f.toString()in a.i?e=!1:a.i[f.toString()]=d:a.o[b]=d;return e}function Ai(a,b){Ki(a,b);a.c()}
function Ki(a,b){var d,e,f,g,h=[],k=[],l=[];e=0;for(f=b.length;e<f;e++)g=b[e],d=v(g).toString(),Mi(a,d,g)&&k.push(g);e=0;for(f=k.length;e<f;e++){g=k[e];d=v(g).toString();Ni(a,d,g);var m=g.H();m?(d=m.I(),h.push(d),l.push(g)):a.f[d]=g}a.b&&a.b.load(h,l);e=0;for(f=k.length;e<f;e++)M(a,new Oi("addfeature",k[e]))}
function Li(a,b){var d=!1;I(a,"addfeature",function(a){d||(d=!0,b.push(a.feature),d=!1)});I(a,"removefeature",function(a){d||(d=!0,b.remove(a.feature),d=!1)});I(b,"add",function(a){d||(a=a.element,d=!0,this.oa(a),d=!1)},a);I(b,"remove",function(a){d||(a=a.element,d=!0,this.Qa(a),d=!1)},a);a.j=b}
n.clear=function(a){if(a){for(var b in this.s)this.s[b].forEach(H);this.j||(this.s={},this.i={},this.o={})}else if(this.b){this.b.forEach(this.Oe,this);for(var d in this.f)this.Oe(this.f[d])}this.j&&this.j.clear();this.b&&this.b.clear();this.C.clear();this.f={};M(this,new Oi("clear"));this.c()};function Pi(a,b,d,e){a.b?Ii(a.b,b,d,e):a.j&&a.j.forEach(d,e)}n.I=function(){return this.b.I()};
n.tg=function(a){a=a.target;var b=v(a).toString(),d=a.H();d?(d=d.I(),b in this.f?(delete this.f[b],this.b&&this.b.insert(d,a)):this.b&&Ei(this.b,d,a)):b in this.f||(this.b&&this.b.remove(a),this.f[b]=a);d=a.gb();void 0!==d?(d=d.toString(),b in this.o?(delete this.o[b],this.i[d]=a):this.i[d]!==a&&(Qi(this,a),this.i[d]=a)):b in this.o||(Qi(this,a),this.o[b]=a);this.c();M(this,new Oi("changefeature",a))};n.Xa=function(){return this.b.Xa()&&ya(this.f)};
function Ri(a,b,d,e){var f=a.C;b=a.T(b,d);var g,h;g=0;for(h=b.length;g<h;++g){var k=b[g];Ii(f,k,function(a){return Ob(a.extent,k)})||(a.v.call(a,k,d,e),f.insert(k,{extent:k.slice()}))}}n.Qa=function(a){var b=v(a).toString();b in this.f?delete this.f[b]:this.b&&this.b.remove(a);this.Oe(a);this.c()};n.Oe=function(a){var b=v(a).toString();this.s[b].forEach(H);delete this.s[b];var d=a.gb();void 0!==d?delete this.i[d.toString()]:delete this.o[b];M(this,new Oi("removefeature",a))};
function Qi(a,b){for(var d in a.i)if(a.i[d]===b){delete a.i[d];break}}function Oi(a,b){ta.call(this,a);this.feature=b}x(Oi,ta);function Si(){this.b={};this.c=[];this.g=new Ji({pc:!1});this.f=new xi({source:this.g,style:this.i.bind(this),Qc:!0,Rc:!0})}Si.prototype.oa=function(a,b){var d=v(a).toString();this.b[d]=b;this.c[b].features[d]=a;this.g.oa(a)};Si.prototype.Qa=function(a,b){var d=v(a).toString();delete this.b[d];delete this.c[b].features[d];this.g.Qa(a)};Si.prototype.clear=function(a){var b=this.c[a],d;for(d in b.features)this.Qa(b.features[d],a)};Si.prototype.la=function(){return this.f};Si.prototype.getLayer=Si.prototype.la;
Si.prototype.Bb=function(){var a=this.c.length;this.c.push({Xg:jh,features:{}});return new Ti(this,a)};Si.prototype.getFeatureOverlay=Si.prototype.Bb;Si.prototype.Wa=function(a){this.f.setMap(a)};Si.prototype.init=Si.prototype.Wa;Si.prototype.ja=function(a,b){this.c[b].Xg=null===a?jh:hh(a)};Si.prototype.i=function(a,b){var d=v(a).toString();return this.c[this.b[d]].Xg(a,b)};function Ti(a,b){this.b=a;this.c=null;this.g=b}Ti.prototype.oa=function(a){this.b.oa(a,this.g)};Ti.prototype.addFeature=Ti.prototype.oa;
Ti.prototype.Qa=function(a){this.b.Qa(a,this.g)};Ti.prototype.removeFeature=Ti.prototype.Qa;Ti.prototype.clear=function(){this.b.clear(this.g)};Ti.prototype.clear=Ti.prototype.clear;Ti.prototype.Qg=function(a){null!==this.c&&(this.c.clear(),Fa(this.c,"add",this.f,this),Fa(this.c,"remove",this.i,this));null!==a&&(a.forEach(function(a){this.oa(a)},this),I(a,"add",this.f,this),I(a,"remove",this.i,this));this.c=a};Ti.prototype.setFeatures=Ti.prototype.Qg;Ti.prototype.ja=function(a){this.b.ja(a,this.g)};
Ti.prototype.setStyle=Ti.prototype.ja;Ti.prototype.f=function(a){this.oa(a.element)};Ti.prototype.i=function(a){this.Qa(a.element)};A.service("ngeoFeatureOverlayMgr",Si);var Ui=!De||9<=Number(Qe),Vi=!Fe&&!De||De&&9<=Number(Qe)||Fe&&Oe("1.9.1");De&&Oe("9");function Wi(a,b){this.x=aa(a)?a:0;this.y=aa(b)?b:0}n=Wi.prototype;n.clone=function(){return new Wi(this.x,this.y)};n.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};n.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};n.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};n.translate=function(a,b){a instanceof Wi?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),ha(b)&&(this.y+=b));return this};
n.scale=function(a,b){var d=ha(b)?b:a;this.x*=a;this.y*=d;return this};function Xi(a,b){this.width=a;this.height=b}n=Xi.prototype;n.clone=function(){return new Xi(this.width,this.height)};n.area=function(){return this.width*this.height};n.Xa=function(){return!this.area()};n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a,b){var d=ha(b)?b:a;this.width*=a;this.height*=d;return this};function Yi(a){return a?new Zi($i(a)):Ga||(Ga=new Zi)}function aj(a){var b=document;return ga(a)?b.getElementById(a):a}function bj(a,b){var d=b||document,e=null;d.getElementsByClassName?e=d.getElementsByClassName(a)[0]:d.querySelectorAll&&d.querySelector?e=d.querySelector("."+a):e=cj(a,b)[0];return e||null}
function cj(a,b){var d,e,f,g;d=document;d=b||d;if(d.querySelectorAll&&d.querySelector&&a)return d.querySelectorAll(""+(a?"."+a:""));if(a&&d.getElementsByClassName){var h=d.getElementsByClassName(a);return h}h=d.getElementsByTagName("*");if(a){g={};for(e=f=0;d=h[e];e++){var k=d.className,l;if(l="function"==typeof k.split)l=0<=le(k.split(/\s+/),a);l&&(g[f++]=d)}g.length=f;return g}return h}
function dj(a,b){ve(b,function(b,e){"style"==e?a.style.cssText=b:"class"==e?a.className=b:"for"==e?a.htmlFor=b:ej.hasOwnProperty(e)?a.setAttribute(ej[e],b):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?a.setAttribute(e,b):a[e]=b})}var ej={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function fj(a){var b=a.scrollingElement?a.scrollingElement:Ge?a.body||a.documentElement:a.documentElement;a=a.parentWindow||a.defaultView;return De&&Oe("10")&&a.pageYOffset!=b.scrollTop?new Wi(b.scrollLeft,b.scrollTop):new Wi(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
function gj(a,b,d){var e=arguments,f=document,g=e[0],h=e[1];if(!Ui&&h&&(h.name||h.type)){g=["<",g];h.name&&g.push(' name="',Ja(h.name),'"');if(h.type){g.push(' type="',Ja(h.type),'"');var k={};Be(k,h);delete k.type;h=k}g.push(">");g=g.join("")}g=f.createElement(g);h&&(ga(h)?g.className=h:ea(h)?g.className=h.join(" "):dj(g,h));2<e.length&&hj(f,g,e,2);return g}
function hj(a,b,d,e){function f(d){d&&b.appendChild(ga(d)?a.createTextNode(d):d)}for(;e<d.length;e++){var g=d[e];!fa(g)||ja(g)&&0<g.nodeType?f(g):me(ij(g)?pe(g):g,f)}}function jj(a){for(var b;b=a.firstChild;)a.removeChild(b)}function kj(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function lj(a){return Vi&&void 0!=a.children?a.children:ne(a.childNodes,function(a){return 1==a.nodeType})}
function mj(a){if(aa(a.nextElementSibling))a=a.nextElementSibling;else for(a=a.nextSibling;a&&1!=a.nodeType;)a=a.nextSibling;return a}function nj(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function $i(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function ij(a){if(a&&"number"==typeof a.length){if(ja(a))return"function"==typeof a.item||"string"==typeof a.item;if(ia(a))return"function"==typeof a.item}return!1}function Zi(a){this.c=a||t.document||document}n=Zi.prototype;n.wa=dj;n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a,b){hj($i(a),a,arguments,1)};n.removeNode=kj;n.isElement=function(a){return ja(a)&&1==a.nodeType};n.contains=nj;function oj(a,b,d,e){this.top=a;this.right=b;this.bottom=d;this.left=e}n=oj.prototype;n.clone=function(){return new oj(this.top,this.right,this.bottom,this.left)};n.contains=function(a){return this&&a?a instanceof oj?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
n.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};n.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};n.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};
n.translate=function(a,b){a instanceof Wi?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ha(b)&&(this.top+=b,this.bottom+=b));return this};n.scale=function(a,b){var d=ha(b)?b:a;this.left*=a;this.right*=a;this.top*=d;this.bottom*=d;return this};function pj(a,b,d,e){this.left=a;this.top=b;this.width=d;this.height=e}n=pj.prototype;n.clone=function(){return new pj(this.left,this.top,this.width,this.height)};n.contains=function(a){return a instanceof pj?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
n.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.translate=function(a,b){a instanceof Wi?(this.left+=a.x,this.top+=a.y):(this.left+=a,ha(b)&&(this.top+=b));return this};n.scale=function(a,b){var d=ha(b)?b:a;this.left*=a;this.width*=a;this.top*=d;this.height*=d;return this};function qj(a){qj[" "](a);return a}qj[" "]=ba;function rj(a,b){var d=$i(a);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(a,null))?d[b]||d.getPropertyValue(b)||"":""}function sj(a){var b;try{b=a.getBoundingClientRect()}catch(d){return{left:0,top:0,right:0,bottom:0}}De&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function tj(a){var b=$i(a),d=new Wi(0,0),e;e=b?$i(b):document;var f;(f=!De||9<=Number(Qe))||(Yi(e),f=!0);if(a==(f?e.documentElement:e.body))return d;a=sj(a);b=fj(Yi(b).c);d.x=a.left+b.x;d.y=a.top+b.y;return d}function uj(a){"number"==typeof a&&(a=a+"px");return a}
function vj(a){var b=wj;if("none"!=(rj(a,"display")||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display))return b(a);var d=a.style,e=d.display,f=d.visibility,g=d.position;d.visibility="hidden";d.position="absolute";d.display="inline";a=b(a);d.display=e;d.position=g;d.visibility=f;return a}function wj(a){var b=a.offsetWidth,d=a.offsetHeight,e=Ge&&!b&&!d;return aa(b)&&!e||!a.getBoundingClientRect?new Xi(b,d):(a=sj(a),new Xi(a.right-a.left,a.bottom-a.top))}
function xj(a){var b=tj(a);a=vj(a);return new pj(b.x,b.y,a.width,a.height)}function yj(a,b){a.style.display=b?"":"none"}function zj(a,b,d,e){if(/^\d+px?$/.test(b))return parseInt(b,10);var f=a.style[d],g=a.runtimeStyle[d];a.runtimeStyle[d]=a.currentStyle[d];a.style[d]=b;b=a.style[e];a.style[d]=f;a.runtimeStyle[d]=g;return b}function Aj(a,b){var d=a.currentStyle?a.currentStyle[b]:null;return d?zj(a,d,"left","pixelLeft"):0}var Bj={thin:2,medium:4,thick:6};
function Cj(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var d=a.currentStyle?a.currentStyle[b+"Width"]:null;return d in Bj?Bj[d]:zj(a,d,"left","pixelLeft")};function Dj(a){return function(){return a}}var Ej=Dj(!1),Fj=Dj(!0);function Gj(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function Hj(a){var b=arguments,d=b.length;return function(){for(var a=0;a<d;a++)if(!b[a].apply(this,arguments))return!1;return!0}};var Ij;
function Jj(){var a=t.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!ue("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var d="callImmediate"+Math.random(),e="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=oa(function(a){if(("*"==e||a.origin==e)&&a.data==
d)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(d,e)}}});if("undefined"!==typeof a&&!ue("Trident")&&!ue("MSIE")){var b=new a,d={},e=d;b.port1.onmessage=function(){if(aa(d.next)){d=d.next;var a=d.zf;d.zf=null;a()}};return function(a){e.next={zf:a};e=e.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){t.setTimeout(a,0)}};function Kj(a,b,d){ta.call(this,a);this.map=b;this.frameState=void 0!==d?d:null}x(Kj,ta);function Lj(a,b,d){ta.call(this,a);this.c=b;a=d?d:{};this.buttons=Mj(a);this.pressure=Nj(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:
null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.pointerType="pointerType"in a?a.pointerType:"";this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}x(Lj,ta);function Mj(a){if(a.buttons||Oj)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}
function Nj(a,b){var d=0;a.pressure?d=a.pressure:d=b?.5:0;return d}var Oj=!1;try{Oj=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function Pj(a,b){this.c=a;this.i=b};function Qj(a){Pj.call(this,a,{mousedown:this.pk,mousemove:this.qk,mouseup:this.tk,mouseover:this.sk,mouseout:this.rk});this.b=a.b;this.g=[]}x(Qj,Pj);function Rj(a,b){for(var d=a.g,e=b.clientX,f=b.clientY,g=0,h=d.length,k;g<h&&(k=d[g]);g++){var l=Math.abs(f-k[1]);if(25>=Math.abs(e-k[0])&&25>=l)return!0}return!1}function Sj(a){var b=Tj(a,a),d=b.preventDefault;b.preventDefault=function(){a.preventDefault();d()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}n=Qj.prototype;
n.pk=function(a){if(!Rj(this,a)){(1).toString()in this.b&&this.cancel(a);var b=Sj(a);this.b[(1).toString()]=a;Uj(this.c,Vj,b,a)}};n.qk=function(a){if(!Rj(this,a)){var b=Sj(a);this.c.move(b,a)}};n.tk=function(a){if(!Rj(this,a)){var b=this.b[(1).toString()];b&&b.button===a.button&&(b=Sj(a),Uj(this.c,Wj,b,a),delete this.b[(1).toString()])}};n.sk=function(a){if(!Rj(this,a)){var b=Sj(a);Xj(this.c,b,a)}};n.rk=function(a){if(!Rj(this,a)){var b=Sj(a);Yj(this.c,b,a)}};
n.cancel=function(a){var b=Sj(a);this.c.cancel(b,a);delete this.b[(1).toString()]};function Zj(a){Pj.call(this,a,{MSPointerDown:this.Mj,MSPointerMove:this.Nj,MSPointerUp:this.Qj,MSPointerOut:this.Oj,MSPointerOver:this.Pj,MSPointerCancel:this.Lj,MSGotPointerCapture:this.Jj,MSLostPointerCapture:this.Kj});this.b=a.b;this.g=["","unavailable","touch","pen","mouse"]}x(Zj,Pj);function ak(a,b){var d=b;ha(b.pointerType)&&(d=Tj(b,b),d.pointerType=a.g[b.pointerType]);return d}n=Zj.prototype;n.Mj=function(a){this.b[a.pointerId.toString()]=a;var b=ak(this,a);Uj(this.c,Vj,b,a)};
n.Nj=function(a){var b=ak(this,a);this.c.move(b,a)};n.Qj=function(a){var b=ak(this,a);Uj(this.c,Wj,b,a);delete this.b[a.pointerId.toString()]};n.Oj=function(a){var b=ak(this,a);Yj(this.c,b,a)};n.Pj=function(a){var b=ak(this,a);Xj(this.c,b,a)};n.Lj=function(a){var b=ak(this,a);this.c.cancel(b,a);delete this.b[a.pointerId.toString()]};n.Kj=function(a){M(this.c,new Lj("lostpointercapture",a,a))};n.Jj=function(a){M(this.c,new Lj("gotpointercapture",a,a))};function bk(a){Pj.call(this,a,{pointerdown:this.Gk,pointermove:this.Hk,pointerup:this.Kk,pointerout:this.Ik,pointerover:this.Jk,pointercancel:this.Fk,gotpointercapture:this.Ei,lostpointercapture:this.Fj})}x(bk,Pj);n=bk.prototype;n.Gk=function(a){ck(this.c,a)};n.Hk=function(a){ck(this.c,a)};n.Kk=function(a){ck(this.c,a)};n.Ik=function(a){ck(this.c,a)};n.Jk=function(a){ck(this.c,a)};n.Fk=function(a){ck(this.c,a)};n.Fj=function(a){ck(this.c,a)};n.Ei=function(a){ck(this.c,a)};function dk(a,b){Pj.call(this,a,{touchstart:this.ul,touchmove:this.tl,touchend:this.sl,touchcancel:this.rl});this.b=a.b;this.o=b;this.g=void 0;this.j=0;this.f=void 0}x(dk,Pj);n=dk.prototype;n.Ng=function(){this.j=0;this.f=void 0};
function ek(a,b,d){b=Tj(b,d);b.pointerId=d.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.j;b.button=0;b.buttons=1;b.width=d.webkitRadiusX||d.radiusX||0;b.height=d.webkitRadiusY||d.radiusY||0;b.pressure=d.webkitForce||d.force||.5;b.isPrimary=a.g===d.identifier;b.pointerType="touch";b.clientX=d.clientX;b.clientY=d.clientY;b.screenX=d.screenX;b.screenY=d.screenY;return b}
function fk(a,b,d){function e(){b.preventDefault()}var f=Array.prototype.slice.call(b.changedTouches),g=f.length,h,k;for(h=0;h<g;++h)k=ek(a,b,f[h]),k.preventDefault=e,d.call(a,b,k)}
n.ul=function(a){var b=a.touches,d=Object.keys(this.b),e=d.length;if(e>=b.length){var f=[],g,h,k;for(g=0;g<e;++g){h=d[g];k=this.b[h];var l;if(!(l=1==h))a:{l=b.length;for(var m=void 0,p=0;p<l;p++)if(m=b[p],m.identifier===h-2){l=!0;break a}l=!1}l||f.push(k.out)}for(g=0;g<f.length;++g)this.ae(a,f[g])}b=a.changedTouches[0];d=Object.keys(this.b).length;if(0===d||1===d&&(1).toString()in this.b)this.g=b.identifier,void 0!==this.f&&t.clearTimeout(this.f);gk(this,a);this.j++;fk(this,a,this.Bk)};
n.Bk=function(a,b){this.b[b.pointerId]={target:b.target,out:b,yg:b.target};var d=this.c;b.bubbles=!0;Uj(d,hk,b,a);this.c.enter(b,a);Uj(this.c,Vj,b,a)};n.tl=function(a){a.preventDefault();fk(this,a,this.Ij)};n.Ij=function(a,b){var d=this.b[b.pointerId];if(d){var e=d.out,f=d.yg;this.c.move(b,a);e&&f!==b.target&&(e.relatedTarget=b.target,b.relatedTarget=f,e.target=f,b.target?(Yj(this.c,e,a),Xj(this.c,b,a)):(b.target=f,b.relatedTarget=null,this.ae(a,b)));d.out=b;d.yg=b.target}};
n.sl=function(a){gk(this,a);fk(this,a,this.yl)};n.yl=function(a,b){Uj(this.c,Wj,b,a);this.c.out(b,a);this.c.leave(b,a);delete this.b[b.pointerId];b.isPrimary&&(this.g=void 0,this.f=t.setTimeout(this.Ng.bind(this),200))};n.rl=function(a){fk(this,a,this.ae)};n.ae=function(a,b){this.c.cancel(b,a);this.c.out(b,a);this.c.leave(b,a);delete this.b[b.pointerId];b.isPrimary&&(this.g=void 0,this.f=t.setTimeout(this.Ng.bind(this),200))};
function gk(a,b){var d=a.o.g,e=b.changedTouches[0];if(a.g===e.identifier){var f=[e.clientX,e.clientY];d.push(f);t.setTimeout(function(){ob(d,f)},2500)}};function ik(a){Ya.call(this);this.f=a;this.b={};this.g={};this.c=[];Pg?jk(this,new bk(this)):Qg?jk(this,new Zj(this)):(a=new Qj(this),jk(this,a),Og&&jk(this,new dk(this,a)));a=this.c.length;for(var b,d=0;d<a;d++)b=this.c[d],kk(this,Object.keys(b.i))}x(ik,Ya);function jk(a,b){var d=Object.keys(b.i);d&&(d.forEach(function(a){var d=b.i[a];d&&(this.g[a]=d.bind(b))},a),a.c.push(b))}n=ik.prototype;n.qg=function(a){var b=this.g[a.type];b&&b(a)};
function kk(a,b){b.forEach(function(a){I(this.f,a,this.qg,this)},a)}function lk(a,b){b.forEach(function(a){Fa(this.f,a,this.qg,this)},a)}function Tj(a,b){for(var d={},e,f=0,g=mk.length;f<g;f++)e=mk[f][0],d[e]=a[e]||b[e]||mk[f][1];return d}n.move=function(a,b){Uj(this,nk,a,b)};n.enter=function(a,b){a.bubbles=!1;Uj(this,ok,a,b)};n.leave=function(a,b){a.bubbles=!1;Uj(this,pk,a,b)};n.out=function(a,b){a.bubbles=!0;Uj(this,qk,a,b)};n.cancel=function(a,b){Uj(this,rk,a,b)};
function Yj(a,b,d){a.out(b,d);var e=b.relatedTarget;e&&nj(b.target,e)||a.leave(b,d)}function Xj(a,b,d){b.bubbles=!0;Uj(a,hk,b,d);var e=b.relatedTarget;e&&nj(b.target,e)||a.enter(b,d)}function Uj(a,b,d,e){M(a,new Lj(b,e,d))}function ck(a,b){M(a,new Lj(b.type,b,b))}n.ha=function(){for(var a=this.c.length,b,d=0;d<a;d++)b=this.c[d],lk(this,Object.keys(b.i));ik.ca.ha.call(this)};
var nk="pointermove",Vj="pointerdown",Wj="pointerup",hk="pointerover",qk="pointerout",ok="pointerenter",pk="pointerleave",rk="pointercancel",mk=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function sk(a,b,d,e,f){Kj.call(this,a,b,f);this.originalEvent=d;a=b.b.getBoundingClientRect();d=d.changedTouches?d.changedTouches[0]:d;this.pixel=[d.clientX-a.left,d.clientY-a.top];this.coordinate=b.Ta(this.pixel);this.dragging=void 0!==e?e:!1}x(sk,Kj);sk.prototype.preventDefault=function(){sk.ca.preventDefault.call(this);this.originalEvent.preventDefault()};sk.prototype.stopPropagation=function(){sk.ca.stopPropagation.call(this);this.originalEvent.stopPropagation()};
function tk(a,b,d,e,f){sk.call(this,a,b,d.c,e,f);this.c=d}x(tk,sk);function uk(a){Ya.call(this);this.g=a;this.j=0;this.o=!1;this.f=[];this.b=null;a=this.g.b;this.C=0;this.v={};this.i=new ik(a);this.c=null;this.s=I(this.i,Vj,this.Zi,this);this.u=I(this.i,nk,this.Zk,this)}x(uk,Ya);function vk(a,b){var d;d=new tk(wk,a.g,b);M(a,d);0!==a.j?(t.clearTimeout(a.j),a.j=0,d=new tk(xk,a.g,b),M(a,d)):a.j=t.setTimeout(function(){this.j=0;var a=new tk(yk,this.g,b);M(this,a)}.bind(a),250)}
function zk(a,b){b.type==Ak||b.type==Bk?delete a.v[b.pointerId]:b.type==Ck&&(a.v[b.pointerId]=!0);a.C=Object.keys(a.v).length}n=uk.prototype;n.cg=function(a){zk(this,a);var b=new tk(Ak,this.g,a);M(this,b);!this.o&&0===a.button&&vk(this,this.b);0===this.C&&(this.f.forEach(H),this.f.length=0,this.o=!1,this.b=null,this.c.xa(),this.c=null)};
n.Zi=function(a){zk(this,a);var b=new tk(Ck,this.g,a);M(this,b);this.b=a;0===this.f.length&&(this.c=new ik(document),this.f.push(I(this.c,Dk,this.ck,this),I(this.c,Ak,this.cg,this),I(this.i,Bk,this.cg,this)))};n.ck=function(a){if(a.clientX!=this.b.clientX||a.clientY!=this.b.clientY){this.o=!0;var b=new tk(Ek,this.g,a,this.o);M(this,b)}a.preventDefault()};n.Zk=function(a){M(this,new tk(a.type,this.g,a,!(!this.b||a.clientX==this.b.clientX&&a.clientY==this.b.clientY)))};
n.ha=function(){this.u&&(H(this.u),this.u=null);this.s&&(H(this.s),this.s=null);this.f.forEach(H);this.f.length=0;this.c&&(this.c.xa(),this.c=null);this.i&&(this.i.xa(),this.i=null);uk.ca.ha.call(this)};var yk="singleclick",wk="click",xk="dblclick",Ek="pointerdrag",Dk="pointermove",Ck="pointerdown",Ak="pointerup",Bk="pointercancel",Fk={Ul:yk,Il:wk,Jl:xk,Ml:Ek,Pl:Dk,Ll:Ck,Sl:Ak,Rl:"pointerover",Ql:"pointerout",Nl:"pointerenter",Ol:"pointerleave",Kl:Bk};function Gk(a,b,d,e,f,g,h,k){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;0===b&&0===d||yb(a,b,d);if(1!=e||1!=f){b=a[1]*e;d=a[2]*e;var l=a[3]*e,m=a[4]*f,p=a[5]*f,q=a[6]*f;f=a[7]*f;var r=1*a[8],w=1*a[9],u=1*a[10],y=1*a[11],B=a[12],C=a[13],D=a[14],z=a[15];a[0]*=e;a[1]=b;a[2]=d;a[3]=l;a[4]=m;a[5]=p;a[6]=q;a[7]=f;a[8]=r;a[9]=w;a[10]=u;a[11]=y;a[12]=B;a[13]=C;a[14]=D;a[15]=z}0!==g&&(e=a[0],b=a[1],d=a[2],l=a[3],m=a[4],p=a[5],q=a[6],
f=a[7],r=Math.cos(g),g=Math.sin(g),a[0]=e*r+m*g,a[1]=b*r+p*g,a[2]=d*r+q*g,a[3]=l*r+f*g,a[4]=e*-g+m*r,a[5]=b*-g+p*r,a[6]=d*-g+q*r,a[7]=l*-g+f*r);0===h&&0===k||yb(a,h,k);return a}function Hk(a,b,d){var e=a[1],f=a[5],g=a[13],h=b[0];b=b[1];d[0]=a[0]*h+a[4]*b+a[12];d[1]=e*h+f*b+g;return d};function Ik(a){ab.call(this);this.T=a}x(Ik,ab);Ik.prototype.j=Wa;function Jk(a,b,d){return function(e,f){return Rf(a,b,e,f,function(a){d[e]||(d[e]={});d[e][a.Ra.toString()]=a})}}Ik.prototype.la=function(){return this.T};Ik.prototype.Z=function(a){2===a.target.ea()&&Kk(this)};function Kk(a){var b=a.la();Qd(b)&&"ready"==b.ue()&&a.c()}function Lk(a,b){b.rg()&&a.Ad.push(pa(function(a,b,f){b=v(a).toString();a.sg(f.W.projection,f.Ze[b])},b))}
function Mk(a,b){if(b){var d,e,f;e=0;for(f=b.length;e<f;++e)d=b[e],a[v(d).toString()]=d}}function Nk(a,b){var d=b.za;void 0!==d&&("string"===typeof d?a.kc[d]="":ja(d)&&(a.kc[d.src]=d.href))}function Ok(a,b,d,e){b=v(b).toString();d=d.toString();b in a?d in a[b]?a[b][d].extend(e):a[b][d]=e:(a[b]={},a[b][d]=e)}function Pk(a,b,d){return[b*(Math.round(a[0]/b)+d[0]%2/2),b*(Math.round(a[1]/b)+d[1]%2/2)]}
function Qk(a,b,d,e,f,g,h,k){var l=v(b).toString();l in a.Sc||(a.Sc[l]={});var m=a.Sc[l];a=a.ml;var p=d.Ha,q,r,w,u,y,B;for(B=h;B>=p;--B)for(r=Df(d,g,B,r),w=d.X(B),u=r.b;u<=r.c;++u)for(y=r.f;y<=r.g;++y)h-B<=k?(q=Zf(b,B,u,y,e,f),0==q.ea()&&(m[q.Ra.toString()]=!0,q.Ec()in a.g||a.o([q,l,Mf(d,q.Ra),w]))):b.ah(B,u,y,f)};function Rk(a){a=a||{};this.i=void 0!==a.anchor?a.anchor:[.5,.5];this.f=null;this.b=void 0!==a.Ud?a.Ud:"top-left";this.o=void 0!==a.Vd?a.Vd:"fraction";this.s=void 0!==a.Wd?a.Wd:"fraction";var b=void 0!==a.crossOrigin?a.crossOrigin:null,d=void 0!==a.sj?a.sj:null,e=void 0!==a.tj?a.tj:null,f=a.src;void 0!==f&&0!==f.length||!d||(f=d.src||v(d).toString());var g=void 0!==a.src?0:2,h=void 0!==a.color?Ag(a.color):null,k=Sk.Qf(),l=k.get(f,b,h);l||(l=new Tk(d,f,e,b,g,h),k.set(f,b,h,l));this.c=l;this.R=void 0!==
a.offset?a.offset:[0,0];this.g=void 0!==a.mg?a.mg:"top-left";this.j=null;this.v=void 0!==a.size?a.size:null;Xg.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,nb:void 0!==a.nb?a.nb:!0,Nb:void 0!==a.Nb?a.Nb:!1})}x(Rk,Xg);n=Rk.prototype;
n.zc=function(){if(this.f)return this.f;var a=this.i,b=this.lb();if("fraction"==this.o||"fraction"==this.s){if(!b)return null;a=this.i.slice();"fraction"==this.o&&(a[0]*=b[0]);"fraction"==this.s&&(a[1]*=b[1])}if("top-left"!=this.b){if(!b)return null;a===this.i&&(a=this.i.slice());if("top-right"==this.b||"bottom-right"==this.b)a[0]=-a[0]+b[0];if("bottom-left"==this.b||"bottom-right"==this.b)a[1]=-a[1]+b[1]}return this.f=a};n.yd=function(){var a=this.c;return a.f?a.f:a.c};n.oe=function(){return this.c.b};
n.Fc=function(){return this.c.g};n.Ee=function(){var a=this.c;if(!a.o)if(a.u){var b=a.b[0],d=a.b[1],e=Re(b,d);e.fillRect(0,0,b,d);a.o=e.canvas}else a.o=a.c;return a.o};n.Ua=function(){if(this.j)return this.j;var a=this.R;if("top-left"!=this.g){var b=this.lb(),d=this.c.b;if(!b||!d)return null;a=a.slice();if("top-right"==this.g||"bottom-right"==this.g)a[0]=d[0]-b[0]-a[0];if("bottom-left"==this.g||"bottom-right"==this.g)a[1]=d[1]-b[1]-a[1]}return this.j=a};n.lb=function(){return this.v?this.v:this.c.b};
n.Ae=function(a,b){return I(this.c,"change",a,b)};n.load=function(){this.c.load()};n.Xe=function(a,b){Fa(this.c,"change",a,b)};function Tk(a,b,d,e,f,g){Ya.call(this);this.o=null;this.c=a?a:new Image;null!==e&&(this.c.crossOrigin=e);this.f=g?document.createElement("CANVAS"):null;this.j=g;this.i=null;this.g=f;this.b=d;this.s=b;this.u=!1;2==this.g&&Uk(this)}x(Tk,Ya);function Uk(a){var b=Re(1,1);try{b.drawImage(a.c,0,0),b.getImageData(0,0,1,1)}catch(d){a.u=!0}}
Tk.prototype.v=function(){this.g=3;this.i.forEach(H);this.i=null;M(this,"change")};
Tk.prototype.C=function(){this.g=2;this.b&&(this.c.width=this.b[0],this.c.height=this.b[1]);this.b=[this.c.width,this.c.height];this.i.forEach(H);this.i=null;Uk(this);if(!this.u&&null!==this.j){this.f.width=this.c.width;this.f.height=this.c.height;var a=this.f.getContext("2d");a.drawImage(this.c,0,0);for(var b=a.getImageData(0,0,this.c.width,this.c.height),d=b.data,e=this.j[0]/255,f=this.j[1]/255,g=this.j[2]/255,h=0,k=d.length;h<k;h+=4)d[h]*=e,d[h+1]*=f,d[h+2]*=g;a.putImageData(b,0,0)}M(this,"change")};
Tk.prototype.load=function(){if(0==this.g){this.g=1;this.i=[I(this.c,"error",this.v,this,!0),I(this.c,"load",this.C,this,!0)];try{this.c.src=this.s}catch(a){this.v()}}};function Sk(){this.c={};this.b=0}(function(){var a=Sk;a.Qf=function(){return a.dg?a.dg:a.dg=new a}})();Sk.prototype.clear=function(){this.c={};this.b=0};Sk.prototype.get=function(a,b,d){a=b+":"+a+":"+(d?Cg(d):"null");return a in this.c?this.c[a]:null};Sk.prototype.set=function(a,b,d,e){this.c[b+":"+a+":"+(d?Cg(d):"null")]=e;++this.b};function Vk(a,b){this.j=b;this.b={};this.f={}}x(Vk,Xa);Vk.prototype.ha=function(){for(var a in this.b)this.b[a].xa()};function Wk(){var a=Sk.Qf();if(32<a.b){var b=0,d,e;for(d in a.c)e=a.c[d],0!==(b++&3)||Za(e)||(delete a.c[d],--a.b)}}
function Xk(a,b,d,e){function f(a,b){var f=v(a).toString(),g=d.qd[v(b)].Be;if(!(f in d.Se)||g)return e.call(null,a,g?b:null)}var g,h=d.W,k=h.resolution,l=h.projection,h=b;if(l.b){var l=l.I(),m=Xb(l),p=b[0];if(p<l[0]||p>l[2])h=[p+m*Math.ceil((l[0]-p)/m),b[1]]}l=d.rd;for(m=l.length-1;0<=m;--m){var q=l[m],p=q.layer;if(q.visible&&k>=q.Ya&&k<q.jb&&sg.call(null)&&(q=Yk(a,p),p.K()&&(g=q.j(p.K().u?h:b,d,f,null)),g))return g}}
function Yk(a,b){var d=v(b).toString();if(d in a.b)return a.b[d];var e;e=b instanceof Xd?new Zk(b):b instanceof Yd?new $k(b):b instanceof xi?new al(b):null;a.b[d]=e;a.f[d]=I(e,"change",a.s,a);return e}Vk.prototype.s=function(){this.j.render()};Vk.prototype.o=Wa;Vk.prototype.v=function(a,b){for(var d in this.b)if(!(b&&d in b.qd)){var e=d,f=this.b[e];delete this.b[e];H(this.f[e]);delete this.f[e];f.xa()}};function sb(a,b){return a.zIndex-b.zIndex};function bl(a,b){this.u=a;this.j=b;this.c=[];this.b=[];this.g={}}bl.prototype.clear=function(){this.c.length=0;this.b.length=0;wa(this.g)};bl.prototype.o=function(a){var b=this.u(a);return Infinity!=b?(this.c.push(a),this.b.push(b),this.g[this.j(a)]=!0,cl(this,0,this.c.length-1),!0):!1};bl.prototype.eb=function(){return this.c.length};bl.prototype.Xa=function(){return 0===this.c.length};
function dl(a,b){for(var d=a.c,e=a.b,f=d.length,g=d[b],h=e[b],k=b;b<f>>1;){var l=2*b+1,m=2*b+2,l=m<f&&e[m]<e[l]?m:l;d[b]=d[l];e[b]=e[l];b=l}d[b]=g;e[b]=h;cl(a,k,b)}function cl(a,b,d){var e=a.c;a=a.b;for(var f=e[d],g=a[d];d>b;){var h=d-1>>1;if(a[h]>g)e[d]=e[h],a[d]=a[h],d=h;else break}e[d]=f;a[d]=g};function el(a,b){bl.call(this,function(b){return a.apply(null,b)},function(a){return a[0].Ec()});this.v=b;this.i=0;this.f={}}x(el,bl);el.prototype.o=function(a){var b=el.ca.o.call(this,a);b&&I(a[0],"change",this.s,this);return b};el.prototype.s=function(a){a=a.target;var b=a.ea();if(2===b||3===b||4===b||5===b)Fa(a,"change",this.s,this),a=a.Ec(),a in this.f&&(delete this.f[a],--this.i),this.v()};function fl(a){return function(b){if(b)return[zb(b[0],a[0],a[2]),zb(b[1],a[1],a[3])]}}function gl(a){return a};function hl(a){return function(b,d,e){if(void 0!==b)return b=mb(a,b,e),b=zb(b+d,0,a.length-1),a[b]}}function il(a,b,d){return function(e,f,g){if(void 0!==e)return e=Math.max(Math.floor(Math.log(b/e)/Math.log(a)+(0<g?0:0>g?1:.5))+f,0),void 0!==d&&(e=Math.min(e,d)),b/Math.pow(a,e)}};function jl(a){if(void 0!==a)return 0}function kl(a,b){if(void 0!==a)return a+b}function ll(a){var b=2*Math.PI/a;return function(a,e){if(void 0!==a)return a=Math.floor((a+e)/b+.5)*b}}function ml(){var a=Bb(5);return function(b,d){if(void 0!==b)return Math.abs(b+d)<=a?0:b+d}};function nl(a,b,d){this.center=a;this.resolution=b;this.rotation=d};function ol(a){cb.call(this);a=a||{};this.f=[0,0];var b={};b.center=void 0!==a.center?a.center:null;this.s=Fd(a.projection);var d,e,f,g=void 0!==a.Ha?a.Ha:0;d=void 0!==a.kb?a.kb:28;var h=void 0!==a.b?a.b:2;if(void 0!==a.Ia)d=a.Ia,e=d[0],f=d[d.length-1],d=hl(d);else{e=Fd(a.projection);f=e.I();var k=(f?Math.max(Xb(f),Yb(f)):360*qd.degrees/yd(e))/256/Math.pow(2,0),l=k/Math.pow(2,28);e=a.jb;void 0!==e?g=0:e=k/Math.pow(h,g);f=a.Ya;void 0===f&&(f=void 0!==a.kb?void 0!==a.jb?e/Math.pow(h,d):k/Math.pow(h,
d):l);d=g+Math.floor(Math.log(e/f)/Math.log(h));f=e/Math.pow(h,d-g);d=il(h,e,d-g)}this.i=e;this.o=f;this.j=g;g=void 0!==a.extent?fl(a.extent):gl;(void 0!==a.c?a.c:1)?(e=a.ee,e=void 0===e||!0===e?ml():!1===e?kl:ha(e)?ll(e):kl):e=jl;this.b=new nl(g,d,e);void 0!==a.resolution?b.resolution=a.resolution:void 0!==a.zoom&&(b.resolution=this.Fa(this.i,a.zoom-this.j));b.rotation=void 0!==a.rotation?a.rotation:0;this.wa(b)}x(ol,cb);n=ol.prototype;n.Fa=function(a,b,d){return this.b.resolution(a,b||0,d||0)};
n.ee=function(a,b){return this.b.rotation(a,b||0)};function pl(a){return a.get("center")}n.Y=function(){return this.s};n.X=function(){return this.get("resolution")};function ql(a,b){return Math.max(Xb(a)/b[0],Yb(a)/b[1])}function rl(a){return a.get("rotation")}n.ea=function(){var a=pl(this),b=this.Y(),d=this.X(),e=rl(this);return{center:[Math.round(a[0]/d)*d,Math.round(a[1]/d)*d],projection:void 0!==b?b:null,resolution:d,rotation:e}};
function sl(a){var b,d=a.X();if(void 0!==d){var e,f=0;do{e=a.Fa(a.i,f);if(e==d){b=f;break}++f}while(e>a.o)}return void 0!==b?a.j+b:b}
function tl(a,b,d,e){if(!(b instanceof yh)){var f=b[0],g=b[1],h=b[2],k=b[3],f=[f,g,f,k,h,k,h,g,f,g],g=new ai(null);g.M("XY",f,[f.length]);b=g}f=e||{};e=void 0!==f.padding?f.padding:[0,0,0,0];var k=void 0!==f.Fa?f.Fa:!0,g=void 0!==f.Tj?f.Tj:!1,l;void 0!==f.Ya?l=f.Ya:void 0!==f.kb?l=a.Fa(a.i,f.kb-a.j,0):l=0;var m=b.B,h=rl(a),f=Math.cos(-h),h=Math.sin(-h),p=Infinity,q=Infinity,r=-Infinity,w=-Infinity;b=b.F;for(var u=0,y=m.length;u<y;u+=b)var B=m[u]*f-m[u+1]*h,C=m[u]*h+m[u+1]*f,p=Math.min(p,B),q=Math.min(q,
C),r=Math.max(r,B),w=Math.max(w,C);d=ql([p,q,r,w],[d[0]-e[1]-e[3],d[1]-e[0]-e[2]]);d=isNaN(d)?l:Math.max(d,l);k&&(l=a.Fa(d,0,0),!g&&l<d&&(l=a.Fa(l,-1,0)),d=l);ul(a,d);h=-h;l=(p+r)/2+(e[1]-e[3])/2*d;d=(q+w)/2+(e[0]-e[2])/2*d;vl(a,[l*f-d*h,d*f+l*h])}n.rotate=function(a,b){if(void 0!==b){var d,e=pl(this);void 0!==e&&(d=[e[0]-b[0],e[1]-b[1]],Gb(d,a-rl(this)),Db(d,b));vl(this,d)}this.set("rotation",a)};function vl(a,b){a.set("center",b)}function wl(a,b){a.f[1]+=b}
function ul(a,b){a.set("resolution",b)}function xl(a,b){var d=a.Fa(a.i,b-a.j,0);ul(a,d)};function yl(a){cb.call(this);this.element=a.element?a.element:null;this.j=this.C=null;this.o=[];this.render=a.render?a.render:Wa;a.target&&(this.C=aj(a.target))}x(yl,cb);yl.prototype.ha=function(){kj(this.element);yl.ca.ha.call(this)};yl.prototype.setMap=function(a){this.j&&kj(this.element);for(var b=0,d=this.o.length;b<d;++b)H(this.o[b]);this.o.length=0;if(this.j=a)(this.C?this.C:a.u).appendChild(this.element),this.render!==Wa&&this.o.push(I(a,"postrender",this.render,this)),a.render()};function zl(a){a=a?a:{};this.D=document.createElement("UL");this.s=document.createElement("LI");this.D.appendChild(this.s);yj(this.s,!1);this.i=void 0!==a.collapsed?a.collapsed:!0;this.u=void 0!==a.Nh?a.Nh:!0;this.u||(this.i=!1);var b=void 0!==a.className?a.className:"ol-attribution",d=void 0!==a.Ue?a.Ue:"Attributions",e=void 0!==a.Mh?a.Mh:"\u00bb";this.G="string"===typeof e?gj("SPAN",{},e):e;e=void 0!==a.label?a.label:"i";this.N="string"===typeof e?gj("SPAN",{},e):e;d=gj("BUTTON",{type:"button",
title:d},this.u&&!this.i?this.G:this.N);I(d,"click",this.Z,this);b=gj("DIV",b+" ol-unselectable ol-control"+(this.i&&this.u?" ol-collapsed":"")+(this.u?"":" ol-uncollapsible"),this.D,d);yl.call(this,{element:b,render:a.render?a.render:Al,target:a.target});this.v=!0;this.f={};this.b={};this.T={}}x(zl,yl);
function Al(a){if(a=a.frameState){var b,d,e,f,g,h,k,l,m,p,q,r=a.rd,w=va({},a.ka),u={},y=a.W.projection;d=0;for(b=r.length;d<b;d++)if(h=r[d].layer.K())if(p=v(h).toString(),m=h.ec())for(e=0,f=m.length;e<f;e++)if(k=m[e],l=v(k).toString(),!(l in w)){if(g=a.Ze[p]){var B=h.pb(y);a:{q=k;var C=y;if(q.c){var D=void 0,z=void 0,N=void 0,U=void 0;for(U in g)if(U in q.c)for(var N=g[U],T,D=0,z=q.c[U].length;D<z;++D){T=q.c[U][D];if(ld(T,N)){q=!0;break a}var J=Df(B,Pf(C),parseInt(U,10)),ca=J.c-J.b+1;if(N.b<J.b||
N.c>J.c)if(ld(T,new jd(Cb(N.b,ca),Cb(N.c,ca),N.f,N.g))||N.c-N.b+1>ca&&ld(T,J)){q=!0;break a}}q=!1}else q=!0}}else q=!1;q?(l in u&&delete u[l],w[l]=k):u[l]=k}b=[w,u];d=b[0];b=b[1];for(var L in this.f)L in d?(this.b[L]||(yj(this.f[L],!0),this.b[L]=!0),delete d[L]):L in b?(this.b[L]&&(yj(this.f[L],!1),delete this.b[L]),delete b[L]):(kj(this.f[L]),delete this.f[L],delete this.b[L]);for(L in d)e=document.createElement("LI"),e.innerHTML=d[L].b,this.D.appendChild(e),this.f[L]=e,this.b[L]=!0;for(L in b)e=
document.createElement("LI"),e.innerHTML=b[L].b,yj(e,!1),this.D.appendChild(e),this.f[L]=e;L=!ya(this.b)||!ya(a.kc);this.v!=L&&(yj(this.element,L),this.v=L);L&&ya(this.b)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var R;a=a.kc;L=this.T;for(R in L)R in a||(kj(L[R]),delete L[R]);for(var P in a)P in L||(R=new Image,R.src=P,d=a[P],""===d?d=R:(d=gj("A",{href:d}),d.appendChild(R)),this.s.appendChild(d),L[P]=d);yj(this.s,!ya(a))}else this.v&&(yj(this.element,
!1),this.v=!1)}zl.prototype.Z=function(a){a.preventDefault();this.element.classList.toggle("ol-collapsed");if(this.i){a=this.N;var b=a.parentNode;b&&b.replaceChild(this.G,a)}else a=this.G,(b=a.parentNode)&&b.replaceChild(this.N,a);this.i=!this.i};function Bl(a){return 1-Math.pow(1-a,3)}function Cl(a){return 3*a*a-2*a*a*a}function Dl(a){return a};function El(a){var b=a.source,d=a.start?a.start:Date.now(),e=b[0],f=b[1],g=void 0!==a.duration?a.duration:1E3,h=a.ya?a.ya:Cl;return function(a,b){if(b.time<d)return b.animate=!0,b.sa[0]+=1,!0;if(b.time<d+g){var m=1-h((b.time-d)/g),p=e-b.W.center[0],q=f-b.W.center[1];b.animate=!0;b.W.center[0]+=m*p;b.W.center[1]+=m*q;b.sa[0]+=1;return!0}return!1}}
function Fl(a){var b=a.rotation?a.rotation:0,d=a.start?a.start:Date.now(),e=void 0!==a.duration?a.duration:1E3,f=a.ya?a.ya:Cl,g=a.anchor?a.anchor:null;return function(a,k){if(k.time<d)return k.animate=!0,k.sa[0]+=1,!0;if(k.time<d+e){var l=1-f((k.time-d)/e),l=(b-k.W.rotation)*l;k.animate=!0;k.W.rotation+=l;if(g){var m=k.W.center;m[0]-=g[0];m[1]-=g[1];Gb(m,l);Db(m,g)}k.sa[0]+=1;return!0}return!1}}
function Gl(a){var b=a.resolution,d=a.start?a.start:Date.now(),e=void 0!==a.duration?a.duration:1E3,f=a.ya?a.ya:Cl;return function(a,h){if(h.time<d)return h.animate=!0,h.sa[0]+=1,!0;if(h.time<d+e){var k=1-f((h.time-d)/e),l=b-h.W.resolution;h.animate=!0;h.W.resolution+=k*l;h.sa[0]+=1;return!0}return!1}};function Hl(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",d=void 0!==a.label?a.label:"\u21e7";this.b=null;"string"===typeof d?this.b=gj("SPAN","ol-compass",d):(this.b=d,this.b.classList.add(this.b,"ol-compass"));d=gj("BUTTON",{"class":b+"-reset",type:"button",title:a.Ue?a.Ue:"Reset rotation"},this.b);I(d,"click",Hl.prototype.v,this);b=gj("DIV",b+" ol-unselectable ol-control",d);d=a.render?a.render:Il;this.i=a.bl?a.bl:void 0;yl.call(this,{element:b,render:d,target:a.target});this.s=
void 0!==a.duration?a.duration:250;this.f=void 0!==a.Gh?a.Gh:!0;this.u=void 0;this.f&&this.element.classList.add("ol-hidden")}x(Hl,yl);Hl.prototype.v=function(a){a.preventDefault();if(void 0!==this.i)this.i();else{a=this.j;var b=Y(a);if(b){var d=rl(b);void 0!==d&&(0<this.s&&(d%=2*Math.PI,d<-Math.PI&&(d+=2*Math.PI),d>Math.PI&&(d-=2*Math.PI),a.Ka(Fl({rotation:d,duration:this.s,ya:Bl}))),b.set("rotation",0))}}};
function Il(a){if(a=a.frameState){a=a.W.rotation;if(a!=this.u){var b="rotate("+a+"rad)";if(this.f){var d=this.element.classList.contains("ol-hidden");d||0!==a?d&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.b.style.msTransform=b;this.b.style.webkitTransform=b;this.b.style.transform=b}this.u=a}};function Jl(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",d=void 0!==a.yb?a.yb:1,e=void 0!==a.El?a.El:"\u2212",f=void 0!==a.Fl?a.Fl:"Zoom out",g=gj("BUTTON",{"class":b+"-in",type:"button",title:void 0!==a.Dl?a.Dl:"Zoom in"},void 0!==a.Cl?a.Cl:"+");I(g,"click",pa(Jl.prototype.f,d),this);e=gj("BUTTON",{"class":b+"-out",type:"button",title:f},e);I(e,"click",pa(Jl.prototype.f,-d),this);b=gj("DIV",b+" ol-unselectable ol-control",g,e);yl.call(this,{element:b,target:a.target});this.b=void 0!==
a.duration?a.duration:250}x(Jl,yl);Jl.prototype.f=function(a,b){b.preventDefault();var d=this.j,e=Y(d);if(e){var f=e.X();f&&(0<this.b&&d.Ka(Gl({resolution:f,duration:this.b,ya:Bl})),d=e.Fa(f,a),ul(e,d))}};function Kl(){this.c=[];this.b=this.g=0}function Ll(a,b){var d=a.b,e=.05-d,f=Math.log(.05/a.b)/-.005;return El({source:b,duration:f,ya:function(a){return d*(Math.exp(-.005*a*f)-1)/e}})};function Ml(a){cb.call(this);this.f=null;this.setActive(!0);this.handleEvent=a.handleEvent}x(Ml,cb);Ml.prototype.getActive=function(){return this.get("active")};Ml.prototype.setActive=function(a){this.set("active",a)};Ml.prototype.setMap=function(a){this.f=a};function Nl(a,b,d,e,f){if(void 0!==d){var g=rl(b),h=pl(b);void 0!==g&&h&&f&&0<f&&(a.Ka(Fl({rotation:g,duration:f,ya:Bl})),e&&a.Ka(El({source:h,duration:f,ya:Bl})));b.rotate(d,e)}}
function Ol(a,b,d,e,f){var g=b.X();d=b.Fa(g,d,0);Pl(a,b,d,e,f)}function Pl(a,b,d,e,f){if(d){var g=b.X(),h=pl(b);void 0!==g&&h&&d!==g&&f&&0<f&&(a.Ka(Gl({resolution:g,duration:f,ya:Bl})),e&&a.Ka(El({source:h,duration:f,ya:Bl})));if(e){var k;a=pl(b);f=b.X();void 0!==a&&void 0!==f&&(k=[e[0]-d*(e[0]-a[0])/f,e[1]-d*(e[1]-a[1])/f]);vl(b,k)}ul(b,d)}};function Ql(a){a=a?a:{};this.b=a.yb?a.yb:1;Ml.call(this,{handleEvent:Rl});this.i=void 0!==a.duration?a.duration:250}x(Ql,Ml);function Rl(a){var b=!1,d=a.originalEvent;if(a.type==xk){var b=a.map,e=a.coordinate,d=d.shiftKey?-this.b:this.b,f=Y(b);Ol(b,f,d,e,this.i);a.preventDefault();b=!0}return!b};function Sl(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Tl(a){a=a.originalEvent;return 0==a.button&&!(Ge&&Jg&&a.ctrlKey)}function Ul(a){return a.type==yk}function Vl(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function Wl(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Xl(a){a=a.originalEvent.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}
function Yl(a){return"mouse"==a.c.pointerType};function Zl(a){a=a?a:{};Ml.call(this,{handleEvent:a.handleEvent?a.handleEvent:$l});this.ob=a.hb?a.hb:tg;this.Vb=a.Gb?a.Gb:Wa;this.Wb=a.Wi?a.Wi:Wa;this.qc=a.ib?a.ib:tg;this.C=!1;this.Z={};this.j=[]}x(Zl,Ml);function am(a){for(var b=a.length,d=0,e=0,f=0;f<b;f++)d+=a[f].clientX,e+=a[f].clientY;return[d/b,e/b]}
function $l(a){if(!(a instanceof tk))return!0;var b=!1,d=a.type;if(d===Ck||d===Ek||d===Ak)d=a.c,a.type==Ak?delete this.Z[d.pointerId]:a.type==Ck?this.Z[d.pointerId]=d:d.pointerId in this.Z&&(this.Z[d.pointerId]=d),this.j=xa(this.Z);this.C&&(a.type==Ek?this.Vb(a):a.type==Ak&&(this.C=this.qc(a)));a.type==Ck?(this.C=a=this.ob(a),b=this.Pb(a)):a.type==Dk&&this.Wb(a);return!b}Zl.prototype.Pb=function(a){return a};function bm(a){Zl.call(this,{hb:cm,Gb:dm,ib:em});a=a?a:{};this.b=a.zj;this.i=this.o=null;this.u=a.Aa?a.Aa:Vl;this.s=!1}x(bm,Zl);function dm(a){var b=am(this.j);this.b&&this.b.c.push(b[0],b[1],Date.now());if(this.i){var d=this.i[0]-b[0],e=b[1]-this.i[1];a=a.map;var f=Y(a),g=f.ea(),e=d=[d,e],h=g.resolution;e[0]*=h;e[1]*=h;Gb(d,g.rotation);Db(d,g.center);d=f.b.center(d);a.render();vl(f,d)}this.i=b}
function em(a){a=a.map;var b=Y(a);if(0===this.j.length){var d;if(d=!this.s&&this.b)if(d=this.b,6>d.c.length)d=!1;else{var e=Date.now()-100,f=d.c.length-3;if(d.c[f+2]<e)d=!1;else{for(var g=f-3;0<g&&d.c[g+2]>e;)g-=3;var e=d.c[f+2]-d.c[g+2],h=d.c[f]-d.c[g],f=d.c[f+1]-d.c[g+1];d.g=Math.atan2(f,h);d.b=Math.sqrt(h*h+f*f)/e;d=.05<d.b}}d&&(d=(.05-this.b.b)/-.005,f=this.b.g,g=pl(b),this.o=Ll(this.b,g),a.Ka(this.o),g=fm(a,g),d=a.Ta([g[0]-d*Math.cos(f),g[1]-d*Math.sin(f)]),d=b.b.center(d),vl(b,d));wl(b,-1);
a.render();return!1}this.i=null;return!0}function cm(a){if(0<this.j.length&&this.u(a)){var b=a.map,d=Y(b);this.i=null;this.C||wl(d,1);b.render();this.o&&ob(b.G,this.o)&&(vl(d,a.frameState.W.center),this.o=null);this.b&&(a=this.b,a.c.length=0,a.g=0,a.b=0);this.s=1<this.j.length;return!0}return!1}bm.prototype.Pb=tg;function gm(a){a=a?a:{};Zl.call(this,{hb:hm,Gb:im,ib:jm});this.i=a.Aa?a.Aa:Sl;this.b=void 0;this.o=void 0!==a.duration?a.duration:250}x(gm,Zl);function im(a){if(Yl(a)){var b=a.map,d=km(b);a=a.pixel;d=Math.atan2(d[1]/2-a[1],a[0]-d[0]/2);if(void 0!==this.b){a=d-this.b;var e=Y(b),f=rl(e);b.render();Nl(b,e,f-a)}this.b=d}}function jm(a){if(!Yl(a))return!0;a=a.map;var b=Y(a);wl(b,-1);var d=rl(b),e=this.o,d=b.ee(d,0);Nl(a,b,d,void 0,e);return!1}
function hm(a){return Yl(a)&&Tl(a)&&this.i(a)?(a=a.map,wl(Y(a),1),a.render(),this.b=void 0,!0):!1}gm.prototype.Pb=tg;function lm(a){this.f=null;this.b=document.createElement("div");this.b.style.position="absolute";this.b.className="ol-box "+a;this.g=this.i=this.c=null}x(lm,Xa);lm.prototype.ha=function(){this.setMap(null)};function mm(a){var b=a.i,d=a.g;a=a.b.style;a.left=Math.min(b[0],d[0])+"px";a.top=Math.min(b[1],d[1])+"px";a.width=Math.abs(d[0]-b[0])+"px";a.height=Math.abs(d[1]-b[1])+"px"}
lm.prototype.setMap=function(a){if(this.c){this.c.v.removeChild(this.b);var b=this.b.style;b.left=b.top=b.width=b.height="inherit"}(this.c=a)&&this.c.v.appendChild(this.b)};function nm(a){var b=a.i,d=a.g,b=[b,[b[0],d[1]],d,[d[0],b[1]]].map(a.c.Ta,a.c);b[4]=b[0].slice();a.f?a.f.ba([b]):a.f=new ai([b])}lm.prototype.H=function(){return this.f};function om(a,b,d){ta.call(this,a);this.coordinate=b;this.mapBrowserEvent=d}x(om,ta);function pm(a){Zl.call(this,{hb:qm,Gb:rm,ib:sm});a=a?a:{};this.b=new lm(a.className||"ol-dragbox");this.i=null;this.v=a.Aa?a.Aa:sg;this.u=a.Jh?a.Jh:tm}x(pm,Zl);function tm(a,b,d){a=d[0]-b[0];b=d[1]-b[1];return 64<=a*a+b*b}function rm(a){if(Yl(a)){var b=this.b,d=a.pixel;b.i=this.i;b.g=d;nm(b);mm(b);M(this,new om("boxdrag",a.coordinate,a))}}pm.prototype.H=function(){return this.b.H()};pm.prototype.s=Wa;
function sm(a){if(!Yl(a))return!0;this.b.setMap(null);this.u(a,this.i,a.pixel)&&(this.s(a),M(this,new om("boxend",a.coordinate,a)));return!1}function qm(a){if(Yl(a)&&Tl(a)&&this.v(a)){this.i=a.pixel;this.b.setMap(a.map);var b=this.b,d=this.i;b.i=this.i;b.g=d;nm(b);mm(b);M(this,new om("boxstart",a.coordinate,a));return!0}return!1};function um(a){a=a?a:{};var b=a.Aa?a.Aa:Wl;this.o=void 0!==a.duration?a.duration:200;this.D=void 0!==a.out?a.out:!1;pm.call(this,{Aa:b,className:a.className||"ol-dragzoom"})}x(um,pm);
um.prototype.s=function(){var a=this.f,b=Y(a),d=km(a),e=this.H().I();if(this.D){var f;f=pl(b);var g=b.X(),h=rl(b);f=ac(f,g,h,d);var e=[fm(a,Zb(e)),fm(a,[e[2],e[3]])],g=Rb(void 0),k,h=0;for(k=e.length;h<k;++h)Lb(g,e[h]);g=1/ql(g,d);e=(f[2]-f[0])/2*(g-1);g=(f[3]-f[1])/2*(g-1);f[0]-=e;f[2]+=e;f[1]-=g;f[3]+=g;e=f}d=b.Fa(ql(e,d));f=b.X();g=pl(b);a.Ka(Gl({resolution:f,duration:this.o,ya:Bl}));a.Ka(El({source:g,duration:this.o,ya:Bl}));vl(b,$b(e));ul(b,d)};function vm(a){Ml.call(this,{handleEvent:wm});a=a||{};this.b=function(a){return Vl.call(this,a)&&Xl.call(this,a)};this.i=void 0!==a.Aa?a.Aa:this.b;this.j=void 0!==a.duration?a.duration:100;this.o=void 0!==a.Dk?a.Dk:128}x(vm,Ml);
function wm(a){var b=!1;if("keydown"==a.type){var d=a.originalEvent.keyCode;if(this.i(a)&&(40==d||37==d||39==d||38==d)){var e=a.map,b=Y(e),f=b.X()*this.o,g=0,h=0;40==d?h=-f:37==d?g=-f:39==d?g=f:h=f;d=[g,h];Gb(d,rl(b));f=this.j;if(g=pl(b))f&&0<f&&e.Ka(El({source:g,duration:f,ya:Dl})),e=b.b.center([g[0]+d[0],g[1]+d[1]]),vl(b,e);a.preventDefault();b=!0}}return!b};function xm(a){Ml.call(this,{handleEvent:ym});a=a?a:{};this.i=a.Aa?a.Aa:Xl;this.b=a.yb?a.yb:1;this.j=void 0!==a.duration?a.duration:100}x(xm,Ml);function ym(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var d=a.originalEvent.charCode;if(this.i(a)&&(43==d||45==d)){b=a.map;d=43==d?this.b:-this.b;b.render();var e=Y(b);Ol(b,e,d,void 0,this.j);a.preventDefault();b=!0}}return!b};function zm(a){Ml.call(this,{handleEvent:Am});a=a||{};this.b=0;this.u=void 0!==a.duration?a.duration:250;this.v=void 0!==a.zl?a.zl:!0;this.j=null;this.o=this.i=void 0}x(zm,Ml);
function Am(a){var b=!1;if("wheel"==a.type||"mousewheel"==a.type){var b=a.map,d=a.originalEvent;this.v&&(this.j=a.coordinate);var e;"wheel"==a.type?(e=d.deltaY,Hg&&d.deltaMode===t.WheelEvent.DOM_DELTA_PIXEL&&(e/=Kg),d.deltaMode===t.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"==a.type&&(e=-d.wheelDeltaY,Ig&&(e/=3));this.b+=e;void 0===this.i&&(this.i=Date.now());e=Math.max(80-(Date.now()-this.i),0);t.clearTimeout(this.o);this.o=t.setTimeout(this.s.bind(this,b),e);a.preventDefault();b=!0}return!b}
zm.prototype.s=function(a){var b=zb(this.b,-1,1),d=Y(a);a.render();Ol(a,d,-b,this.j,this.u);this.b=0;this.j=null;this.o=this.i=void 0};function Bm(a){Zl.call(this,{hb:Cm,Gb:Dm,ib:Em});a=a||{};this.i=null;this.o=void 0;this.b=!1;this.s=0;this.v=void 0!==a.threshold?a.threshold:.3;this.u=void 0!==a.duration?a.duration:250}x(Bm,Zl);
function Dm(a){var b=0,d=this.j[0],e=this.j[1],d=Math.atan2(e.clientY-d.clientY,e.clientX-d.clientX);void 0!==this.o&&(b=d-this.o,this.s+=b,!this.b&&Math.abs(this.s)>this.v&&(this.b=!0));this.o=d;a=a.map;d=a.b.getBoundingClientRect();e=am(this.j);e[0]-=d.left;e[1]-=d.top;this.i=a.Ta(e);this.b&&(d=Y(a),e=rl(d),a.render(),Nl(a,d,e+b,this.i))}function Em(a){if(2>this.j.length){a=a.map;var b=Y(a);wl(b,-1);if(this.b){var d=rl(b),e=this.i,f=this.u,d=b.ee(d,0);Nl(a,b,d,e,f)}return!1}return!0}
function Cm(a){return 2<=this.j.length?(a=a.map,this.i=null,this.o=void 0,this.b=!1,this.s=0,this.C||wl(Y(a),1),a.render(),!0):!1}Bm.prototype.Pb=tg;function Fm(a){Zl.call(this,{hb:Gm,Gb:Hm,ib:Im});a=a?a:{};this.i=null;this.s=void 0!==a.duration?a.duration:400;this.b=void 0;this.o=1}x(Fm,Zl);function Hm(a){var b=1,d=this.j[0],e=this.j[1],f=d.clientX-e.clientX,d=d.clientY-e.clientY,f=Math.sqrt(f*f+d*d);void 0!==this.b&&(b=this.b/f);this.b=f;1!=b&&(this.o=b);a=a.map;var f=Y(a),d=f.X(),e=a.b.getBoundingClientRect(),g=am(this.j);g[0]-=e.left;g[1]-=e.top;this.i=a.Ta(g);a.render();Pl(a,f,d*b,this.i)}
function Im(a){if(2>this.j.length){a=a.map;var b=Y(a);wl(b,-1);var d=b.X(),e=this.i,f=this.s,d=b.Fa(d,0,this.o-1);Pl(a,b,d,e,f);return!1}return!0}function Gm(a){return 2<=this.j.length?(a=a.map,this.i=null,this.b=void 0,this.o=1,this.C||wl(Y(a),1),a.render(),!0):!1}Fm.prototype.Pb=tg;function Jm(a){a=a?a:{};var b=new gb,d=new Kl;(void 0!==a.vf?a.vf:1)&&b.push(new gm);(void 0!==a.Yh?a.Yh:1)&&b.push(new Ql({yb:a.Bl,duration:a.Od}));(void 0!==a.Zh?a.Zh:1)&&b.push(new bm({zj:d}));(void 0!==a.Fe?a.Fe:1)&&b.push(new Bm);(void 0!==a.Ck?a.Ck:1)&&b.push(new Fm({duration:a.Od}));if(void 0!==a.yj?a.yj:1)b.push(new vm),b.push(new xm({yb:a.Bl,duration:a.Od}));(void 0!==a.Hj?a.Hj:1)&&b.push(new zm({duration:a.Od}));(void 0!==a.fl?a.fl:1)&&b.push(new um({duration:a.Od}));return b};function Km(a){rd.call(this,{code:a,units:"m",extent:Lm,global:!0,Al:Mm})}x(Km,rd);Km.prototype.Cb=function(a,b){return a/Ab(b[1]/6378137)};var Nm=6378137*Math.PI,Lm=[-Nm,-Nm,Nm,Nm],Mm=[-180,-85,180,85],Om="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new Km(a)});
function Pm(a,b,d){var e=a.length;d=1<d?d:2;void 0===b&&(2<d?b=a.slice():b=Array(e));for(var f=0;f<e;f+=d)b[f]=6378137*Math.PI*a[f]/180,b[f+1]=6378137*Math.log(Math.tan(Math.PI*(a[f+1]+90)/360));return b}function Qm(a,b,d){var e=a.length;d=1<d?d:2;void 0===b&&(2<d?b=a.slice():b=Array(e));for(var f=0;f<e;f+=d)b[f]=180*a[f]/(6378137*Math.PI),b[f+1]=360*Math.atan(Math.exp(a[f+1]/6378137))/Math.PI-90;return b};var Rm=new nd(6378137);function Sm(a,b){rd.call(this,{code:a,units:"degrees",extent:Tm,Yd:b,global:!0,ig:Um,Al:Tm})}x(Sm,rd);Sm.prototype.Cb=function(a){return a};var Tm=[-180,-90,180,90],Um=Math.PI*Rm.radius/180,Vm=[new Sm("CRS:84"),new Sm("EPSG:4326","neu"),new Sm("urn:ogc:def:crs:EPSG::4326","neu"),new Sm("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Sm("urn:ogc:def:crs:OGC:1.3:CRS84"),new Sm("urn:ogc:def:crs:OGC:2:84"),new Sm("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Sm("urn:x-ogc:def:crs:EPSG:4326","neu")];function Wm(a,b,d,e,f){this.f=a;this.S=b;this.o=d;this.G=e;this.qc=f;this.i=this.c=this.b=this.za=this.na=this.ga=null;this.Ea=this.tb=this.C=this.T=this.N=this.fa=0;this.ab=!1;this.j=this.bb=0;this.cb=!1;this.Z=0;this.g="";this.u=this.D=this.Vb=this.ob=0;this.da=this.v=this.s=null;this.R=[];this.Wb=wb()}x(Wm,Td);
function Xm(a,b,d){if(a.i){b=xh(b,0,d,2,a.G,a.R);d=a.f;var e=a.Wb,f=d.globalAlpha;1!=a.C&&(d.globalAlpha=f*a.C);var g=a.bb;a.ab&&(g+=a.qc);var h,k;h=0;for(k=b.length;h<k;h+=2){var l=b[h]-a.fa,m=b[h+1]-a.N;a.cb&&(l=Math.round(l),m=Math.round(m));if(0!==g||1!=a.j){var p=l+a.fa,q=m+a.N;Gk(e,p,q,a.j,a.j,g,-p,-q);d.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])}d.drawImage(a.i,a.tb,a.Ea,a.Z,a.T,l,m,a.Z,a.T)}0===g&&1==a.j||d.setTransform(1,0,0,1,0,0);1!=a.C&&(d.globalAlpha=f)}}
function Ym(a,b,d,e){var f=0;if(a.da&&""!==a.g){a.s&&Zm(a,a.s);a.v&&$m(a,a.v);var g=a.da,h=a.f,k=a.za;k?(k.font!=g.font&&(k.font=h.font=g.font),k.textAlign!=g.textAlign&&(k.textAlign=h.textAlign=g.textAlign),k.textBaseline!=g.textBaseline&&(k.textBaseline=h.textBaseline=g.textBaseline)):(h.font=g.font,h.textAlign=g.textAlign,h.textBaseline=g.textBaseline,a.za={font:g.font,textAlign:g.textAlign,textBaseline:g.textBaseline});b=xh(b,f,d,e,a.G,a.R);for(g=a.f;f<d;f+=e){h=b[f]+a.ob;k=b[f+1]+a.Vb;if(0!==
a.D||1!=a.u){var l=Gk(a.Wb,h,k,a.u,a.u,a.D,-h,-k);g.setTransform(l[0],l[1],l[4],l[5],l[12],l[13])}a.v&&g.strokeText(a.g,h,k);a.s&&g.fillText(a.g,h,k)}0===a.D&&1==a.u||g.setTransform(1,0,0,1,0,0)}}function an(a,b,d,e,f,g){var h=a.f;a=xh(b,d,e,f,a.G,a.R);h.moveTo(a[0],a[1]);b=a.length;g&&(b-=2);for(d=2;d<b;d+=2)h.lineTo(a[d],a[d+1]);g&&h.closePath();return e}function bn(a,b,d,e,f){var g,h;g=0;for(h=e.length;g<h;++g)d=an(a,b,d,e[g],f,!0);return d}n=Wm.prototype;
n.Gf=function(a){if(cc(this.o,a.I())){if(this.b||this.c){this.b&&Zm(this,this.b);this.c&&$m(this,this.c);var b;b=this.G;var d=this.R,e=a.B;b=e?xh(e,0,e.length,a.F,b,d):null;d=b[2]-b[0];e=b[3]-b[1];d=Math.sqrt(d*d+e*e);e=this.f;e.beginPath();e.arc(b[0],b[1],d,0,2*Math.PI);this.b&&e.fill();this.c&&e.stroke()}""!==this.g&&Ym(this,a.B.slice(0,a.F),2,2)}};n.ja=function(a){this.sb(a.g,a.b);this.Id(a.f);this.mb(a.ta())};
n.drawPoint=function(a){var b=a.B;a=a.F;this.i&&Xm(this,b,b.length);""!==this.g&&Ym(this,b,b.length,a)};n.Jf=function(a){var b=a.B;a=a.F;this.i&&Xm(this,b,b.length);""!==this.g&&Ym(this,b,b.length,a)};n.Hf=function(a){if(cc(this.o,a.I())){if(this.c){$m(this,this.c);var b=this.f,d=a.B;b.beginPath();an(this,d,0,d.length,a.F,!1);b.stroke()}""!==this.g&&(a=Nh(a),Ym(this,a,2,2))}};
n.If=function(a){var b=a.I();if(cc(this.o,b)){if(this.c){$m(this,this.c);var b=this.f,d=a.B,e=0,f=a.fb(),g=a.F;b.beginPath();var h,k;h=0;for(k=f.length;h<k;++h)e=an(this,d,e,f[h],g,!1);b.stroke()}""!==this.g&&(a=Sh(a),Ym(this,a,a.length,2))}};n.Lf=function(a){if(cc(this.o,a.I())){if(this.c||this.b){this.b&&Zm(this,this.b);this.c&&$m(this,this.c);var b=this.f;b.beginPath();bn(this,bi(a),0,a.fb(),a.F);this.b&&b.fill();this.c&&b.stroke()}""!==this.g&&(a=ci(a),Ym(this,a,2,2))}};
n.Kf=function(a){if(cc(this.o,a.I())){if(this.c||this.b){this.b&&Zm(this,this.b);this.c&&$m(this,this.c);var b=this.f,d=gi(a),e=0,f=a.b,g=a.F,h,k;h=0;for(k=f.length;h<k;++h){var l=f[h];b.beginPath();e=bn(this,d,e,l,g);this.b&&b.fill();this.c&&b.stroke()}}""!==this.g&&(a=hi(a),Ym(this,a,a.length,2))}};function Zm(a,b){var d=a.f,e=a.ga;e?e.fillStyle!=b.fillStyle&&(e.fillStyle=d.fillStyle=b.fillStyle):(d.fillStyle=b.fillStyle,a.ga={fillStyle:b.fillStyle})}
function $m(a,b){var d=a.f,e=a.na;e?(e.lineCap!=b.lineCap&&(e.lineCap=d.lineCap=b.lineCap),Lg&&!qb(e.O,b.O)&&d.setLineDash(e.O=b.O),e.lineJoin!=b.lineJoin&&(e.lineJoin=d.lineJoin=b.lineJoin),e.lineWidth!=b.lineWidth&&(e.lineWidth=d.lineWidth=b.lineWidth),e.miterLimit!=b.miterLimit&&(e.miterLimit=d.miterLimit=b.miterLimit),e.strokeStyle!=b.strokeStyle&&(e.strokeStyle=d.strokeStyle=b.strokeStyle)):(d.lineCap=b.lineCap,Lg&&d.setLineDash(b.O),d.lineJoin=b.lineJoin,d.lineWidth=b.lineWidth,d.miterLimit=
b.miterLimit,d.strokeStyle=b.strokeStyle,a.na={lineCap:b.lineCap,O:b.O,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}n.sb=function(a,b){if(a){var d=a.c;this.b={fillStyle:Fg(d?d:Rg)}}else this.b=null;if(b){var d=b.c,e=b.f,f=b.g,g=b.i,h=b.b,k=b.j;this.c={lineCap:void 0!==e?e:"round",O:f?f:Sg,lineJoin:void 0!==g?g:"round",lineWidth:this.S*(void 0!==h?h:1),miterLimit:void 0!==k?k:10,strokeStyle:Cg(d?d:Tg)}}else this.c=null};
n.Id=function(a){if(a){var b=a.zc(),d=a.yd(1),e=a.Ua(),f=a.lb();this.fa=b[0];this.N=b[1];this.T=f[1];this.i=d;this.C=a.C;this.tb=e[0];this.Ea=e[1];this.ab=a.S;this.bb=a.u;this.j=a.Ma();this.cb=a.D;this.Z=f[0]}else this.i=null};
n.mb=function(a){if(a){var b=a.c;b?(b=b.c,this.s={fillStyle:Fg(b?b:Rg)}):this.s=null;var d=a.j;if(d){var b=d.c,e=d.f,f=d.g,g=d.i,h=d.b,d=d.j;this.v={lineCap:void 0!==e?e:"round",O:f?f:Sg,lineJoin:void 0!==g?g:"round",lineWidth:void 0!==h?h:1,miterLimit:void 0!==d?d:10,strokeStyle:Cg(b?b:Tg)}}else this.v=null;var b=a.b,e=a.g,f=a.f,g=a.i,h=a.Ma(),d=a.ta(),k=a.o;a=a.s;this.da={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==k?k:"center",textBaseline:void 0!==a?a:"middle"};this.g=void 0!==d?d:
"";this.ob=void 0!==e?this.S*e:0;this.Vb=void 0!==f?this.S*f:0;this.D=void 0!==g?g:0;this.u=this.S*(void 0!==h?h:1)}else this.g=""};function cn(a){Ik.call(this,a);this.da=wb()}x(cn,Ik);
cn.prototype.o=function(a,b,d){dn(this,"precompose",d,a,void 0);var e=this.b?this.b.wd():null;if(e){var f=b.extent,g=void 0!==f;if(g){var h=a.va,k=a.size[0]*h,l=a.size[1]*h,m=a.W.rotation,p=[f[0],f[3]],q=[f[2],f[3]],r=[f[2],f[1]],f=Zb(f);Hk(a.ac,p,p);Hk(a.ac,q,q);Hk(a.ac,r,r);Hk(a.ac,f,f);d.save();Ug(d,-m,k/2,l/2);d.beginPath();d.moveTo(p[0]*h,p[1]*h);d.lineTo(q[0]*h,q[1]*h);d.lineTo(r[0]*h,r[1]*h);d.lineTo(f[0]*h,f[1]*h);d.clip();Ug(d,m,k/2,l/2)}h=this.v;k=d.globalAlpha;d.globalAlpha=b.opacity;d.drawImage(e,
0,0,+e.width,+e.height,Math.round(h[12]),Math.round(h[13]),Math.round(e.width*h[0]),Math.round(e.height*h[5]));d.globalAlpha=k;g&&d.restore()}dn(this,"postcompose",d,a,void 0)};function dn(a,b,d,e,f){var g=a.la();if(Za(g,b)){var h=e.size[0]*e.va,k=e.size[1]*e.va,l=e.W.rotation;Ug(d,-l,h/2,k/2);a=void 0!==f?f:en(a,e,0);a=new Wm(d,e.va,e.extent,a,e.W.rotation);M(g,new Ud(b,g,a,e,d,null));Ug(d,l,h/2,k/2)}}
function en(a,b,d){var e=b.W,f=b.va;return Gk(a.da,f*b.size[0]/2,f*b.size[1]/2,f/e.resolution,-f/e.resolution,-e.rotation,-e.center[0]+d,-e.center[1])};var fn=["Polygon","LineString","Image","Text"];function gn(a,b,d){this.Ea=a;this.da=b;this.f=null;this.i=0;this.resolution=d;this.T=this.N=null;this.b=[];this.coordinates=[];this.na=wb();this.c=[];this.ga=[];this.za=wb();this.tb=wb()}x(gn,Td);
function hn(a,b,d,e,f){var g=a.coordinates.length,h=a.me(),k=[b[d],b[d+1]],l=[NaN,NaN],m=!0,p,q,r;for(p=d+f;p<e;p+=f){l[0]=b[p];l[1]=b[p+1];r=h[1];var w=h[2],u=h[3],y=l[0],B=l[1],C=0;y<h[0]?C=C|16:y>w&&(C=C|4);B<r?C|=8:B>u&&(C|=2);0===C&&(C=1);r=C;r!==q?(m&&(a.coordinates[g++]=k[0],a.coordinates[g++]=k[1]),a.coordinates[g++]=l[0],a.coordinates[g++]=l[1],m=!1):1===r?(a.coordinates[g++]=l[0],a.coordinates[g++]=l[1],m=!1):m=!0;k[0]=l[0];k[1]=l[1];q=r}p===d+f&&(a.coordinates[g++]=k[0],a.coordinates[g++]=
k[1]);return g}function jn(a,b){a.N=[0,b,0];a.b.push(a.N);a.T=[0,b,0];a.c.push(a.T)}
function kn(a,b,d,e,f,g,h,k,l){var m;m=a.na;if(e[0]==m[0]&&e[1]==m[1]&&e[4]==m[4]&&e[5]==m[5]&&e[12]==m[12]&&e[13]==m[13])m=a.ga;else{m=xh(a.coordinates,0,a.coordinates.length,2,e,a.ga);var p=a.na;p[0]=e[0];p[1]=e[1];p[2]=e[2];p[3]=e[3];p[4]=e[4];p[5]=e[5];p[6]=e[6];p[7]=e[7];p[8]=e[8];p[9]=e[9];p[10]=e[10];p[11]=e[11];p[12]=e[12];p[13]=e[13];p[14]=e[14];p[15]=e[15]}e=!ya(g);var p=0,q=h.length,r=0,w,u=a.za;a=a.tb;for(var y,B,C,D;p<q;){var z=h[p],N,U,T,J;switch(z[0]){case 0:r=z[1];e&&g[v(r).toString()]||
!r.H()?p=z[2]:void 0===l||cc(l,r.H().I())?++p:p=z[2];break;case 1:b.beginPath();++p;break;case 2:r=z[1];w=m[r];z=m[r+1];C=m[r+2]-w;r=m[r+3]-z;b.arc(w,z,Math.sqrt(C*C+r*r),0,2*Math.PI,!0);++p;break;case 3:b.closePath();++p;break;case 4:r=z[1];w=z[2];N=z[3];T=z[4]*d;var ca=z[5]*d,L=z[6];U=z[7];var R=z[8],P=z[9];C=z[11];D=z[12];var F=z[13],K=z[14];for(z[10]&&(C+=f);r<w;r+=2){z=m[r]-T;J=m[r+1]-ca;F&&(z=Math.round(z),J=Math.round(J));if(1!=D||0!==C){var E=z+T,Ha=J+ca;Gk(u,E,Ha,D,D,C,-E,-Ha);b.transform(u[0],
u[1],u[4],u[5],u[12],u[13])}E=b.globalAlpha;1!=U&&(b.globalAlpha=E*U);var Ha=K+R>N.width?N.width-R:K,$a=L+P>N.height?N.height-P:L;b.drawImage(N,R,P,Ha,$a,z,J,Ha*d,$a*d);1!=U&&(b.globalAlpha=E);if(1!=D||0!==C)xb(u,a),b.transform(a[0],a[1],a[4],a[5],a[12],a[13])}++p;break;case 5:r=z[1];w=z[2];T=z[3];ca=z[4]*d;L=z[5]*d;C=z[6];D=z[7]*d;N=z[8];for(U=z[9];r<w;r+=2){z=m[r]+ca;J=m[r+1]+L;if(1!=D||0!==C)Gk(u,z,J,D,D,C,-z,-J),b.transform(u[0],u[1],u[4],u[5],u[12],u[13]);R=T.split("\n");P=R.length;1<P?(F=Math.round(1.5*
b.measureText("M").width),J-=(P-1)/2*F):F=0;for(K=0;K<P;K++)E=R[K],U&&b.strokeText(E,z,J),N&&b.fillText(E,z,J),J+=F;if(1!=D||0!==C)xb(u,a),b.transform(a[0],a[1],a[4],a[5],a[12],a[13])}++p;break;case 6:if(void 0!==k&&(r=z[1],r=k(r)))return r;++p;break;case 7:b.fill();++p;break;case 8:r=z[1];w=z[2];z=m[r];J=m[r+1];C=z+.5|0;D=J+.5|0;if(C!==y||D!==B)b.moveTo(z,J),y=C,B=D;for(r+=2;r<w;r+=2)if(z=m[r],J=m[r+1],C=z+.5|0,D=J+.5|0,C!==y||D!==B)b.lineTo(z,J),y=C,B=D;++p;break;case 9:b.fillStyle=z[1];++p;break;
case 10:y=void 0!==z[7]?z[7]:!0;B=z[2];b.strokeStyle=z[1];b.lineWidth=y?B*d:B;b.lineCap=z[3];b.lineJoin=z[4];b.miterLimit=z[5];Lg&&b.setLineDash(z[6]);B=y=NaN;++p;break;case 11:b.font=z[1];b.textAlign=z[2];b.textBaseline=z[3];++p;break;case 12:b.stroke();++p;break;default:++p}}}function ln(a){var b=a.c;b.reverse();var d,e=b.length,f,g,h=-1;for(d=0;d<e;++d)if(f=b[d],g=f[0],6==g)h=d;else if(0==g){f[2]=d;f=a.c;for(g=d;h<g;){var k=f[h];f[h]=f[g];f[g]=k;++h;--g}h=-1}}
function mn(a,b){a.N[2]=a.b.length;a.N=null;a.T[2]=a.c.length;a.T=null;var d=[6,b];a.b.push(d);a.c.push(d)}gn.prototype.finish=Wa;gn.prototype.me=function(){return this.da};function nn(a,b,d){gn.call(this,a,b,d);this.s=this.Z=null;this.fa=this.G=this.D=this.S=this.R=this.C=this.v=this.u=this.o=this.j=this.g=void 0}x(nn,gn);
nn.prototype.drawPoint=function(a,b){if(this.s){jn(this,b);var d=a.B,e=this.coordinates.length,d=hn(this,d,0,d.length,a.F);this.b.push([4,e,d,this.s,this.g,this.j,this.o,this.u,this.v,this.C,this.R,this.S,this.D,this.G,this.fa]);this.c.push([4,e,d,this.Z,this.g,this.j,this.o,this.u,this.v,this.C,this.R,this.S,this.D,this.G,this.fa]);mn(this,b)}};
nn.prototype.Jf=function(a,b){if(this.s){jn(this,b);var d=a.B,e=this.coordinates.length,d=hn(this,d,0,d.length,a.F);this.b.push([4,e,d,this.s,this.g,this.j,this.o,this.u,this.v,this.C,this.R,this.S,this.D,this.G,this.fa]);this.c.push([4,e,d,this.Z,this.g,this.j,this.o,this.u,this.v,this.C,this.R,this.S,this.D,this.G,this.fa]);mn(this,b)}};nn.prototype.finish=function(){ln(this);this.j=this.g=void 0;this.s=this.Z=null;this.fa=this.G=this.S=this.R=this.C=this.v=this.u=this.D=this.o=void 0};
nn.prototype.Id=function(a){var b=a.zc(),d=a.lb(),e=a.Ee(1),f=a.yd(1),g=a.Ua();this.g=b[0];this.j=b[1];this.Z=e;this.s=f;this.o=d[1];this.u=a.C;this.v=g[0];this.C=g[1];this.R=a.S;this.S=a.u;this.D=a.Ma();this.G=a.D;this.fa=d[0]};function on(a,b,d){gn.call(this,a,b,d);this.g={yc:void 0,tc:void 0,uc:null,vc:void 0,wc:void 0,xc:void 0,ze:0,strokeStyle:void 0,lineCap:void 0,O:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}x(on,gn);
function pn(a,b,d,e,f){var g=a.coordinates.length;b=hn(a,b,d,e,f);g=[8,g,b];a.b.push(g);a.c.push(g);return e}n=on.prototype;n.me=function(){this.f||(this.f=Nb(this.da),0<this.i&&Mb(this.f,this.resolution*(this.i+1)/2,this.f));return this.f};
function qn(a){var b=a.g,d=b.strokeStyle,e=b.lineCap,f=b.O,g=b.lineJoin,h=b.lineWidth,k=b.miterLimit;b.yc==d&&b.tc==e&&qb(b.uc,f)&&b.vc==g&&b.wc==h&&b.xc==k||(b.ze!=a.coordinates.length&&(a.b.push([12]),b.ze=a.coordinates.length),a.b.push([10,d,h,e,g,k,f],[1]),b.yc=d,b.tc=e,b.uc=f,b.vc=g,b.wc=h,b.xc=k)}
n.Hf=function(a,b){var d=this.g,e=d.lineWidth;void 0!==d.strokeStyle&&void 0!==e&&(qn(this),jn(this,b),this.c.push([10,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.O],[1]),d=a.B,pn(this,d,0,d.length,a.F),this.c.push([12]),mn(this,b))};
n.If=function(a,b){var d=this.g,e=d.lineWidth;if(void 0!==d.strokeStyle&&void 0!==e){qn(this);jn(this,b);this.c.push([10,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.O],[1]);var d=a.fb(),e=a.B,f=a.F,g=0,h,k;h=0;for(k=d.length;h<k;++h)g=pn(this,e,g,d[h],f);this.c.push([12]);mn(this,b)}};n.finish=function(){this.g.ze!=this.coordinates.length&&this.b.push([12]);ln(this);this.g=null};
n.sb=function(a,b){var d=b.c;this.g.strokeStyle=Cg(d?d:Tg);d=b.f;this.g.lineCap=void 0!==d?d:"round";d=b.g;this.g.O=d?d:Sg;d=b.i;this.g.lineJoin=void 0!==d?d:"round";d=b.b;this.g.lineWidth=void 0!==d?d:1;d=b.j;this.g.miterLimit=void 0!==d?d:10;this.g.lineWidth>this.i&&(this.i=this.g.lineWidth,this.f=null)};
function rn(a,b,d){gn.call(this,a,b,d);this.g={Ff:void 0,yc:void 0,tc:void 0,uc:null,vc:void 0,wc:void 0,xc:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,O:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,Kb:0,Lb:0}}x(rn,gn);
function sn(a,b,d,e,f){var g=a.g;(200<g.Kb||200<g.Lb)&&tn(a);var h=[1];g.Kb||g.Lb||a.b.push(h);a.c.push(h);var k,h=0;for(k=e.length;h<k;++h){var l=e[h],m=a.coordinates.length;d=hn(a,b,d,l,f);d=[8,m,d];m=[3];a.b.push(d,m);a.c.push(d,m);d=l}a.c.push([7]);void 0!==g.fillStyle&&g.Kb++;void 0!==g.strokeStyle&&(g.Lb++,a.c.push([12]));return d}n=rn.prototype;
n.Gf=function(a,b){var d=this.g,e=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==e){un(this);jn(this,b);this.c.push([9,Cg(Rg)]);void 0!==d.strokeStyle&&this.c.push([10,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.O]);var f=a.B,e=this.coordinates.length;hn(this,f,0,f.length,a.F);f=[1];e=[2,e];d.Kb||d.Lb||this.b.push(f);this.b.push(e);this.c.push(e,f);this.c.push([7]);void 0!==d.fillStyle&&d.Kb++;void 0!==d.strokeStyle&&(d.Lb++,this.c.push([12]));mn(this,b)}};
n.Lf=function(a,b){var d=this.g,e=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==e)un(this),jn(this,b),this.c.push([9,Cg(Rg)]),void 0!==d.strokeStyle&&this.c.push([10,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.O]),d=a.fb(),e=bi(a),sn(this,e,0,d,a.F),mn(this,b)};
n.Kf=function(a,b){var d=this.g,e=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==e){un(this);jn(this,b);this.c.push([9,Cg(Rg)]);void 0!==d.strokeStyle&&this.c.push([10,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.O]);var d=a.b,e=gi(a),f=a.F,g=0,h,k;h=0;for(k=d.length;h<k;++h)g=sn(this,e,g,d[h],f);mn(this,b)}};function tn(a){var b=a.g;b.Kb&&(a.b.push([7]),b.Kb=0);b.Lb&&(a.b.push([12]),b.Lb=0)}
n.finish=function(){ln(this);var a=this.Ea;if(0!==a){var b=this.coordinates,d,e;d=0;for(e=b.length;d<e;++d)b[d]=a*Math.round(b[d]/a)}tn(this);this.g=null};n.me=function(){this.f||(this.f=Nb(this.da),0<this.i&&Mb(this.f,this.resolution*(this.i+1)/2,this.f));return this.f};
n.sb=function(a,b){var d=this.g;if(a){var e=a.c;d.fillStyle=Fg(e?e:Rg)}else d.fillStyle=void 0;b?(e=b.c,d.strokeStyle=Cg(e?e:Tg),e=b.f,d.lineCap=void 0!==e?e:"round",e=b.g,d.O=e?e.slice():Sg,e=b.i,d.lineJoin=void 0!==e?e:"round",e=b.b,d.lineWidth=void 0!==e?e:1,e=b.j,d.miterLimit=void 0!==e?e:10,d.lineWidth>this.i&&(this.i=d.lineWidth,this.f=null)):(d.strokeStyle=void 0,d.lineCap=void 0,d.O=null,d.lineJoin=void 0,d.lineWidth=void 0,d.miterLimit=void 0)};
function un(a){var b=a.g,d=b.fillStyle,e=b.strokeStyle,f=b.lineCap,g=b.O,h=b.lineJoin,k=b.lineWidth,l=b.miterLimit;void 0!==d&&b.Ff!=d&&(tn(a),a.b.push([9,d]),b.Ff=b.fillStyle);void 0===e||b.yc==e&&b.tc==f&&b.uc==g&&b.vc==h&&b.wc==k&&b.xc==l||(tn(a),a.b.push([10,e,k,f,h,l,g]),b.yc=e,b.tc=f,b.uc=g,b.vc=h,b.wc=k,b.xc=l)}function vn(a,b,d){gn.call(this,a,b,d);this.G=this.D=this.S=null;this.s="";this.R=this.C=this.v=this.u=0;this.o=this.j=this.g=null}x(vn,gn);
vn.prototype.drawText=function(a,b,d,e,f,g){if(""!==this.s&&this.o&&(this.g||this.j)){if(this.g){f=this.g;var h=this.S;if(!h||h.fillStyle!=f.fillStyle){var k=[9,f.fillStyle];this.b.push(k);this.c.push(k);h?h.fillStyle=f.fillStyle:this.S={fillStyle:f.fillStyle}}}this.j&&(f=this.j,h=this.D,h&&h.lineCap==f.lineCap&&h.O==f.O&&h.lineJoin==f.lineJoin&&h.lineWidth==f.lineWidth&&h.miterLimit==f.miterLimit&&h.strokeStyle==f.strokeStyle||(k=[10,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,f.O,
!1],this.b.push(k),this.c.push(k),h?(h.lineCap=f.lineCap,h.O=f.O,h.lineJoin=f.lineJoin,h.lineWidth=f.lineWidth,h.miterLimit=f.miterLimit,h.strokeStyle=f.strokeStyle):this.D={lineCap:f.lineCap,O:f.O,lineJoin:f.lineJoin,lineWidth:f.lineWidth,miterLimit:f.miterLimit,strokeStyle:f.strokeStyle}));f=this.o;h=this.G;h&&h.font==f.font&&h.textAlign==f.textAlign&&h.textBaseline==f.textBaseline||(k=[11,f.font,f.textAlign,f.textBaseline],this.b.push(k),this.c.push(k),h?(h.font=f.font,h.textAlign=f.textAlign,
h.textBaseline=f.textBaseline):this.G={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline});jn(this,g);f=this.coordinates.length;a=hn(this,a,b,d,e);a=[5,f,a,this.s,this.u,this.v,this.C,this.R,!!this.g,!!this.j];this.b.push(a);this.c.push(a);mn(this,g)}};
vn.prototype.mb=function(a){if(a){var b=a.c;b?(b=b.c,b=Fg(b?b:Rg),this.g?this.g.fillStyle=b:this.g={fillStyle:b}):this.g=null;var d=a.j;if(d){var b=d.c,e=d.f,f=d.g,g=d.i,h=d.b,d=d.j,e=void 0!==e?e:"round",f=f?f.slice():Sg,g=void 0!==g?g:"round",h=void 0!==h?h:1,d=void 0!==d?d:10,b=Cg(b?b:Tg);if(this.j){var k=this.j;k.lineCap=e;k.O=f;k.lineJoin=g;k.lineWidth=h;k.miterLimit=d;k.strokeStyle=b}else this.j={lineCap:e,O:f,lineJoin:g,lineWidth:h,miterLimit:d,strokeStyle:b}}else this.j=null;var l=a.b,b=a.g,
e=a.f,f=a.i,h=a.Ma(),d=a.ta(),g=a.o,k=a.s;a=void 0!==l?l:"10px sans-serif";g=void 0!==g?g:"center";k=void 0!==k?k:"middle";this.o?(l=this.o,l.font=a,l.textAlign=g,l.textBaseline=k):this.o={font:a,textAlign:g,textBaseline:k};this.s=void 0!==d?d:"";this.u=void 0!==b?b:0;this.v=void 0!==e?e:0;this.C=void 0!==f?f:0;this.R=void 0!==h?h:1}else this.s=""};function wn(a,b,d,e){this.o=a;this.b=b;this.j=d;this.g=e;this.c={};this.f=Re(1,1);this.i=wb()}
wn.prototype.finish=function(){for(var a in this.c){var b=this.c[a],d;for(d in b)b[d].finish()}};function xn(a,b,d,e,f){var g=a.i;Gk(g,.5,.5,1/d,-1/d,-e,-b[0],-b[1]);var h=a.f;h.clearRect(0,0,1,1);var k;void 0!==a.g&&(k=Kb(),Lb(k,b),Mb(k,d*a.g,k));return yn(a,h,g,e,function(a){if(0<h.getImageData(0,0,1,1).data[3]){if(a=f(a))return a;h.clearRect(0,0,1,1)}},k)}
function zn(a,b,d){var e=void 0!==b?b.toString():"0";b=a.c[e];void 0===b&&(b={},a.c[e]=b);e=b[d];void 0===e&&(e=new An[d](a.o,a.b,a.j),b[d]=e);return e}wn.prototype.Xa=function(){return ya(this.c)};
function Bn(a,b,d,e,f,g){var h=Object.keys(a.c).map(Number);h.sort(lb);var k=a.b,l=k[0],m=k[1],p=k[2],k=k[3],l=[l,m,l,k,p,k,p,m];xh(l,0,8,2,e,l);b.save();b.beginPath();b.moveTo(l[0],l[1]);b.lineTo(l[2],l[3]);b.lineTo(l[4],l[5]);b.lineTo(l[6],l[7]);b.closePath();b.clip();for(var q,r,l=0,m=h.length;l<m;++l)for(q=a.c[h[l].toString()],p=0,k=fn.length;p<k;++p)r=q[fn[p]],void 0!==r&&kn(r,b,d,e,f,g,r.b,void 0);b.restore()}
function yn(a,b,d,e,f,g){var h={},k=Object.keys(a.c).map(Number);k.sort(function(a,b){return b-a});var l,m,p,q,r;l=0;for(m=k.length;l<m;++l)for(q=a.c[k[l].toString()],p=fn.length-1;0<=p;--p)if(r=q[fn[p]],void 0!==r&&(r=kn(r,b,1,d,e,h,r.c,f,g)))return r}var An={Image:nn,LineString:on,Polygon:rn,Text:vn};function Cn(a,b){return v(a)-v(b)}function Dn(a,b){var d=.5*a/b;return d*d}function En(a,b,d,e,f,g){var h=!1,k,l;if(k=d.f)l=k.Fc(),2==l||3==l?k.Xe(f,g):(0==l&&k.load(),k.Ae(f,g),h=!0);if(f=(0,d.i)(b))e=f.se(e),(0,Fn[e.V()])(a,e,d,b);return h}
var Fn={Point:function(a,b,d,e){var f=d.f;if(f){if(2!=f.Fc())return;var g=zn(a,d.c,"Image");g.Id(f);g.drawPoint(b,e)}if(f=d.ta())a=zn(a,d.c,"Text"),a.mb(f),a.drawText(b.B,0,2,2,b,e)},LineString:function(a,b,d,e){var f=d.b;if(f){var g=zn(a,d.c,"LineString");g.sb(null,f);g.Hf(b,e)}if(f=d.ta())a=zn(a,d.c,"Text"),a.mb(f),a.drawText(Nh(b),0,2,2,b,e)},Polygon:function(a,b,d,e){var f=d.g,g=d.b;if(f||g){var h=zn(a,d.c,"Polygon");h.sb(f,g);h.Lf(b,e)}if(f=d.ta())a=zn(a,d.c,"Text"),a.mb(f),a.drawText(ci(b),
0,2,2,b,e)},MultiPoint:function(a,b,d,e){var f=d.f;if(f){if(2!=f.Fc())return;var g=zn(a,d.c,"Image");g.Id(f);g.Jf(b,e)}if(f=d.ta())a=zn(a,d.c,"Text"),a.mb(f),d=b.B,a.drawText(d,0,d.length,b.F,b,e)},MultiLineString:function(a,b,d,e){var f=d.b;if(f){var g=zn(a,d.c,"LineString");g.sb(null,f);g.If(b,e)}if(f=d.ta())a=zn(a,d.c,"Text"),a.mb(f),d=Sh(b),a.drawText(d,0,d.length,2,b,e)},MultiPolygon:function(a,b,d,e){var f=d.g,g=d.b;if(g||f){var h=zn(a,d.c,"Polygon");h.sb(f,g);h.Kf(b,e)}if(f=d.ta())a=zn(a,d.c,
"Text"),a.mb(f),d=hi(b),a.drawText(d,0,d.length,2,b,e)},GeometryCollection:function(a,b,d,e){b=b.b;var f,g;f=0;for(g=b.length;f<g;++f)(0,Fn[b[f].V()])(a,b[f],d,e)},Circle:function(a,b,d,e){var f=d.g,g=d.b;if(f||g){var h=zn(a,d.c,"Polygon");h.sb(f,g);h.Gf(b,e)}if(f=d.ta())a=zn(a,d.c,"Text"),a.mb(f),a.drawText(b.B.slice(0,b.F),0,2,2,b,e)}};function Zk(a){cn.call(this,a);this.b=null;this.v=wb()}x(Zk,cn);Zk.prototype.j=function(a,b,d,e){var f=this.la();return f.K().uk(a,b.W.resolution,b.W.rotation,b.Se,function(a){return d.call(e,a,f)})};
Zk.prototype.s=function(a,b){var d=a.va,e=a.W,f=e.center,g=e.resolution,h=this.la().K(),k=a.sa,l=a.extent;void 0!==b.extent&&(l=bc(l,b.extent));if(!k[0]&&!k[1]&&!Wb(l)){if(k=e=af(h,l,g,d,e.projection))k=e,l=k.ea(),2!=l&&3!=l&&I(k,"change",this.Z,this),0==l&&(k.load(),l=k.ea()),k=2==l;k&&(this.b=e)}if(this.b){var e=this.b,k=e.I(),l=e.X(),m=e.f,g=d*l/(g*m);Gk(this.v,d*a.size[0]/2,d*a.size[1]/2,g,g,0,m*(k[0]-f[0])/l,m*(f[1]-k[3])/l);Mk(a.ka,e.ec());Nk(a,h)}return!!this.b};function $k(a){cn.call(this,a);this.i=Re();this.f=null;this.C=Kb();this.u=wb()}x($k,cn);
$k.prototype.o=function(a,b,d){var e=a.va,f=a.W,g=f.center,h=f.projection,k=f.rotation,l=a.size,m=Math.round(e*l[0]/2),p=Math.round(e*l[1]/2),q=e/f.resolution,r=this.la(),w=r.K(),u=w.Of(h),f=en(this,a,0);dn(this,"precompose",d,a,f);var l=d,r=Za(r,"render"),y,B,C,D;if(k||r)l=this.i,y=l.canvas,C=w.v/e,e=d.canvas.width*C,B=d.canvas.height*C,D=Math.round(Math.sqrt(e*e+B*B)),y.width!=D?y.width=y.height=D:l.clearRect(0,0,D,D),y=(D-e)/2/C,B=(D-B)/2/C,q*=C,m=Math.round(C*(m+y)),p=Math.round(C*(p+B));e=l.globalAlpha;
l.globalAlpha=b.opacity;var z=w.pb(h),N=this.f,U;b=w.qe(h)&&1==b.opacity;b||(N.reverse(),U=[]);for(var T=0,J=N.length;T<J;++T){var ca=N[T],L=ca.Ra,R=Bf(z,L,this.C),P=L[0],F=Zb(Bf(z,Nf(z,g,P))),L=Math.round(Xb(R)*q),K=Math.round(Yb(R)*q),E=Math.round((R[0]-F[0])*q/L)*L+m+Math.round((F[0]-g[0])*q),R=Math.round((F[1]-R[3])*q/K)*K+p+Math.round((g[1]-F[1])*q);if(!b){F=[E,R,E+L,R+K];l.save();for(var Ha=0,$a=U.length;Ha<$a;++Ha){var Cc=U[Ha];cc(F,Cc)&&(l.beginPath(),l.moveTo(F[0],F[1]),l.lineTo(F[0],F[3]),
l.lineTo(F[2],F[3]),l.lineTo(F[2],F[1]),l.moveTo(Cc[0],Cc[1]),l.lineTo(Cc[2],Cc[1]),l.lineTo(Cc[2],Cc[3]),l.lineTo(Cc[0],Cc[3]),l.closePath(),l.clip())}U.push(F)}F=w;Ha=P;$a=F.pb(h);P=F.v;Ha=Ib(Ef($a,Ha),F.na);$a=void 0;1==P?$a=Ha:(F=F.na,void 0===F&&(F=[0,0]),F[0]=Ha[0]*P+.5|0,F[1]=Ha[1]*P+.5|0,$a=F);P=$a;l.drawImage(ca.xd(),u,u,P[0],P[1],E,R,L,K);b||l.restore()}r&&(h=y-m/C+m,m=B-p/C+p,g=Gk(this.u,D/2-h,D/2-m,q,-q,-k,-g[0]+h/q,-g[1]-m/q),dn(this,"render",l,a,g));(k||r)&&d.drawImage(l.canvas,-Math.round(y),
-Math.round(B),D/C,D/C);l.globalAlpha=e;dn(this,"postcompose",d,a,f)};
$k.prototype.s=function(a,b){function d(a){a=a.ea();return 2==a||4==a||3==a&&!w}var e=a.va,f=a.W,g=f.projection,h=this.la(),k=h.K(),l=k.pb(g),m=Cf(l,f.resolution),p=l.X(m),q=f.center;p==f.resolution?(q=Pk(q,p,a.size),f=ac(q,p,f.rotation,a.size)):f=a.extent;void 0!==b.extent&&(f=bc(f,b.extent));if(Wb(f))return!1;p=Kf(l,f,p);q={};q[m]={};var r=Jk(k,g,q),w=h.get("useInterimTilesOnError"),u=Kb(),y=new jd(0,0,0,0),B,C,D,z;for(D=p.b;D<=p.c;++D)for(z=p.f;z<=p.g;++z)B=Zf(k,m,D,z,e,g),!d(B)&&B.c&&(B=B.c),
d(B)?q[m][B.Ra.toString()]=B:(C=If(l,B.Ra,r,y,u),C||(B=Jf(l,B.Ra,y,u))&&r(m+1,B));r=Object.keys(q).map(Number);r.sort(lb);var u=[],N,y=0;for(D=r.length;y<D;++y)for(N in B=r[y],z=q[B],z)B=z[N],2==B.ea()&&u.push(B);this.f=u;Ok(a.Ze,k,m,p);Qk(a,k,l,e,g,f,m,h.get("preload"));Lk(a,k);Nk(a,k);return!0};function al(a){cn.call(this,a);this.f=!1;this.G=-1;this.D=NaN;this.C=Kb();this.i=this.S=null;this.u=Re()}x(al,cn);
al.prototype.o=function(a,b,d){var e=a.extent,f=a.va,g=b.Be?a.Se:{},h=a.W,k=h.projection,h=h.rotation,l=k.I(),m=this.la().K(),p=en(this,a,0);dn(this,"precompose",d,a,p);var q=this.i;if(q&&!q.Xa()){var r;Za(this.la(),"render")?(this.u.canvas.width=d.canvas.width,this.u.canvas.height=d.canvas.height,r=this.u):r=d;var w=r.globalAlpha;r.globalAlpha=b.opacity;b=a.size[0]*f;var u=a.size[1]*f;Ug(r,-h,b/2,u/2);Bn(q,r,f,p,h,g);if(m.u&&k.b&&!Ob(l,e)){for(var k=e[0],m=Xb(l),y=0;k<l[0];)--y,p=m*y,p=en(this,a,
p),Bn(q,r,f,p,h,g),k+=m;y=0;for(k=e[2];k>l[2];)++y,p=m*y,p=en(this,a,p),Bn(q,r,f,p,h,g),k-=m;p=en(this,a,0)}Ug(r,h,b/2,u/2);r!=d&&(dn(this,"render",r,a,p),d.drawImage(r.canvas,0,0));r.globalAlpha=w}dn(this,"postcompose",d,a,p)};al.prototype.j=function(a,b,d,e){if(this.i){var f=b.W.resolution;b=b.W.rotation;var g=this.la(),h={};return xn(this.i,a,f,b,function(a){var b=v(a).toString();if(!(b in h))return h[b]=!0,d.call(e,a,g)})}};al.prototype.N=function(){Kk(this)};
al.prototype.s=function(a){function b(a){var b,e=a.i;e?b=e.call(a,m):(e=d.j)&&(b=e(a,m));if(b){if(b){e=!1;if(Array.isArray(b))for(var f=0,g=b.length;f<g;++f)e=En(r,a,b[f],Dn(m,p),this.N,this)||e;else e=En(r,a,b,Dn(m,p),this.N,this)||e;a=e}else a=!1;this.f=this.f||a}}var d=this.la(),e=d.K();Mk(a.ka,e.ec());Nk(a,e);var f=a.sa[0],g=a.sa[1],h=d.u,k=d.v;if(!this.f&&!h&&f||!k&&g)return!0;var l=a.extent,k=a.W,f=k.projection,m=k.resolution,p=a.va,g=d.g,q=d.s,h=d.get("renderOrder");void 0===h&&(h=Cn);l=Mb(l,
q*m);q=k.projection.I();e.u&&k.projection.b&&!Ob(q,a.extent)&&(a=Math.max(Xb(l)/2,Xb(q)),l[0]=q[0]-a,l[2]=q[2]+a);if(!this.f&&this.D==m&&this.G==g&&this.S==h&&Ob(this.C,l))return!0;this.i=null;this.f=!1;var r=new wn(.5*m/p,l,m,d.s);Ri(e,l,m,f);if(h){var w=[];Pi(e,l,function(a){w.push(a)},this);w.sort(h);w.forEach(b,this)}else Pi(e,l,b,this);r.finish();this.D=m;this.G=g;this.S=h;this.C=l;this.i=r;return!0};function Gn(a,b){Vk.call(this,0,b);this.i=Re();Re();this.c=this.i.canvas;this.c.style.width="100%";this.c.style.height="100%";this.c.className="ol-unselectable";a.insertBefore(this.c,a.childNodes[0]||null);this.g=!0;this.u=wb()}x(Gn,Vk);function Hn(a,b,d){var e=a.j,f=a.i;if(Za(e,b)){var g=d.extent,h=d.va,k=d.W.rotation,l=d.va,m=d.W,p=m.resolution;a=Gk(a.u,a.c.width/2,a.c.height/2,l/p,-l/p,-m.rotation,-m.center[0],-m.center[1]);g=new Wm(f,h,g,a,k);M(e,new Ud(b,e,g,d,f,null))}}Gn.prototype.V=function(){return"canvas"};
Gn.prototype.o=function(a){if(a){var b=this.i,d=a.va,e=Math.round(a.size[0]*d),d=Math.round(a.size[1]*d);this.c.width!=e||this.c.height!=d?(this.c.width=e,this.c.height=d):b.clearRect(0,0,e,d);var f=a.W.rotation,g=a.W,h=a.ac;Gk(h,a.size[0]/2,a.size[1]/2,1/g.resolution,-1/g.resolution,-g.rotation,-g.center[0],-g.center[1]);xb(h,a.Ag);Hn(this,"precompose",a);g=a.rd;rb(g);Ug(b,f,e/2,d/2);var h=a.W.resolution,k,l,m,p;k=0;for(l=g.length;k<l;++k)p=g[k],m=p.layer,m=Yk(this,m),p.visible&&h>=p.Ya&&h<p.jb&&
"ready"==p.il&&m.s(a,p)&&m.o(a,p,b);Ug(b,-f,e/2,d/2);Hn(this,"postcompose",a);this.g||(yj(this.c,!0),this.g=!0);for(var q in this.b)if(!(q in a.qd)){a.Ad.push(this.v.bind(this));break}a.Ad.push(Wk)}else this.g&&(yj(this.c,!1),this.g=!1)};var In=["canvas","webgl","dom"];
function Jn(a){cb.call(this);var b=Kn(a);this.cb=void 0!==a.Cj?a.Cj:!1;this.ob=void 0!==a.Dj?a.Dj:!1;this.Wb=void 0!==a.va?a.va:Kg;this.Vb=b.kc;this.wf=function(){this.vb=void 0;this.$k.call(this,Date.now())}.bind(this);this.ab=wb();this.qc=wb();this.bb=0;this.i=null;this.Ea=Kb();this.D=this.N=null;this.b=document.createElement("DIV");this.b.className="ol-viewport"+(Og?" ol-touch":"");this.b.style.position="relative";this.b.style.overflow="hidden";this.b.style.width="100%";this.b.style.height="100%";
this.b.style.msTouchAction="none";this.b.style.touchAction="none";this.v=document.createElement("DIV");this.v.className="ol-overlaycontainer";this.b.appendChild(this.v);this.u=document.createElement("DIV");this.u.className="ol-overlaycontainer-stopevent";a=["click","dblclick","mousedown","touchstart","mspointerdown",Ck,"mousewheel","wheel"];for(var d=0,e=a.length;d<e;++d)I(this.u,a[d],ua);this.b.appendChild(this.u);this.ga=new uk(this);for(var f in Fk)I(this.ga,Fk[f],this.ag,this);this.da=b.Dc;this.s=
null;I(this.b,"wheel",this.ic,this);I(this.b,"mousewheel",this.ic,this);this.C=b.controls;this.f=b.Ib;this.j=b.Hc;this.zg={};this.Z=new b.al(this.b,this);this.T=null;this.G=[];this.za=[];this.na=new el(this.xi.bind(this),this.gj.bind(this));this.Zd={};I(this,O("layergroup"),this.Pi,this);I(this,O("view"),this.hj,this);I(this,O("size"),this.dj,this);I(this,O("target"),this.fj,this);this.wa(b.values);this.C.forEach(function(a){a.setMap(this)},this);I(this.C,"add",function(a){a.element.setMap(this)},
this);I(this.C,"remove",function(a){a.element.setMap(null)},this);this.f.forEach(function(a){a.setMap(this)},this);I(this.f,"add",function(a){a.element.setMap(this)},this);I(this.f,"remove",function(a){a.element.setMap(null)},this);this.j.forEach(this.rf,this);I(this.j,"add",function(a){this.rf(a.element)},this);I(this.j,"remove",function(a){var b=a.element.gb();void 0!==b&&delete this.zg[b.toString()];a.element.setMap(null)},this)}x(Jn,cb);function hg(a,b){Sd(gg(a)).push(b)}n=Jn.prototype;
n.rf=function(a){var b=a.gb();void 0!==b&&(this.zg[b.toString()]=a);a.setMap(this)};n.Ka=function(a){this.render();Array.prototype.push.apply(this.G,arguments)};n.ha=function(){this.ga.xa();this.Z.xa();Fa(this.b,"wheel",this.ic,this);Fa(this.b,"mousewheel",this.ic,this);void 0!==this.o&&(t.removeEventListener("resize",this.o,!1),this.o=void 0);this.vb&&(t.cancelAnimationFrame(this.vb),this.vb=void 0);this.set("target",null);Jn.ca.ha.call(this)};
function Ln(a,b,d){if(a.i)return b=a.Ta(b),Xk(a.Z,b,a.i,d)}function Mn(a){a=a.get("target");return void 0!==a?aj(a):null}n.Ta=function(a){var b=this.i;return b?(a=a.slice(),Hk(b.Ag,a,a)):null};function gg(a){return a.get("layergroup")}function fm(a,b){var d=a.i;if(d){var e=b.slice(0,2);return Hk(d.ac,e,e)}return null}function km(a){return a.get("size")}function Y(a){return a.get("view")}
n.xi=function(a,b,d,e){var f=this.i;if(!(f&&b in f.Sc&&f.Sc[b][a.Ra.toString()]))return Infinity;a=d[0]-f.focus[0];d=d[1]-f.focus[1];return 65536*Math.log(e)+Math.sqrt(a*a+d*d)/e};n.ic=function(a,b){var d=new sk(b||a.type,this,a);this.ag(d)};n.ag=function(a){if(this.i){this.T=a.coordinate;a.frameState=this.i;var b=this.f.b,d;if(!1!==M(this,a))for(d=b.length-1;0<=d;d--){var e=b[d];if(e.getActive()&&!e.handleEvent(a))break}}};
n.bj=function(){var a=this.i,b=this.na;if(!b.Xa()){var d=16,e=d;if(a){var f=a.sa;f[0]&&(d=this.cb?8:0,e=2);f[1]&&(d=this.ob?8:0,e=2)}if(b.i<d){var f=b.u,g=b.c,h=b.b,k=0,l=g.length,m,p,q;for(p=0;p<l;++p)m=g[p],q=f(m),Infinity==q?delete b.g[b.j(m)]:(h[k]=q,g[k++]=m);g.length=k;h.length=k;for(f=(b.c.length>>1)-1;0<=f;f--)dl(b,f);for(f=0;b.i<d&&f<e&&0<b.eb();)g=b,k=g.c,l=g.b,h=k[0],1==k.length?(k.length=0,l.length=0):(k[0]=k.pop(),l[0]=l.pop(),dl(g,0)),k=g.j(h),delete g.g[k],g=h[0],h=g.Ec(),0!==g.ea()||
h in b.f||(b.f[h]=!0,++b.i,++f,g.load())}}b=this.za;e=0;for(d=b.length;e<d;++e)b[e](this,a);b.length=0};n.dj=function(){this.render()};
n.fj=function(){var a;this.get("target")&&(a=Mn(this));if(this.s){for(var b=0,d=this.s.length;b<d;++b)H(this.s[b]);this.s=null}a?(a.appendChild(this.b),a=this.da?this.da:a,this.s=[I(a,"keydown",this.ic,this),I(a,"keypress",this.ic,this)],this.o||(this.o=this.Ye.bind(this),t.addEventListener("resize",this.o,!1))):(kj(this.b),void 0!==this.o&&(t.removeEventListener("resize",this.o,!1),this.o=void 0));this.Ye()};n.gj=function(){this.render()};n.ij=function(){this.render()};
n.hj=function(){this.N&&(H(this.N),this.N=null);var a=Y(this);a&&(this.N=I(a,"propertychange",this.ij,this));this.render()};n.Qi=function(){this.render()};n.Ri=function(){this.render()};n.Pi=function(){this.D&&(this.D.forEach(H),this.D=null);var a=gg(this);a&&(this.D=[I(a,"propertychange",this.Ri,this),I(a,"change",this.Qi,this)]);this.render()};n.render=function(){void 0===this.vb&&(this.vb=t.requestAnimationFrame(this.wf))};
n.$k=function(a){var b,d,e,f=km(this),g=Y(this),h=null;if(b=void 0!==f&&0<f[0]&&0<f[1]&&g)b=!!pl(g)&&void 0!==g.X();if(b){var h=g.f.slice(),k=gg(this).pe(),l={};b=0;for(d=k.length;b<d;++b)l[v(k[b].layer)]=k[b];e=g.ea();h={animate:!1,ka:{},ac:this.ab,extent:null,focus:this.T?this.T:e.center,index:this.bb++,qd:l,rd:k,kc:va({},this.Vb),va:this.Wb,Ag:this.qc,Ad:[],size:f,Se:this.Zd,ml:this.na,time:a,Ze:{},W:e,sa:h,Sc:{}}}if(h){a=this.G;b=f=0;for(d=a.length;b<d;++b)g=a[b],g(this,h)&&(a[f++]=g);a.length=
f;h.extent=ac(e.center,e.resolution,e.rotation,h.size)}this.i=h;this.Z.o(h);h&&(h.animate&&this.render(),Array.prototype.push.apply(this.za,h.Ad),0!==this.G.length||h.sa[0]||h.sa[1]||Sb(h.extent,this.Ea)||(M(this,new Kj("moveend",this,h)),Nb(h.extent,this.Ea)));M(this,new Kj("postrender",this,h));b=e=this.bj;this&&(b=oa(e,this));!ia(t.setImmediate)||t.Window&&t.Window.prototype&&!ue("Edge")&&t.Window.prototype.setImmediate==t.setImmediate?(Ij||(Ij=Jj()),Ij(b)):t.setImmediate(b)};
n.Ye=function(){var a=Mn(this);if(a){var b=$i(a),d=De&&a.currentStyle,e;if(e=d)Yi(b),e=!0;if(e&&"auto"!=d.width&&"auto"!=d.height&&!d.boxSizing)b=zj(a,d.width,"width","pixelWidth"),a=zj(a,d.height,"height","pixelHeight"),a=new Xi(b,a);else{d=new Xi(a.offsetWidth,a.offsetHeight);if(De){b=Aj(a,"paddingLeft");e=Aj(a,"paddingRight");var f=Aj(a,"paddingTop"),g=Aj(a,"paddingBottom"),b=new oj(f,e,g,b)}else b=rj(a,"paddingLeft"),e=rj(a,"paddingRight"),f=rj(a,"paddingTop"),g=rj(a,"paddingBottom"),b=new oj(parseFloat(f),
parseFloat(e),parseFloat(g),parseFloat(b));!De||9<=Number(Qe)?(e=rj(a,"borderLeftWidth"),f=rj(a,"borderRightWidth"),g=rj(a,"borderTopWidth"),a=rj(a,"borderBottomWidth"),a=new oj(parseFloat(g),parseFloat(f),parseFloat(a),parseFloat(e))):(e=Cj(a,"borderLeft"),f=Cj(a,"borderRight"),g=Cj(a,"borderTop"),a=Cj(a,"borderBottom"),a=new oj(g,f,a,e));a=new Xi(d.width-a.left-b.left-b.right-a.right,d.height-a.top-b.top-b.bottom-a.bottom)}this.set("size",[a.width,a.height])}else this.set("size",void 0)};
function Kn(a){var b=null;void 0!==a.Dc&&(b="string"===typeof a.Dc?document.getElementById(a.Dc):a.Dc);var d={},e={};if(void 0===a.qa||"boolean"===typeof a.qa&&a.qa)e["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var f=a.qa;"string"===typeof f?e[f]="":ja(f)&&(e[f.src]=f.href)}f=a.layers instanceof Rd?a.layers:new Rd({layers:a.layers});d.layergroup=f;d.target=a.target;d.view=void 0!==a.view?a.view:new ol;var f=Vk,g;void 0!==a.Ed?Array.isArray(a.Ed)?g=a.Ed:"string"===typeof a.Ed&&(g=[a.Ed]):g=In;var h,k;h=0;for(k=g.length;h<k;++h)if("canvas"==g[h]&&Mg){f=Gn;break}void 0!==a.controls?g=Array.isArray(a.controls)?new gb(a.controls.slice()):a.controls:(g={},h=new gb,(void 0!==g.zoom?
g.zoom:1)&&h.push(new Jl(g.km)),(void 0!==g.rotate?g.rotate:1)&&h.push(new Hl(g.im)),(void 0!==g.attribution?g.attribution:1)&&h.push(new zl(g.Zl)),g=h);var l;void 0!==a.Ib?l=Array.isArray(a.Ib)?new gb(a.Ib.slice()):a.Ib:l=Jm();a=void 0!==a.Hc?Array.isArray(a.Hc)?new gb(a.Hc.slice()):a.Hc:new gb;return{controls:g,Ib:l,Dc:b,kc:e,Hc:a,al:f,values:d}}vd(Om);vd(Vm);Vm.forEach(function(a){Om.forEach(function(b){wd(a,b,Pm);wd(b,a,Qm)})});function Nn(a){cb.call(this);this.G=a.id;this.D=void 0!==a.vj?a.vj:!0;this.N=void 0!==a.Vg?a.Vg:!0;this.f=document.createElement("DIV");this.f.className="ol-overlay-container";this.f.style.position="absolute";this.Xd=void 0!==a.Xd?a.Xd:!1;this.o=void 0!==a.Hh?a.Hh:{};this.u=void 0!==a.Ih?a.Ih:20;this.b={Zc:"",sd:"",Gd:"",Nd:"",visible:!0};this.j=null;I(this,O("element"),this.Oi,this);I(this,O("map"),this.Ui,this);I(this,O("offset"),this.Yi,this);I(this,O("position"),this.$i,this);I(this,O("positioning"),
this.aj,this);void 0!==a.element&&this.set("element",a.element);this.set("offset",void 0!==a.offset?a.offset:[0,0]);this.set("positioning",void 0!==a.Ge?a.Ge:"top-left");void 0!==a.position&&this.setPosition(a.position)}x(Nn,cb);n=Nn.prototype;n.gb=function(){return this.G};n.Oi=function(){jj(this.f);var a=this.get("element");a&&this.f.appendChild(a)};
n.Ui=function(){this.j&&(kj(this.f),H(this.j),this.j=null);var a=this.get("map");a&&(this.j=I(a,"postrender",this.render,this),On(this),a=this.N?a.u:a.v,this.D?a.insertBefore(this.f,a.childNodes[0]||null):a.appendChild(this.f))};n.render=function(){On(this)};n.Yi=function(){On(this)};
n.$i=function(){On(this);if(void 0!==this.get("position")&&this.Xd){var a=this.get("map");if(void 0!==a&&Mn(a)){var b=Pn(Mn(a),km(a)),d=this.get("element"),e=d.offsetWidth,f=d.currentStyle||t.getComputedStyle(d),e=e+(parseInt(f.marginLeft,10)+parseInt(f.marginRight,10)),f=d.offsetHeight,g=d.currentStyle||t.getComputedStyle(d),f=f+(parseInt(g.marginTop,10)+parseInt(g.marginBottom,10)),h=Pn(d,[e,f]),d=this.u;Ob(b,h)||(e=h[0]-b[0],f=b[2]-h[2],g=h[1]-b[1],h=b[3]-h[3],b=[0,0],0>e?b[0]=e-d:0>f&&(b[0]=Math.abs(f)+
d),0>g?b[1]=g-d:0>h&&(b[1]=Math.abs(h)+d),0===b[0]&&0===b[1])||(d=pl(Y(a)),e=fm(a,d),b=[e[0]+b[0],e[1]+b[1]],this.o&&(this.o.source=d,a.Ka(El(this.o))),vl(Y(a),a.Ta(b)))}}};n.aj=function(){On(this)};n.setMap=function(a){this.set("map",a)};n.setPosition=function(a){this.set("position",a)};function Pn(a,b){var d=tj(a);return[d.x,d.y,d.x+b[0],d.y+b[1]]}n.Za=function(a){this.b.visible!==a&&(yj(this.f,a),this.b.visible=a)};
function On(a){var b=a.get("map"),d=a.get("position");if(void 0!==b&&b.i&&void 0!==d){var d=fm(b,d),e=km(b),b=a.f.style,f=a.get("offset"),g=a.get("positioning"),h=f[0],f=f[1];if("bottom-right"==g||"center-right"==g||"top-right"==g)""!==a.b.sd&&(a.b.sd=b.left=""),h=Math.round(e[0]-d[0]-h)+"px",a.b.Gd!=h&&(a.b.Gd=b.right=h);else{""!==a.b.Gd&&(a.b.Gd=b.right="");if("bottom-center"==g||"center-center"==g||"top-center"==g)h-=vj(a.f).width/2;h=Math.round(d[0]+h)+"px";a.b.sd!=h&&(a.b.sd=b.left=h)}if("bottom-left"==
g||"bottom-center"==g||"bottom-right"==g)""!==a.b.Nd&&(a.b.Nd=b.top=""),d=Math.round(e[1]-d[1]-f)+"px",a.b.Zc!=d&&(a.b.Zc=b.bottom=d);else{""!==a.b.Zc&&(a.b.Zc=b.bottom="");if("center-left"==g||"center-center"==g||"center-right"==g)f-=vj(a.f).height/2;d=Math.round(d[1]+f)+"px";a.b.Nd!=d&&(a.b.Nd=b.top=d)}a.Za(!0)}else a.Za(!1)};var Qn=!De||9<=Number(Qe),Rn=!De||9<=Number(Qe),Sn=De&&!Oe("9");!Ge||Oe("528");Fe&&Oe("1.9b")||De&&Oe("8")||Ce&&Oe("9.5")||Ge&&Oe("528");Fe&&!Oe("8")||De&&Oe("9");function Tn(){0!=Un&&(Vn[v(this)]=this);this.u=this.u;this.o=this.o}var Un=0,Vn={};Tn.prototype.u=!1;Tn.prototype.xa=function(){if(!this.u&&(this.u=!0,this.Na(),0!=Un)){var a=v(this);delete Vn[a]}};Tn.prototype.Na=function(){if(this.o)for(;this.o.length;)this.o.shift()()};function Wn(a){a&&"function"==typeof a.xa&&a.xa()};function Xn(a,b){this.type=a;this.c=this.target=b;this.defaultPrevented=this.g=!1;this.Og=!0}Xn.prototype.stopPropagation=function(){this.g=!0};Xn.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Og=!1};function Yn(a,b){Xn.call(this,a?a.type:"");this.relatedTarget=this.c=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.f=!1;this.b=this.state=null;a&&this.Wa(a,b)}x(Yn,Xn);var Zn=[1,4,2];
Yn.prototype.Wa=function(a,b){var d=this.type=a.type,e=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.c=b;var f=a.relatedTarget;if(f){if(Fe){var g;a:{try{qj(f.nodeName);g=!0;break a}catch(h){}g=!1}g||(f=null)}}else"mouseover"==d?f=a.fromElement:"mouseout"==d&&(f=a.toElement);this.relatedTarget=f;null===e?(this.offsetX=Ge||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Ge||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0);this.button=a.button;this.f=a.ctrlKey;this.state=a.state;this.b=a;a.defaultPrevented&&this.preventDefault()};
Yn.prototype.stopPropagation=function(){Yn.ca.stopPropagation.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};Yn.prototype.preventDefault=function(){Yn.ca.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Sn)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var $n="closure_listenable_"+(1E6*Math.random()|0),ao=0;function bo(a,b,d,e,f){this.listener=a;this.c=null;this.src=b;this.type=d;this.ad=!!e;this.pd=f;this.key=++ao;this.mc=this.wb=!1}function co(a){a.mc=!0;a.listener=null;a.c=null;a.src=null;a.pd=null};function eo(a){this.src=a;this.listeners={};this.c=0}eo.prototype.add=function(a,b,d,e,f){var g=a.toString();a=this.listeners[g];a||(a=this.listeners[g]=[],this.c++);var h=fo(a,b,e,f);-1<h?(b=a[h],d||(b.wb=!1)):(b=new bo(b,this.src,g,!!e,f),b.wb=d,a.push(b));return b};
eo.prototype.remove=function(a,b,d,e){a=a.toString();if(!(a in this.listeners))return!1;var f=this.listeners[a];b=fo(f,b,d,e);return-1<b?(co(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete this.listeners[a],this.c--),!0):!1};function go(a,b){var d=b.type;if(d in a.listeners){var e=a.listeners[d],f=le(e,b),g;(g=0<=f)&&Array.prototype.splice.call(e,f,1);g&&(co(b),0==a.listeners[d].length&&(delete a.listeners[d],a.c--))}}
function ho(a,b,d,e,f){a=a.listeners[b.toString()];b=-1;a&&(b=fo(a,d,e,f));return-1<b?a[b]:null}function fo(a,b,d,e){for(var f=0;f<a.length;++f){var g=a[f];if(!g.mc&&g.listener==b&&g.ad==!!d&&g.pd==e)return f}return-1};var io="closure_lm_"+(1E6*Math.random()|0),jo={},ko=0;
function lo(a,b,d,e,f){if(ea(b)){for(var g=0;g<b.length;g++)lo(a,b[g],d,e,f);return null}d=mo(d);if(a&&a[$n])a=a.f(b,d,e,f);else{if(!b)throw Error("Invalid event type");var g=!!e,h=no(a);h||(a[io]=h=new eo(a));d=h.add(b,d,!1,e,f);if(!d.c){e=oo();d.c=e;e.src=a;e.listener=d;if(a.addEventListener)a.addEventListener(b.toString(),e,g);else if(a.attachEvent)a.attachEvent(po(b.toString()),e);else throw Error("addEventListener and attachEvent are unavailable.");ko++}a=d}return a}
function oo(){var a=qo,b=Rn?function(d){return a.call(b.src,b.listener,d)}:function(d){d=a.call(b.src,b.listener,d);if(!d)return d};return b}function ro(a,b,d,e,f){if(ea(b))for(var g=0;g<b.length;g++)ro(a,b[g],d,e,f);else d=mo(d),a&&a[$n]?a.oc(b,d,e,f):a&&(a=no(a))&&(b=ho(a,b,d,!!e,f))&&so(b)}
function so(a){if(!ha(a)&&a&&!a.mc){var b=a.src;if(b&&b[$n])go(b.i,a);else{var d=a.type,e=a.c;b.removeEventListener?b.removeEventListener(d,e,a.ad):b.detachEvent&&b.detachEvent(po(d),e);ko--;(d=no(b))?(go(d,a),0==d.c&&(d.src=null,b[io]=null)):co(a)}}}function po(a){return a in jo?jo[a]:jo[a]="on"+a}function to(a,b,d,e){var f=!0;if(a=no(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.ad==d&&!g.mc&&(g=uo(g,e),f=f&&!1!==g)}return f}
function uo(a,b){var d=a.listener,e=a.pd||a.src;a.wb&&so(a);return d.call(e,b)}
function qo(a,b){if(a.mc)return!0;if(!Rn){var d;if(!(d=b))a:{d=["window","event"];for(var e=t,f;f=d.shift();)if(null!=e[f])e=e[f];else{d=null;break a}d=e}f=d;d=new Yn(f,this);e=!0;if(!(0>f.keyCode||void 0!=f.returnValue)){a:{var g=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(l){g=!0}if(g||void 0==f.returnValue)f.returnValue=!0}f=[];for(g=d.c;g;g=g.parentNode)f.push(g);for(var g=a.type,h=f.length-1;!d.g&&0<=h;h--){d.c=f[h];var k=to(f[h],g,!0,d),e=e&&k}for(h=0;!d.g&&h<f.length;h++)d.c=f[h],k=to(f[h],
g,!1,d),e=e&&k}return e}return uo(a,new Yn(b,this))}function no(a){a=a[io];return a instanceof eo?a:null}var vo="__closure_events_fn_"+(1E9*Math.random()>>>0);function mo(a){if(ia(a))return a;a[vo]||(a[vo]=function(b){return a.handleEvent(b)});return a[vo]};function wo(a){a=void 0!==a?a:{};this.i=null;var b;a.element?(b=a.element,delete a.element):b=$("<div />")[0];this.s=$("<button>",{"class":"close",html:"&times;"});this.v=$("<div/>").append(this.s).append(b);a.element=$("<div />")[0];Nn.call(this,a)}x(wo,Nn);
wo.prototype.setMap=function(a){var b=this.get("element");this.get("map")&&(this.i&&(so(this.i),this.i=null),$(b).popover("destroy"));wo.ca.setMap.call(this,a);if(a){var d=this.v;window.setTimeout(function(){$(b).popover({content:d,html:!0,placement:"top",template:'<div class="popover ngeo-popover" role="tooltip">  <div class="arrow"></div>  <h3 class="popover-title"></h3>  <div class="popover-content"></div></div>'}).popover("show")},0);this.i=lo(this.s[0],"click",this.C,!1,this)}};
wo.prototype.setMap=wo.prototype.setMap;wo.prototype.C=function(){var a=this.get("map");a&&a.j.remove(this)};var xo="StopIteration"in t?t.StopIteration:{message:"StopIteration",stack:""};function yo(){}yo.prototype.next=function(){throw xo;};yo.prototype.Xb=function(){return this};function zo(a){if(a instanceof yo)return a;if("function"==typeof a.Xb)return a.Xb(!1);if(fa(a)){var b=0,d=new yo;d.next=function(){for(;;){if(b>=a.length)throw xo;if(b in a)return a[b++];b++}};return d}throw Error("Not implemented");}
function Ao(a,b){if(fa(a))try{me(a,b,void 0)}catch(d){if(d!==xo)throw d;}else{a=zo(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(d){if(d!==xo)throw d;}}}function Bo(a){if(fa(a))return pe(a);a=zo(a);var b=[];Ao(a,function(a){b.push(a)});return b};function Co(){};function Do(){}x(Do,Co);Do.prototype.eb=function(){var a=0;Ao(this.Xb(!0),function(){a++});return a};Do.prototype.clear=function(){var a=Bo(this.Xb(!0)),b=this;me(a,function(a){b.remove(a)})};function Eo(a){this.c=a}x(Eo,Do);function Fo(a){if(!a.c)return!1;try{return a.c.setItem("__sak","1"),a.c.removeItem("__sak"),!0}catch(b){return!1}}n=Eo.prototype;n.set=function(a,b){try{this.c.setItem(a,b)}catch(d){if(0==this.c.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};n.get=function(a){a=this.c.getItem(a);if(!ga(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};n.remove=function(a){this.c.removeItem(a)};n.eb=function(){return this.c.length};
n.Xb=function(a){var b=0,d=this.c,e=new yo;e.next=function(){if(b>=d.length)throw xo;var e=d.key(b++);if(a)return e;e=d.getItem(e);if(!ga(e))throw"Storage mechanism: Invalid value was encountered";return e};return e};n.clear=function(){this.c.clear()};n.key=function(a){return this.c.key(a)};function Go(){var a=null;try{a=window.localStorage||null}catch(b){}this.c=a}x(Go,Eo);function Ho(a){if(a.Ga&&"function"==typeof a.Ga)return a.Ga();if(ga(a))return a.split("");if(fa(a)){for(var b=[],d=a.length,e=0;e<d;e++)b.push(a[e]);return b}return we(a)}
function Io(a,b,d){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,d);else if(fa(a)||ga(a))me(a,b,d);else{var e;if(a.La&&"function"==typeof a.La)e=a.La();else if(a.Ga&&"function"==typeof a.Ga)e=void 0;else if(fa(a)||ga(a)){e=[];for(var f=a.length,g=0;g<f;g++)e.push(g)}else e=xe(a);for(var f=Ho(a),g=f.length,h=0;h<g;h++)b.call(d,f[h],e&&e[h],a)}};function Jo(a,b){this.b={};this.c=[];this.f=this.g=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else if(a){a instanceof Jo?(d=a.La(),e=a.Ga()):(d=xe(a),e=we(a));for(var f=0;f<d.length;f++)this.set(d[f],e[f])}}n=Jo.prototype;n.eb=function(){return this.g};n.Ga=function(){Ko(this);for(var a=[],b=0;b<this.c.length;b++)a.push(this.b[this.c[b]]);return a};n.La=function(){Ko(this);return this.c.concat()};
n.equals=function(a,b){if(this===a)return!0;if(this.g!=a.eb())return!1;var d=b||Lo;Ko(this);for(var e,f=0;e=this.c[f];f++)if(!d(this.get(e),a.get(e)))return!1;return!0};function Lo(a,b){return a===b}n.Xa=function(){return 0==this.g};n.clear=function(){this.b={};this.f=this.g=this.c.length=0};n.remove=function(a){return Mo(this.b,a)?(delete this.b[a],this.g--,this.f++,this.c.length>2*this.g&&Ko(this),!0):!1};
function Ko(a){if(a.g!=a.c.length){for(var b=0,d=0;b<a.c.length;){var e=a.c[b];Mo(a.b,e)&&(a.c[d++]=e);b++}a.c.length=d}if(a.g!=a.c.length){for(var f={},d=b=0;b<a.c.length;)e=a.c[b],Mo(f,e)||(a.c[d++]=e,f[e]=1),b++;a.c.length=d}}n.get=function(a,b){return Mo(this.b,a)?this.b[a]:b};n.set=function(a,b){Mo(this.b,a)||(this.g++,this.c.push(a),this.f++);this.b[a]=b};n.forEach=function(a,b){for(var d=this.La(),e=0;e<d.length;e++){var f=d[e],g=this.get(f);a.call(b,g,f,this)}};n.clone=function(){return new Jo(this)};
n.transpose=function(){for(var a=new Jo,b=0;b<this.c.length;b++){var d=this.c[b];a.set(this.b[d],d)}return a};n.Xb=function(a){Ko(this);var b=0,d=this.f,e=this,f=new yo;f.next=function(){if(d!=e.f)throw Error("The map has changed since the iterator was created");if(b>=e.c.length)throw xo;var f=e.c[b++];return a?f:e.b[f]};return f};function Mo(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function No(a,b){this.b=this.j=this.g="";this.o=null;this.f=this.s="";this.i=!1;var d;a instanceof No?(this.i=aa(b)?b:a.i,Oo(this,a.g),this.j=a.j,this.b=a.b,Po(this,a.o),this.Ob(a.Va()),Qo(this,a.c.clone()),this.f=a.f):a&&(d=String(a).match(Zd))?(this.i=!!b,Oo(this,d[1]||"",!0),this.j=Ro(d[2]||""),this.b=Ro(d[3]||"",!0),Po(this,d[4]),this.Ob(d[5]||"",!0),Qo(this,d[6]||"",!0),this.f=Ro(d[7]||"")):(this.i=!!b,this.c=new So(null,0,this.i))}n=No.prototype;
n.toString=function(){var a=[],b=this.g;b&&a.push(To(b,Uo,!0),":");var d=this.b;if(d||"file"==b)a.push("//"),(b=this.j)&&a.push(To(b,Uo,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.o,null!=d&&a.push(":",String(d));if(d=this.Va())this.b&&"/"!=d.charAt(0)&&a.push("/"),a.push(To(d,"/"==d.charAt(0)?Vo:Wo,!0));(d=this.c.toString())&&a.push("?",d);(d=this.f)&&a.push("#",To(d,Xo));return a.join("")};
n.resolve=function(a){var b=this.clone(),d=!!a.g;d?Oo(b,a.g):d=!!a.j;d?b.j=a.j:d=!!a.b;d?b.b=a.b:d=null!=a.o;var e=a.Va();if(d)Po(b,a.o);else if(d=!!a.s){if("/"!=e.charAt(0))if(this.b&&!this.s)e="/"+e;else{var f=b.Va().lastIndexOf("/");-1!=f&&(e=b.Va().substr(0,f+1)+e)}f=e;if(".."==f||"."==f)e="";else if(-1!=f.indexOf("./")||-1!=f.indexOf("/.")){for(var e=0==f.lastIndexOf("/",0),f=f.split("/"),g=[],h=0;h<f.length;){var k=f[h++];"."==k?e&&h==f.length&&g.push(""):".."==k?((1<g.length||1==g.length&&
""!=g[0])&&g.pop(),e&&h==f.length&&g.push("")):(g.push(k),e=!0)}e=g.join("/")}else e=f}d?b.Ob(e):d=""!==a.c.toString();d?Qo(b,Ro(a.c.toString())):d=!!a.f;d&&(b.f=a.f);return b};n.clone=function(){return new No(this)};function Oo(a,b,d){a.g=d?Ro(b,!0):b;a.g&&(a.g=a.g.replace(/:$/,""))}function Po(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.o=b}else a.o=null}n.Va=function(){return this.s};n.Ob=function(a,b){this.s=b?Ro(a,!0):a;return this};
function Qo(a,b,d){b instanceof So?(a.c=b,Yo(a.c,a.i)):(d||(b=To(b,Zo)),a.c=new So(b,0,a.i))}function $o(a){return a instanceof No?a.clone():new No(a,void 0)}function ap(a,b){a instanceof No||(a=$o(a));b instanceof No||(b=$o(b));return a.resolve(b)}function Ro(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function To(a,b,d){return ga(a)?(a=encodeURI(a).replace(b,bp),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function bp(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Uo=/[#\/\?@]/g,Wo=/[\#\?:]/g,Vo=/[\#\?]/g,Zo=/[\#\?@]/g,Xo=/#/g;function So(a,b,d){this.b=this.c=null;this.g=a||null;this.f=!!d}function cp(a){a.c||(a.c=new Jo,a.b=0,a.g&&$d(a.g,function(b,d){a.add(decodeURIComponent(b.replace(/\+/g," ")),d)}))}n=So.prototype;n.eb=function(){cp(this);return this.b};
n.add=function(a,b){cp(this);this.g=null;a=dp(this,a);var d=this.c.get(a);d||this.c.set(a,d=[]);d.push(b);this.b=this.b+1;return this};n.remove=function(a){cp(this);a=dp(this,a);return Mo(this.c.b,a)?(this.g=null,this.b=this.b-this.c.get(a).length,this.c.remove(a)):!1};n.clear=function(){this.c=this.g=null;this.b=0};n.Xa=function(){cp(this);return 0==this.b};function ep(a,b){cp(a);b=dp(a,b);return Mo(a.c.b,b)}
n.La=function(){cp(this);for(var a=this.c.Ga(),b=this.c.La(),d=[],e=0;e<b.length;e++)for(var f=a[e],g=0;g<f.length;g++)d.push(b[e]);return d};n.Ga=function(a){cp(this);var b=[];if(ga(a))ep(this,a)&&(b=oe(b,this.c.get(dp(this,a))));else{a=this.c.Ga();for(var d=0;d<a.length;d++)b=oe(b,a[d])}return b};n.set=function(a,b){cp(this);this.g=null;a=dp(this,a);ep(this,a)&&(this.b=this.b-this.c.get(a).length);this.c.set(a,[b]);this.b=this.b+1;return this};
n.get=function(a,b){var d=a?this.Ga(a):[];return 0<d.length?String(d[0]):b};n.toString=function(){if(this.g)return this.g;if(!this.c)return"";for(var a=[],b=this.c.La(),d=0;d<b.length;d++)for(var e=b[d],f=encodeURIComponent(String(e)),e=this.Ga(e),g=0;g<e.length;g++){var h=f;""!==e[g]&&(h+="="+encodeURIComponent(String(e[g])));a.push(h)}return this.g=a.join("&")};n.clone=function(){var a=new So;a.g=this.g;this.c&&(a.c=this.c.clone(),a.b=this.b);return a};
function dp(a,b){var d=String(b);a.f&&(d=d.toLowerCase());return d}function Yo(a,b){b&&!a.f&&(cp(a),a.g=null,a.c.forEach(function(a,b){var f=b.toLowerCase();b!=f&&(this.remove(b),this.remove(f),0<a.length&&(this.g=null,this.c.set(dp(this,f),pe(a)),this.b=this.b+a.length))},a));a.f=b}n.extend=function(a){for(var b=0;b<arguments.length;b++)Io(arguments[b],function(a,b){this.add(b,a)},this)};function fp(a,b){this.b=b;this.c=$o(a)}fp.prototype.zi=function(){return this.c};fp.prototype.getUri=fp.prototype.zi;fp.prototype.Va=function(){return this.c.Va()};fp.prototype.getPath=fp.prototype.Va;fp.prototype.kd=function(a){var b;void 0!==a?(b=this.c.clone(),b.c.extend(a)):b=this.c;return b.toString()};fp.prototype.getUriString=fp.prototype.kd;fp.prototype.kj=function(a){return ep(this.c.c,a)};fp.prototype.hasParam=fp.prototype.kj;fp.prototype.Zf=function(a){return this.c.c.get(a)};
fp.prototype.getParam=fp.prototype.Zf;fp.prototype.re=function(){return this.c.c.La()};fp.prototype.getParamKeys=fp.prototype.re;fp.prototype.updateParams=function(a){var b=this.c.c;ve(a,function(a,e){b.set(e,a)})};fp.prototype.updateParams=fp.prototype.updateParams;fp.prototype.dd=function(a){this.c.c.remove(a)};fp.prototype.deleteParam=fp.prototype.dd;fp.prototype.refresh=function(){this.b.replaceState(null,"",this.kd())};fp.prototype.refresh=fp.prototype.refresh;fp.prototype.Ob=function(a){this.c.Ob(a)};
fp.prototype.setPath=fp.prototype.Ob;function gp(a,b){var d=b.history,e=new fp(b.location,b.history),f=e.kd();a.$watch(function(){var b=e.kd();f!==b&&a.$evalAsync(function(){f=b;void 0!==d&&void 0!==d.replaceState&&d.replaceState(null,"",b);a.$broadcast("ngeoLocationChange")})});return e}gp.$inject=["$rootScope","$window"];A.factory("ngeoLocation",gp);function hp(a){this.c={};this.g=a;this.b=new Go;var b=a.re(),d;if(0===b.length||1===b.length&&"debug"==b[0]){if(Fo(this.b))for(a=this.b.eb(),b=0;b<a;++b)d=this.b.key(b),this.c[d]=this.b.get(d)}else for(var e=a.re(),b=0;b<e.length;++b)d=e[b],this.c[d]=a.Zf(d);this.g.updateParams({})}hp.$inject=["ngeoLocation"];function ip(a,b){a.g.updateParams(b);if(Fo(a.b))for(var d in b)a.b.set(d,b[d])}hp.prototype.dd=function(a){this.g.dd(a);Fo(this.b)&&this.b.remove(a)};A.service("ngeoStateManager",hp);function jp(a){this.v=this.f=this.i=null;this.o=void 0!==a.fill?a.fill:null;this.fa=[0,0];this.c=a.points;this.g=void 0!==a.radius?a.radius:a.hm;this.j=void 0!==a.Ic?a.Ic:this.g;this.s=void 0!==a.angle?a.angle:0;this.b=void 0!==a.stroke?a.stroke:null;this.G=this.N=this.R=null;var b=a.Fh,d="",e="",f=0,g=null,h,k=0;this.b&&(h=Cg(this.b.c),k=this.b.b,void 0===k&&(k=1),g=this.b.g,Lg||(g=null),e=this.b.i,void 0===e&&(e="round"),d=this.b.f,void 0===d&&(d="round"),f=this.b.j,void 0===f&&(f=10));var l=2*
(this.g+k)+1,d={strokeStyle:h,strokeWidth:k,size:l,lineCap:d,O:g,lineJoin:e,miterLimit:f};if(void 0===b){this.f=document.createElement("CANVAS");this.f.height=l;this.f.width=l;var b=l=this.f.width,m=this.f.getContext("2d");this.xg(d,m,0,0);this.o?this.v=this.f:(m=this.v=document.createElement("CANVAS"),m.height=d.size,m.width=d.size,m=m.getContext("2d"),this.wg(d,m,0,0))}else l=Math.round(l),(e=!this.o)&&(m=this.wg.bind(this,d)),f=this.b?ch(this.b):"-",g=this.o?Wg(this.o):"-",this.i&&f==this.i[1]&&
g==this.i[2]&&this.g==this.i[3]&&this.j==this.i[4]&&this.s==this.i[5]&&this.c==this.i[6]||(this.i=["r"+f+g+(void 0!==this.g?this.g.toString():"-")+(void 0!==this.j?this.j.toString():"-")+(void 0!==this.s?this.s.toString():"-")+(void 0!==this.c?this.c.toString():"-"),f,g,this.g,this.j,this.s,this.c]),m=b.add(this.i[0],l,l,this.xg.bind(this,d),m),this.f=m.image,this.fa=[m.offsetX,m.offsetY],b=m.image.width,this.v=e?m.oj:this.f;this.R=[l/2,l/2];this.N=[l,l];this.G=[b,b];Xg.call(this,{opacity:1,Nb:void 0!==
a.Nb?a.Nb:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,nb:void 0!==a.nb?a.nb:!0})}x(jp,Xg);n=jp.prototype;n.zc=function(){return this.R};n.Ee=function(){return this.v};n.yd=function(){return this.f};n.oe=function(){return this.G};n.Fc=function(){return 2};n.Ua=function(){return this.fa};n.lb=function(){return this.N};n.Ae=Wa;n.load=Wa;n.Xe=Wa;
n.xg=function(a,b,d,e){var f;b.setTransform(1,0,0,1,0,0);b.translate(d,e);b.beginPath();this.j!==this.g&&(this.c*=2);for(d=0;d<=this.c;d++)e=2*d*Math.PI/this.c-Math.PI/2+this.s,f=0===d%2?this.g:this.j,b.lineTo(a.size/2+f*Math.cos(e),a.size/2+f*Math.sin(e));this.o&&(b.fillStyle=Fg(this.o.c),b.fill());this.b&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.O&&b.setLineDash(a.O),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke());b.closePath()};
n.wg=function(a,b,d,e){b.setTransform(1,0,0,1,0,0);b.translate(d,e);b.beginPath();this.j!==this.g&&(this.c*=2);var f;for(d=0;d<=this.c;d++)f=2*d*Math.PI/this.c-Math.PI/2+this.s,e=0===d%2?this.g:this.j,b.lineTo(a.size/2+e*Math.cos(f),a.size/2+e*Math.sin(f));b.fillStyle=Rg;b.fill();this.b&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.strokeWidth,a.O&&b.setLineDash(a.O),b.stroke());b.closePath()};G.constant("gmfPermalinkOptions",{});
function kp(a,b,d,e,f,g,h,k,l){this.v=b;this.S=d;this.C=e.Bb();this.Ca=f;this.c=g;this.R=h;this.u=k;this.o=this.f=this.g=null;void 0!==l.crosshairStyle?this.s=l.crosshairStyle:this.s=[new eh({image:new jp({stroke:new bh({color:"rgba(255, 255, 255, 0.8)",width:5}),points:4,radius:8,Ic:0,angle:0})}),new eh({image:new jp({stroke:new bh({color:"rgba(255, 0, 0, 1)",width:2}),points:4,radius:8,Ic:0,angle:0})})];I(this.v,"change",this.Gi,this);this.R.Eb().then(function(b){this.o=b;a(function(){lp(this)}.bind(this))}.bind(this));
this.j=null;this.b={}}kp.$inject="$timeout ngeoBackgroundLayerMgr ngeoDebounce ngeoFeatureOverlayMgr ngeoLayerHelper ngeoStateManager gmfThemes gmfTreeManager gmfPermalinkOptions".split(" ");function mp(a,b){a.b[b]?(a.b[b].xe.length&&(a.b[b].xe.forEach(function(a){so(a)},a),a.b[b].xe.length=0),a.b[b].vd.length&&(a.b[b].vd.forEach(function(a){H(a)},a),a.b[b].vd.length=0)):a.b[b]={xe:[],vd:[]}}function np(a,b,d){a.b[b]||mp(a,b);a.b[b].vd.push(d)}
kp.prototype.Sf=function(){var a=null,b=this.c.c.map_x,d=this.c.c.map_y;void 0!==b&&void 0!==d&&(a=[+b,+d]);return a};kp.prototype.getMapCenter=kp.prototype.Sf;kp.prototype.Vf=function(){var a=null,b=this.c.c.map_zoom;void 0!==b&&(a=+b);return a};kp.prototype.getMapZoom=kp.prototype.Vf;kp.prototype.Tf=function(){return"true"===this.c.c.map_crosshair?!0:!1};kp.prototype.getMapCrosshair=kp.prototype.Tf;kp.prototype.Uf=function(){return this.c.c.map_tooltip||null};kp.prototype.getMapTooltip=kp.prototype.Uf;
kp.prototype.setMap=function(a){if(a!==this.g){if(this.g){H(this.j);this.j=null;this.i&&(this.i.setMap(null),this.i.K().clear(),this.i=null);var b=Sd(this.f),b=v(b);mp(this,b);this.g=this.f=null}a&&(op(this,a),this.g=a)}};kp.prototype.setMap=kp.prototype.setMap;
function op(a,b){var d=Y(b),e=a.Sf();null!==e&&vl(d,e);var f=a.Vf();null!==f&&xl(d,f);a.j=I(d,"propertychange",a.S(function(){var a=pl(d),b=sl(d),e={};e.map_x=Math.round(a[0]);e.map_y=Math.round(a[1]);e.map_zoom=b;ip(this.c,e)}.bind(a),300,!0),a);if(a.Tf()){var g;null!==e?g=e:g=pl(d);f=new lh(new Uh(g));f.ja(a.s);a.C.oa(f)}if(f=a.Uf()){var h;null!==e?h=e:h=pl(d);e=$("<div/>",{"class":"gmf-permalink-tooltip",text:f})[0];h=new wo({element:e,position:h});b.j.push(h)}pp(a,b)}
kp.prototype.Nf=function(a){var b=null,d=this.c.c.baselayer_ref;if(void 0!==d)for(var e=0,f=a.length;e<f;e++)if(a[e].get("label")===d){b=a[e];break}return b};kp.prototype.getBackgroundLayer=kp.prototype.Nf;n=kp.prototype;n.Gi=function(){if(this.g){var a=this.v.get(this.g).get("label"),b={};b.baselayer_ref=a;ip(this.c,b)}};
function lp(a){if(a.o){var b=Sd(a.f),d,e,f;a.o.forEach(function(a){a.children.forEach(function(a){if(a.mixed)f=[],a.children.forEach(function(a){e=qp(a.name,lg(a)===qg);var g=this.c.c[e];void 0!==g&&(g="true"===g?!0:!1)&&(a=a.name,(d=this.Ca.jd(a,b.b))?d.Za(g):f.push(a))},this),f.length&&this.u.Sd([{node:a,layers:f}]);else{e=qp(a.name,lg(a)===qg);var g=this.c.c[e];void 0!==g&&((d=this.Ca.jd(a.name,b.b))?rp(d,g):""!==g&&(f=g.split(","),this.u.Sd([{node:a,layers:f}])))}},this)},a);b.forEach(function(a){sp(this,
a,!0)},a);var g=v(b);np(a,g,I(b,"add",a.Ci,a));np(a,g,I(b,"remove",a.Di,a))}}function rp(a,b){a.K().updateParams({LAYERS:b})}n.Ci=function(a){sp(this,a.element)};n.Di=function(a){a=a.element;var b=v(a);mp(this,b);a.get("isMerged")&&(b=a.K(),b=v(b),mp(this,b));a=tp(a);this.c.dd(a)};function sp(a,b,d){d=void 0!==d?d:!1;var e=v(b);np(a,e,I(b,O("visible"),a.Si,a));if(b.get("isMerged")){var e=b.K(),f=v(e);np(a,f,I(e,"change",a.jj.bind(a,b,e),a));d||e.c()}else d||up(a,b)}n.Si=function(a){up(this,a.target)};
function up(a,b){var d=Qd(b),e=tp(b),f={};b.get("isMerged")?!1===d&&(f[e]="",ip(a.c,f)):(f[e]=d,ip(a.c,f))}n.jj=function(a,b){var d=b.b.LAYERS;ea(d)&&(d=d.join(","));var e=a.get("layerName"),f={};f["tree_group_layers_"+e]=d;ip(this.c,f)};function tp(a){var b=a.get("layerName");a=a.get("isMerged");return qp(b,a)}function qp(a,b){return b?"tree_group_layers_"+a:"tree_enable_"+a}function pp(a,b){a.f=a.Ca.ne(b,"data");lp(a)}G.service("gmfPermalink",kp);A.value("ngeoPopupTemplateUrl",function(a,b){var d=b.ngeoPopupTemplateurl;return void 0!==d?d:"ngeo/popup.html"});function vp(a){return{restrict:"A",templateUrl:a,link:function(a,d){d.addClass("popover");a.close=function(a){a&&(a.stopPropagation(),a.preventDefault());d.addClass("hidden")};a.$watch("open",function(a){d.css("display",a?"block":"none")})}}}vp.$inject=["ngeoPopupTemplateUrl"];A.directive("ngeoPopup",vp);function wp(a,b){this.c=b.$new(!0);this.b=angular.element("<div ngeo-popup></div>");a(this.b)(this.c);angular.element(document.body).append(this.b)}wp.prototype.hi=function(){return this.c.open};wp.prototype.getOpen=wp.prototype.hi;wp.prototype.Rg=function(a){this.c.open=a};wp.prototype.setOpen=wp.prototype.Rg;wp.prototype.destroy=function(){this.c.$destroy();this.b.remove()};wp.prototype.destroy=wp.prototype.destroy;wp.prototype.Tg=function(a){this.c.title=a};wp.prototype.setTitle=wp.prototype.Tg;
wp.prototype.Pg=function(a){this.c.content=a};wp.prototype.setContent=wp.prototype.Pg;function xp(a,b){return function(){return new wp(a,b)}}xp.$inject=["$compile","$rootScope"];A.factory("ngeoCreatePopup",xp);A.value("ngeoLayertreeTemplateUrl",function(a,b){var d=b.ngeoLayertreeTemplateurl;return void 0!==d?d:"ngeo/layertree.html"});function yp(a,b){return{restrict:"A",scope:!0,templateUrl:b,controller:"NgeoLayertreeController"}}yp.$inject=["$compile","ngeoLayertreeTemplateUrl"];A.directive("ngeoLayertree",yp);
function zp(a,b,d){this.isRoot=b=void 0===d.ngeoLayertreeNotroot;var e=d.ngeoLayertree;this.node=void 0;b?a.$watch(e,function(a){this.node=a}.bind(this)):this.node=a.$eval(e);e=a.$eval(d.ngeoLayertreeMap);this.parent=a.$parent.layertreeCtrl;this.uid=v(this);this.depth=b?0:this.parent.depth+1;a.uid=this.uid;a.depth=this.depth;this.map=e;e=d.ngeoLayertreeNodelayer;void 0===e&&(e=a.$eval(d.ngeoLayertreeNodelayerexpr));this.nodelayerExpr=e;this.layer=b?null:a.$eval(e,{node:this.node,depth:this.depth});
b=d.ngeoLayertreeListeners;void 0===b&&(b=a.$eval(d.ngeoLayertreeListenersexpr));this.listenersExpr=b;null!=b&&a.$eval(b,{treeScope:a,treeCtrl:this});a.layertreeCtrl=this}ra("ngeo.LayertreeController",zp);zp.$inject=["$scope","$element","$attrs"];zp.prototype.ni=function(a){var b=this.layer,d=this.map;if(void 0!==a)a?hg(d,b):Sd(gg(d)).remove(b);else return 0<=Sd(gg(d)).b.indexOf(b)};zp.prototype.getSetActive=zp.prototype.ni;A.controller("NgeoLayertreeController",zp);G.value("gmfLayertreeTemplate",function(){return'<div ngeo-layertree="gmfLayertreeCtrl.tree" ngeo-layertree-map="gmfLayertreeCtrl.map" ngeo-layertree-nodelayer="gmfLayertreeCtrl.getLayer(node, depth)" ngeo-layertree-listeners="gmfLayertreeCtrl.listeners(treeScope, treeCtrl)" ngeo-layertree-templateurl="gmf/layertree.html"></div>'});A.value("ngeoLayertreeTemplateUrl",function(){return"gmf/layertree.html"});
function Ap(a){return{scope:{map:"=gmfLayertreeMap",tree:"=gmfLayertreeSource",openLinksInNewWindowFn:"&gmfLayertreeOpenlinksinnewwindow"},bindToController:!0,controller:"GmfLayertreeController",controllerAs:"gmfLayertreeCtrl",template:a}}Ap.$inject=["gmfLayertreeTemplate"];G.directive("gmfLayertree",Ap);
function Bp(a,b,d,e,f,g,h,k){this.j=a;this.i=b;this.c=h;this.Ca=f;this.o=k;this.s=e();this.g={};this.b={};this.openLinksInNewWindow=!0===this.openLinksInNewWindowFn()?!0:!1;this.f=this.Ca.ne(this.map,"data")}ra("gmf.LayertreeController",Bp);Bp.$inject="$http $sce $scope ngeoCreatePopup ngeoLayerHelper gmfPermalink gmfWmsUrl gmfTreeManager".split(" ");
Bp.prototype.la=function(a,b,d){var e=lg(a),f=null;if(1===b){switch(e){case mg:var e=new gb,g;d=[];f=[];Cp(this,a,d);for(a=0;a<d.length;a++)g=d[a],b=this.la(g,1,!0),null!=b&&(e.push(b),f.push(g.name));a=this.Ca.fe(e);this.b[v(a)]=[];return a;case qg:f=Dp(this,a,!0),b=this.Ca.ge(a.url||this.c,""),Ep(b,f),this.b[v(b)]=[],f=b}switch(e){case ng:f=Fp(this,a);break;case pg:case og:f=a.url||this.c,f=d?this.Ca.ge(f,a.name):null}}null!=f&&(d=Gp(this,a),f.set("querySourceIds",d),f.set("layerName",a.name),f.set("isMerged",
e===qg),jb(Sd(this.f),0,f),e=a.metadata,void 0===a.children&&null!=e&&"true"!=e.isChecked&&f.Za(!1));return f};Bp.prototype.getLayer=Bp.prototype.la;function Fp(a,b){var d=new Yd;a.Ca.he(b.url||"",b.name).then(function(a){Wd(d,a.K());d.set("capabilitiesStyles",a.get("capabilitiesStyles"))});return d}function Cp(a,b,d){var e=b.children;if(void 0!==e)for(b=0;b<e.length;b++)Cp(a,e[b],d);else d.push(b)}
function Dp(a,b,d){var e=[],f=[];Cp(a,b,f);var g;for(g=0;g<f.length;g++)b=f[g],a=b.metadata,(!d||null!=a&&"false"!=a.isChecked)&&e.push(b.name);return e}function Hp(a){for(;1<a.depth;)a=a.parent;return a}Bp.prototype.listeners=function(a,b){var d=this.f;a.$on("$destroy",function(){Sd(d).remove(b.layer)}.bind(b))};Bp.prototype.listeners=Bp.prototype.listeners;
Bp.prototype.li=function(a){var b,d=Y(this.map).X(),e=a.maxResolutionHint;a=a.minResolutionHint;if(void 0!==a&&d<a||void 0!==e&&d>e)b="outOfResolution";return b||null};Bp.prototype.getResolutionStyle=Bp.prototype.li;
Bp.prototype.ol=function(a){var b=a.node,d=lg(b),e=a.layer,f;f=Hp(a);var g=f.layer;a="on"===this.Xf(a)?!0:!1;switch(d){case pg:case ng:case og:if(g instanceof Rd)e.Za(!a);else{d=g.K();f=f.node;var e=Qd(g)?d.b.LAYERS.split(","):[],h,k=[],d=Dp(this,f);for(f=0;f<d.length;f++)h=d[f],h===b.name?a||k.push(h):0<=e.indexOf(h)&&k.push(h);Ep(g,k)}break;case mg:e=[];d=Dp(this,b);b=this.Ca.gd(g);for(f=0;f<b.length;f++)g=b[f],k=b[f].K(),k instanceof cg?0<=d.indexOf(k.la())&&e.push(g):k instanceof hf&&0<=d.indexOf(k.b.LAYERS)&&
e.push(g);for(f=0;f<e.length;f++)e[f].Za(!a);break;case qg:d=Dp(this,b);k=g.K();b=Qd(g)?k.b.LAYERS.split(","):[];if(a)for(f=0;f<d.length;f++)ob(b,d[f]);else for(f=0;f<d.length;f++)0<=b.indexOf(d[f])||b.push(d[f]);Ep(g,b)}};Bp.prototype.toggleActive=Bp.prototype.ol;
Bp.prototype.Xf=function(a){var b,d=a.layer,e=a.node,f=lg(e),g=Hp(a).layer,h=this.b[v(g)];switch(f){case pg:case ng:case og:if(g instanceof Rd){if(null==d){g=this.Ca.gd(Hp(a).layer);b=a.node;var k;for(k=0;k<g.length;k++)if(f=g[k],d=f.K(),d instanceof cg&&d.la()===b.name){a.layer=f;break}else if(d instanceof hf&&d.b.LAYERS===b.name){a.layer=f;break}d=a.layer}b=null!=d&&Qd(d)?"on":"off"}else a=g.K(),b=0>a.b.LAYERS.split(",").indexOf(e.name)||!Qd(g)?"off":"on";"on"===b?0<=h.indexOf(e.name)||h.push(e.name):
ob(h,e.name);break;case mg:case qg:e=Dp(this,e);for(a=g=0;a<e.length;a++)0<=h.indexOf(e[a])&&g++;b=0===g?"off":g===e.length?"on":"indeterminate"}return b||"off"};Bp.prototype.getNodeState=Bp.prototype.Xf;function Ep(a,b){0>=b.length?a.Za(!1):(a.Za(!0),b.reverse(),a.K().updateParams({LAYERS:b.join(",")}))}
Bp.prototype.ei=function(a){a=a.node;var b=a.metadata.legendRule;return void 0!==a.children||void 0===b||"WMTS"===a.type||"external WMS"===a.type||void 0!==a.childLayers&&1<a.childLayers.length?null:Ip(this,a,b)};Bp.prototype.getLegendIconURL=Bp.prototype.ei;Bp.prototype.fi=function(a){var b=a.node;if(void 0!==b.children)return null;a=a.layer;var d;"WMTS"===b.type&&null!=a?(b=a.get("capabilitiesStyles"),void 0!==b&&(b=b[0].legendURL,void 0!==b&&(d=b[0].href)),d=d||null):d=Ip(this,b);return d};
Bp.prototype.getLegendURL=Bp.prototype.fi;function Ip(a,b,d){var e,f=Y(a.map);e=f.X();f=yd(f.Y());e=25.4/.28*f*39.37*e;a=b.url||a.c;void 0!==a&&(a=ge(a,"FORMAT","image/png"),a=ge(a,"TRANSPARENT",!0),a=ge(a,"SERVICE","wms"),a=ge(a,"VERSION","1.1.1"),a=ge(a,"REQUEST","GetLegendGraphic"),a=ge(a,"LAYER",b.name),a=ge(a,"SCALE",e),void 0!==d&&(a=ge(a,"RULE",d)));return a||null}
Bp.prototype.Wh=function(a){var b=a.uid.toString(),d=a.node;a=d.metadata.metadataUrl;if(void 0!==a){b in this.g||(this.g[b]=this.j.get(a).then(function(a){return this.i.trustAsHtml(a.data)}.bind(this)));var e=this.s;this.g[b].then(function(a){e.Tg(d.name);e.Pg(a);e.Rg(!0)})}};Bp.prototype.displayMetadata=Bp.prototype.Wh;Bp.prototype.gi=function(a){a=a.layer;return void 0!==a&&a instanceof Yd&&void 0!==a.K&&null==a.K()?"noSource":null};Bp.prototype.getNoSourceStyle=Bp.prototype.gi;
Bp.prototype.removeNode=function(a){this.o.Kg(a)};Bp.prototype.removeNode=Bp.prototype.removeNode;Bp.prototype.Gl=function(a){var b=Y(this.map);a=a.minResolutionHint||a.maxResolutionHint;void 0!==a&&ul(b,a)};Bp.prototype.zoomToResolution=Bp.prototype.Gl;function Gp(a,b){var d=[],e=b.children||b;e&&e.length?e.forEach(function(a){d=d.concat(Gp(this,a))},a):void 0!==b.id&&d.push(b.id);return d}G.controller("GmfLayertreeController",Bp);A.directive("ngeoMap",function(){return{restrict:"A",link:function(a,b,d){a.$eval(d.ngeoMap).set("target",b[0])}}});G.directive("gmfMap",function(){return{scope:{getMapFn:"&gmfMapMap"},controller:"GmfMapController",controllerAs:"ctrl",template:'<div ngeo-map="ctrl.map"></div>'}});function Jp(a,b,d){this.map=a.getMapFn();b.Wa(this.map);d.setMap(this.map)}Jp.$inject=["$scope","ngeoFeatureOverlayMgr","gmfPermalink"];G.controller("GmfMapController",Jp);function Kp(){}Kp.prototype.Wg=function(a){var b=a.match(/([\d\.']+)[\s,]+([\d\.']+)/);return!b||(a=parseFloat(b[1].replace("'","")),b=parseFloat(b[2].replace("'","")),isNaN(a)||isNaN(b))?null:[a,b]};Kp.prototype.stringToCoordinates=Kp.prototype.Wg;Kp.prototype.$f=function(a){var b,d,e=[];a.forEach(function(a){b=a.toUpperCase();"EPSG:"!=b.substr(0,5)&&(b="EPSG:"+b);d=ud(b);void 0!==d?e.push(d):console.error("The projection "+b+" is not defined in ol.proj.")});return e};
Kp.prototype.getProjectionList=Kp.prototype.$f;Kp.prototype.We=function(a,b,d,e){var f;void 0===e&&(e=[d]);e.some(function(e){f=Jd(a,e,d);if(Pb(b,f[0],f[1]))return!0;f=null});return f};Kp.prototype.tryProjections=Kp.prototype.We;Kp.prototype.Zg=function(a,b,d,e){var f=this.We(a,b,d,e);null===f&&(f=this.We(a.reverse(),b,d,e));return f};Kp.prototype.tryProjectionsWithInversion=Kp.prototype.Zg;A.service("ngeoAutoProjection",Kp);function Lp(){this.Ba=null}x(Lp,ph);function Mp(a){return ja(a)?a:"string"===typeof a?(a=JSON.parse(a))?a:null:null}n=Lp.prototype;n.V=function(){return"json"};n.readFeature=function(a,b){return Np(this,Mp(a),qh(this,a,b))};n.readFeatures=function(a,b){var d;var e=Mp(a);d=qh(this,a,b);if("Feature"==e.type)d=[Np(this,e,d)];else if("FeatureCollection"==e.type){var f=[],e=e.features,g,h;g=0;for(h=e.length;g<h;++g)f.push(Np(this,e[g],d));d=f}else d=[];return d};
n.readGeometry=function(a,b){var d=Mp(a),e=qh(this,a,b);return Op(d,e)};n.Dd=function(a){return(a=Mp(a).crs)?"name"==a.type?ud(a.properties.name):"EPSG"==a.type?ud("EPSG:"+a.properties.code):null:this.Ba};n.writeFeature=function(a,b){return JSON.stringify(Pp(this,a,b))};n.writeFeatures=function(a,b){return JSON.stringify(Qp(this,a,b))};n.writeGeometry=function(a,b){return JSON.stringify(Rp(a,rh(this,b)))};function Sp(a){ug.call(this);this.b=a?a:null;Tp(this)}x(Sp,ug);function Up(a){var b=[],d,e;d=0;for(e=a.length;d<e;++d)b.push(a[d].clone());return b}function Vp(a){var b,d;if(a.b)for(b=0,d=a.b.length;b<d;++b)Fa(a.b[b],"change",a.c,a)}function Tp(a){var b,d;if(a.b)for(b=0,d=a.b.length;b<d;++b)I(a.b[b],"change",a.c,a)}n=Sp.prototype;n.clone=function(){var a=new Sp(null),b=Up(this.b);Vp(a);a.b=b;Tp(a);a.c();return a};n.cd=function(a){Rb(a);for(var b=this.b,d=0,e=b.length;d<e;++d)Tb(a,b[d].I());return a};
n.se=function(a){this.o!=this.g&&(wa(this.i),this.j=0,this.o=this.g);if(0>a||0!==this.j&&a<this.j)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var d=[],e=this.b,f=!1,g,h;g=0;for(h=e.length;g<h;++g){var k=e[g],l=k.se(a);d.push(l);l!==k&&(f=!0)}if(f)return a=new Sp(null),Vp(a),a.b=d,Tp(a),a.c(),this.i[b]=a;this.j=a;return this};n.V=function(){return"GeometryCollection"};n.Xa=function(){return 0===this.b.length};
n.rotate=function(a,b){for(var d=this.b,e=0,f=d.length;e<f;++e)d[e].rotate(a,b);this.c()};n.sc=function(a){var b=this.b,d,e;d=0;for(e=b.length;d<e;++d)b[d].sc(a);this.c()};n.translate=function(a,b){var d=this.b,e,f;e=0;for(f=d.length;e<f;++e)d[e].translate(a,b);this.c()};n.ha=function(){Vp(this);Sp.ca.ha.call(this)};function Wp(a){a=a?a:{};this.Ba=null;this.Ba=ud(a.Ba?a.Ba:"EPSG:4326");this.c=a.bi}x(Wp,Lp);function Op(a,b){return a?sh((0,Xp[a.type])(a),!1,b):null}function Rp(a,b){return(0,Yp[a.V()])(sh(a,!0,b),b)}
var Xp={Point:function(a){return new Uh(a.coordinates)},LineString:function(a){return new Mh(a.coordinates)},Polygon:function(a){return new ai(a.coordinates)},MultiPoint:function(a){return new Vh(a.coordinates)},MultiLineString:function(a){return new Qh(a.coordinates)},MultiPolygon:function(a){return new ei(a.coordinates)},GeometryCollection:function(a,b){var d=a.geometries.map(function(a){return Op(a,b)});return new Sp(d)}},Yp={Point:function(a){return{type:"Point",coordinates:a.U()}},LineString:function(a){return{type:"LineString",
coordinates:a.U()}},Polygon:function(a,b){var d;b&&(d=b.Pe);return{type:"Polygon",coordinates:a.U(d)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.U()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.U()}},MultiPolygon:function(a,b){var d;b&&(d=b.Pe);return{type:"MultiPolygon",coordinates:a.U(d)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.b.map(function(a){var e=va({},b);delete e.zb;return Rp(a,e)})}},Circle:function(){return{type:"GeometryCollection",
geometries:[]}}};function Np(a,b,d){d=Op(b.geometry,d);var e=new lh;a.c&&nh(e,a.c);mh(e,d);void 0!==b.id&&(e.f=b.id,e.c());b.properties&&e.wa(b.properties);return e}function Pp(a,b,d){d=rh(a,d);a={type:"Feature"};var e=b.gb();void 0!==e&&(a.id=e);(e=b.H())?a.geometry=Rp(e,d):a.geometry=null;d=eb(b);delete d[b.b];ya(d)?a.properties=null:a.properties=d;return a}function Qp(a,b,d){d=rh(a,d);var e=[],f,g;f=0;for(g=b.length;f<g;++f)e.push(Pp(a,b[f],d));return{type:"FeatureCollection",features:e}};A.value("ngeoCreateGeoJSONBloodhound",function(a,b,d,e,f,g){var h=new Wp;a={remote:{url:a,rateLimitWait:50,prepare:function(a,b){b.url=b.url.replace("%QUERY",a);return b},transform:function(a){void 0!==b&&(a={type:"FeatureCollection",features:a.features.filter(b)});return h.readFeatures(a,{zb:d,xb:e})}},datumTokenizer:ba,queryTokenizer:Bloodhound.tokenizers.whitespace};f&&Be(a,f);g&&Be(a.remote,g);return new Bloodhound(a)});function Zp(){return{restrict:"A",link:function(a,b,d){var e=a.$eval(d.ngeoSearch),f=a.$eval(d.ngeoSearchDatasets).slice();f.unshift(e);b.typeahead.apply(b,f);d=a.$eval(d.ngeoSearchListeners);var g=Zp.c(d);b.on("typeahead:open",function(){a.$apply(function(){g.open()})});b.on("typeahead:close",function(){a.$apply(function(){g.close()})});b.on("typeahead:cursorchange",function(b,d,e){a.$apply(function(){g.cursorchange(b,d,e)})});b.on("typeahead:select",function(b,d,e){a.$apply(function(){g.select(b,
d,e)})});b.on("typeahead:autocomplete",function(b,d,e){a.$apply(function(){g.autocomplete(b,d,e)})})}}}Zp.c=function(a){var b;void 0===a?b={open:ba,close:ba,cursorchange:ba,select:ba,autocomplete:ba}:b={open:void 0!==a.open?a.open:ba,close:void 0!==a.close?a.close:ba,cursorchange:void 0!==a.cursorchange?a.cursorchange:ba,select:void 0!==a.select?a.select:ba,autocomplete:void 0!==a.autocomplete?a.autocomplete:ba};return b};A.directive("ngeoSearch",Zp);G.value("gmfSearchTemplateUrl",function(a,b){var d=b.gmfSearchTemplateurl;return void 0!==d?d:"gmf/search.html"});
function $p(a){return{restrict:"E",scope:{getMapFn:"&gmfSearchMap",getDatasourcesFn:"&gmfSearchDatasources",clearbutton:"=gmfSearchClearbutton",coordinatesProjections:"=?gmfSearchCoordinatesprojections",additionalListeners:"=gmfSearchListeners"},controller:"GmfSearchController",controllerAs:"ctrl",templateUrl:a,link:function(a,d){if(!a.clearbutton){var e=a.ctrl;d.find("input").on("focus blur",function(){e.clear()})}}}}$p.$inject=["gmfSearchTemplateUrl"];G.directive("gmfSearch",$p);
function aq(a,b,d,e,f,g,h,k){this.b=a;this.o=b;this.v=d;this.u=e;this.i=k;this.C=g;this.j=f;this.c=this.b.getMapFn();this.clearButton=this.b.clearbutton||!1;a=this.b.coordinatesProjections;void 0===a?a=[Y(this.c).Y()]:a=this.j.$f(a);this.s=a;h.Wa(this.c);this.g=h.Bb();this.f=this.b.getDatasourcesFn();this.options={highlight:!0,hint:void 0,minLength:void 0};this.datasets=[];this.input_value="";for(h=0;h<this.f.length;h++){var l=this.f[h];a=void 0!==l.groupValues?l.groupValues:[];b=l.groupActions?l.groupActions:
[];var m=[];0===a.length?m.push({title:"",filter:bq(null)}):a.forEach(function(a){m.push({title:a,filter:bq(a)})},this);b.forEach(function(a){m.push({title:a,filter:cq(a)})},this);m.forEach(function(a){this.datasets.push(dq(this,{bloodhoundOptions:l.bloodhoundOptions,ie:a.title,dm:"layer_name",labelKey:l.labelKey,projection:l.projection,typeaheadDatasetOptions:l.typeaheadDatasetOptions,url:l.url},a.filter))},this)}this.datasets.push({name:"coordinates",display:"label",source:eq(this,Y(this.c))});
this.listeners=fq(this.b.additionalListeners,{select:gq.bind(this),close:hq.bind(this)})}ra("gmf.SearchController",aq);aq.$inject="$scope $compile $timeout gettextCatalog ngeoAutoProjection ngeoCreateGeoJSONBloodhound ngeoFeatureOverlayMgr gmfTreeManager".split(" ");
function fq(a,b){return void 0===a?b:{open:a.open,close:void 0===a.close?b.close:function(){b.close();a.close()},cursorchange:a.cursorchange,select:void 0===a.select?b.select:function(d,e,f){b.select(d,e,f);a.select(d,e,f)},autocomplete:a.autocomplete}}
function dq(a,b,d){var e=a.b,f=a.o;a=iq(a,b,d);a={limit:Infinity,source:a.ttAdapter(),display:function(a){return a.get(b.labelKey)},templates:{header:function(){return void 0===b.ie?"":'<div class="search-header">'+b.ie+"</div>"},suggestion:function(a){var d=e.$new(!0);d.feature=a;var k='<p class="search-label">'+a.get(b.labelKey)+"</p>",k=k+('<p class="search-group">'+(a.get("layer_name")||b.ie)+"</p>");return f('<div class="search-datum">'+k+"</div>")(d)}}};b.typeaheadDatasetOptions&&Be(a,b.typeaheadDatasetOptions);
return a}function cq(a){return function(b){b=b.properties;return b.actions?!b.layer_name&&b.actions.some(function(b){return b.action===a}):!1}}function bq(a){return function(b){b=b.properties.layer_name;return void 0===b?!1:null===a?!0:b===a}}function iq(a,b,d){var e=Y(a.c).Y().c,f=jq(a);a=a.C(b.url,d,ud(e),ud(b.projection),b.bloodhoundOptions,f);a.initialize();return a}
function jq(a){var b=a.u;return{prepare:function(a,e){var f=e.url,g=b.currentLanguage,f=ge(f,"query",a),f=ge(f,"lang",g),f=ge(f,"interface","mobile");e.xhrFields={withCredentials:!0};e.url=f;return e}}}function eq(a,b){var d=b.Y(),e=d.I();return function(a){a=this.j.Wg(a);if(null!==a&&(a=this.j.Zg(a,e,d,this.s),null!==a)){var g=new Uh(a);this.g.clear();this.g.oa(new lh(g));vl(b,a);this.clearButton||this.clear();this.blur()}}.bind(a)}
function kq(a){if(a.clearButton){var b=$(".twitter-typeahead .tt-menu");a.input_value?b.show():b.hide()}}aq.prototype.vk=function(){this.g.clear();this.clear()};aq.prototype.onClearButton=aq.prototype.vk;aq.prototype.clear=function(){var a=$(".twitter-typeahead"),b=a.children(".tt-menu"),a=a.children("input");this.input_value="";$(a[1]).typeahead("val","");b.children(".tt-dataset").empty();kq(this)};aq.prototype.clear=aq.prototype.clear;
aq.prototype.blur=function(){var a=$(".twitter-typeahead").children("input");this.v(function(){$(a[1]).blur()})};aq.prototype.blur=aq.prototype.blur;
function gq(a,b){var d=b.get("actions");if(d)for(var e=this.f[0].groupActions,f=0,g=d.length;f<g;f++){var h=d[f],k=h.action,h=h.data;"add_theme"==k?this.i.uf(h):"add_group"==k?this.i.qf(h,!0):"add_layer"==k&&0<=e.indexOf("add_layer")&&this.i.pf(h,!0)}e=b.H();null!=e&&(d=Y(this.c),this.g.clear(),this.g.oa(b),e="GeometryCollection"===e.V()?e.I():e,f=km(this.c),tl(d,e,f,{kb:16}));this.clearButton||this.clear();this.blur()}function hq(){this.clearButton||kq(this)}G.controller("GmfSearchController",aq);G.directive("gmfThemeselector",function(){return{restrict:"E",controller:"gmfThemeselectorController",scope:{defaultTheme:"@gmfThemeselectorDefaulttheme",filter:"=gmfThemeselectorFilter"},bindToController:!0,controllerAs:"tsCtrl",templateUrl:"gmf/themeselector.html"}});
function lq(a,b,d,e){this.b=b;this.c=d;this.g=e;this.currentTheme=this.c.tree;this.defaultTheme=this.defaultTheme||"main";a.$watchCollection(function(){return this.currentTheme}.bind(this),function(a,b){if(a&&a!==b&&this.c.c){var d=a.name,e=this.b.Va().split("/");""===e[e.length-1]&&e.splice(e.length-1);mq(e)?e[e.length-1]=d:e.push("theme",d);this.b.Ob(e.join("/"))}}.bind(this));nq(this)}ra("gmf.ThemeselectorController",lq);lq.$inject=["$scope","ngeoLocation","gmfTreeManager","gmfThemes"];
function mq(a){return 0<=a.indexOf("theme")&&a.indexOf("theme")==a.length-2}function nq(a){var b=function(a){this.themes=this.filter?a.filter(this.filter):a;var b=this.defaultTheme;this.c.c&&(a=this.b.Va().split("/"),mq(a)&&(b=a[a.length-1]));a=pb(this.themes,function(a){return a.name===b});this.Sg(a)}.bind(a);a.g.Eb().then(b)}lq.prototype.Sg=function(a){a&&this.c.Td(a)};lq.prototype.setTheme=lq.prototype.Sg;G.controller("gmfThemeselectorController",lq);function oq(a){return function(b){var d=a.navigator,d=d.languages||d.language||d.browserLanguage||d.systemLanguage||d.userLanguage;ea(d)||(d=[d]);d=d.map(function(a){return a.substring(0,2)});d=d.filter(function(a,b,d){return d.indexOf(a)==b});return d.filter(function(a){return-1!=b.indexOf(a)})[0]}}oq.$inject=["$window"];A.factory("ngeoGetBrowserLanguage",oq);function pq(a,b){this.getActive=function(){return a[b]};this.setActive=function(d){a[b]=d}}ra("ngeo.ToolActivate",pq);A.value("ngeoToolActivate",pq);function qq(a){this.c={};this.b=a}qq.$inject=["$rootScope"];
qq.prototype.rb=function(a,b,d){var e=this.c[a];e||(e=this.c[a]=[]);var f=this.b.$watch(b.getActive,function(d,e){if(d!==e)if(d)for(var f=this.c[a],l=0;l<f.length;l++)b!=f[l].Oc&&f[l].Oc.setActive(!1);else{for(var f=this.c[a],l=null,m=!1,p=0;p<f.length;p++)m=m||f[p].Oc.getActive(),f[p].Uh&&(l=f[p].Oc);m||null===l||l.setActive(!0)}}.bind(this));e.push({Oc:b,Uh:d||!1,oc:f})};qq.prototype.registerTool=qq.prototype.rb;
qq.prototype.Pc=function(a,b){var d=this.c[a];if(d)for(var e=0;e<d.length;e++)if(d[e].Oc==b){d[e].oc();d.splice(e,1);break}};qq.prototype.unregisterTool=qq.prototype.Pc;qq.prototype.xl=function(a){var b=this.c[a];if(b){for(var d=0;d<b.length;d++)b[d].oc();delete this.c[a]}};qq.prototype.unregisterGroup=qq.prototype.xl;qq.prototype.Dh=function(a){a.setActive(!0)};qq.prototype.activateTool=qq.prototype.Dh;qq.prototype.Th=function(a){a.setActive(!1)};qq.prototype.deactivateTool=qq.prototype.Th;
A.service("ngeoToolActivateMgr",qq);function rq(a,b,d){this.theme=d.get("gmfTreeManager").tree;var e=d.get("gmfThemes");e.gg();this.searchDatasources=[{labelKey:"label",groupValues:d.get("gmfSearchGroups"),groupActions:d.get("gmfSearchActions"),projection:"EPSG:"+(a.srid||21781),url:d.get("fulltextsearchUrl")}];this.searchCoordinatesProjections=["EPSG:21781","EPSG:2056","EPSG:4326"];this.rightNavVisible=this.leftNavVisible=!1;this.queryActive=!0;d.get("gmfQueryManager");this.measureLengthActive=this.measurePointActive=!1;this.gmfUser=
d.get("gmfUser");b.$watch(function(){return this.gmfUser.username}.bind(this),function(a){null!==a&&this.jg&&(this.rightNavVisible=!1)}.bind(this));this.j=d.get("ngeoGetBrowserLanguage");this.g=d.get("ngeoStateManager");this.f=b;this.i=d.get("defaultLang");this.c=d.get("langUrls");this.b=d.get("gettextCatalog");sq(this);d.get("ngeoFeatureOverlayMgr").Wa(this.map);a=d.get("ngeoToolActivateMgr");a.rb("mapTools",new pq(this,"queryActive"),!0);a.rb("mapTools",new pq(this,"measurePointActive"),!1);a.rb("mapTools",
new pq(this,"measureLengthActive"),!1);rg(e).then(function(a){var b=d.get("gmfPermalink").Nf(a);if(!b){var e=this.gmfUser.cm;if(e&&(e=e.bm,0<e.length))var k=e[0],b=pb(a,function(a){return a.get("label")===k})}b||(b=a[1]);d.get("ngeoBackgroundLayerMgr").set(this.map,b)}.bind(this))}ra("gmf.AbstractController",rq);rq.$inject=["config","$scope","$injector"];rq.prototype.Ld=function(a){this.b.setCurrentLanguage(a);this.b.loadRemote(this.c[a]);this.lang=a};rq.prototype.switchLanguage=rq.prototype.Ld;
function sq(a){a.f.$watch(function(){return this.lang}.bind(a),function(a){ip(this.g,{lang:a})}.bind(a));var b=a.j(Object.keys(a.c)),d=a.g.c.lang;void 0!==d&&d in a.c?a.Ld(d):void 0!==b&&b in a.c?a.Ld(b):a.Ld(a.i)}G.controller("AbstractController",rq);G.value("gmfMobileBackgroundlayerselectorTemplateUrl",function(a,b){var d=b.gmfMobileBackgroundlayerselectorTemplateurl;return void 0!==d?d:"gmf/mobilebackgroundlayerselector.html"});function tq(a){return{restrict:"E",scope:{map:"=gmfMobileBackgroundlayerselectorMap",select:"&?gmfMobileBackgroundlayerselectorSelect"},bindToController:!0,controller:"GmfMobileBackgroundlayerselectorController",controllerAs:"ctrl",templateUrl:a}}tq.$inject=["gmfMobileBackgroundlayerselectorTemplateUrl"];
G.directive("gmfMobileBackgroundlayerselector",tq);function uq(a,b){rg(b).then(function(a){this.bgLayers=a}.bind(this));this.$d=a;I(this.$d,"change",function(){this.bgLayer=this.$d.get(this.map)},this)}ra("gmf.MobileBackgroundlayerselectorController",uq);uq.$inject=["ngeoBackgroundLayerMgr","gmfThemes"];G.controller("GmfMobileBackgroundlayerselectorController",uq);uq.prototype.dl=function(a,b){this.bgLayer=a;this.$d.set(this.map,a);!b&&this.select&&this.select()};uq.prototype.setLayer=uq.prototype.dl;function vq(a){return{restrict:"A",controller:"ngeoBtnGroupController",link:function(b,d,e,f){var g=a(e.ngeoBtnGroupActive).assign;g&&b.$watch(function(){return f.$c.some(function(a){return!0===a(b)})},function(a){g(b,a)})}}}vq.$inject=["$parse"];A.directive("ngeoBtnGroup",vq);function wq(a){this.$c=[];this.c=a}wq.$inject=["$scope"];function xq(a,b){a.$c.forEach(function(a,e){e!=b&&a.assign(this.c,!1)},a)}function yq(a,b){a.$c.push(b);return a.$c.length-1}A.controller("ngeoBtnGroupController",wq);
function zq(a){return{require:["?^ngeoBtnGroup","ngModel"],restrict:"A",link:function(b,d,e,f){var g=f[0],h=f[1],k=-1;e=a(e.ngModel);f=e.assign;void 0===e(b)&&f(b,!1);null!==g&&(k=yq(g,e));d.bind("click",function(){b.$apply(function(){h.$setViewValue(!h.$viewValue);h.$render()})});h.$render=function(){h.$viewValue&&null!==g&&xq(g,k);d.toggleClass("active",h.$viewValue)}}}}zq.$inject=["$parse"];A.directive("ngeoBtn",zq);function Aq(a,b,d){Tn.call(this);this.c=null;this.f=!1;this.s=a;this.j=d;this.b=b||window;this.g=oa(this.i,this)}x(Aq,Tn);Aq.prototype.start=function(){Bq(this);this.f=!1;var a=Cq(this),b=Dq(this);a&&!b&&this.b.mozRequestAnimationFrame?(this.c=lo(this.b,"MozBeforePaint",this.g),this.b.mozRequestAnimationFrame(null),this.f=!0):this.c=a&&b?a.call(this.b,this.g):this.b.setTimeout(Gj(this.g),20)};
function Bq(a){if(null!=a.c){var b=Cq(a),d=Dq(a);b&&!d&&a.b.mozRequestAnimationFrame?so(a.c):b&&d?d.call(a.b,a.c):a.b.clearTimeout(a.c)}a.c=null}Aq.prototype.i=function(){this.f&&this.c&&so(this.c);this.c=null;this.s.call(this.j,qa())};Aq.prototype.Na=function(){Bq(this);Aq.ca.Na.call(this)};function Cq(a){a=a.b;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}
function Dq(a){a=a.b;return a.cancelAnimationFrame||a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function Eq(a){return{restrict:"A",link:function(b,d,e){var f=b.$eval(e.ngeoResizemap);d=e.ngeoResizemapState;var g,h=new Aq(function(){f.Ye();f.vb&&t.cancelAnimationFrame(f.vb);f.wf();1E3>qa()-g&&h.start()},a);b.$watch(d,function(a,b){a!=b&&(g=qa(),Bq(h),h.start())})}}}Eq.$inject=["$window","$animate"];A.directive("ngeoResizemap",Eq);function Fq(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.i=document.createElement("DIV");this.i.className=b+"-inner";this.b=document.createElement("DIV");this.b.className=b+" ol-unselectable";this.b.appendChild(this.i);this.u=null;this.s=void 0!==a.minWidth?a.minWidth:64;this.f=!1;this.D=void 0;this.v="";yl.call(this,{element:this.b,render:a.render?a.render:Gq,target:a.target});I(this,O("units"),this.G,this);this.set("units",a.units||"metric")}x(Fq,yl);var Hq=[1,2,5];
function Gq(a){(a=a.frameState)?this.u=a.W:this.u=null;Iq(this)}Fq.prototype.G=function(){Iq(this)};
function Iq(a){var b=a.u;if(b){var d=b.projection,e=yd(d),b=d.Cb(b.resolution,b.center)*e,e=a.s*b,d="",f=a.get("units");"degrees"==f?(d=qd.degrees,b/=d,e<d/60?(d="\u2033",b*=3600):e<d?(d="\u2032",b*=60):d="\u00b0"):"imperial"==f?.9144>e?(d="in",b/=.0254):1609.344>e?(d="ft",b/=.3048):(d="mi",b/=1609.344):"nautical"==f?(b/=1852,d="nm"):"metric"==f?1>e?(d="mm",b*=1E3):1E3>e?d="m":(d="km",b/=1E3):"us"==f&&(.9144>e?(d="in",b*=39.37):1609.344>e?(d="ft",b/=.30480061):(d="mi",b/=1609.3472));for(var f=3*Math.floor(Math.log(a.s*
b)/Math.log(10)),g;;){g=Hq[(f%3+3)%3]*Math.pow(10,Math.floor(f/3));e=Math.round(g/b);if(isNaN(e)){yj(a.b,!1);a.f=!1;return}if(e>=a.s)break;++f}b=g+" "+d;a.v!=b&&(a.i.innerHTML=b,a.v=b);a.D!=e&&(a.i.style.width=e+"px",a.D=e);a.f||(yj(a.b,!0),a.f=!0)}else a.f&&(yj(a.b,!1),a.f=!1)};G.constant("isDesktop",!0);
function Jq(a,b,d){var e={projection:ud("epsg:"+(a.srid||21781))};Be(e,a.mapViewConfig||{});this.map=new Jn({layers:[],view:new ol(e),controls:a.mapControls||[new Fq,new Jl],Ib:a.mapInteractions||Jm({Fe:!1,vf:!1})});this.toolsActive=this.loginActive=!1;$('[data-toggle="tooltip"]').tooltip({container:"body",trigger:"hover"});rq.call(this,a,b,d);b.$watch(function(){return this.gmfUser.username}.bind(this),function(a){null!==a&&this.loginActive&&(this.loginActive=!1)}.bind(this))}x(Jq,rq);
ra("gmf.AbstractDesktopController",Jq);Jq.$inject=["config","$scope","$injector"];G.controller("AbstractDesktopController",Jq);G.value("gmfUser",{functionalities:null,is_password_changed:null,role_id:null,role_name:null,username:null});function Kq(a,b,d){Ya.call(this);this.b=a;this.c=b;this.g=d;a=he(this.c,"loginuser");this.b.get(a,{withCredentials:!0}).then(this.f.bind(this))}x(Kq,Ya);Kq.$inject=["$http","authenticationBaseUrl","gmfUser"];
Kq.prototype.bd=function(a,b,d){var e=he(this.c,"loginchange");return this.b.post(e,$.param({oldPassword:a,newPassword:b,confirmNewPassword:d}),{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0})};Kq.prototype.changePassword=Kq.prototype.bd;Kq.prototype.td=function(a,b){var d=he(this.c,"login");return this.b.post(d,$.param({login:a,password:b}),{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0}).then(this.f.bind(this))};
Kq.prototype.login=Kq.prototype.td;Kq.prototype.ud=function(){var a=he(this.c,"logout");return this.b.get(a,{withCredentials:!0}).then(this.i.bind(this))};Kq.prototype.logout=Kq.prototype.ud;Kq.prototype.Fd=function(a){var b=he(this.c,"loginresetpassword"),d=function(a){return a.data}.bind(this);return this.b.post(b,$.param({login:a}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(d)};Kq.prototype.resetPassword=Kq.prototype.Fd;
Kq.prototype.f=function(a){var b=a.data;if(void 0!==b.username)for(var d in b)this.g[d]=b[d];return a};Kq.prototype.i=function(){for(var a in this.g)this.g[a]=null};G.service("gmfAuthentication",Kq);function Lq(){return{template:'<div class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><ng-transclude></ng-transclude></div></div></div>',restrict:"E",require:"ngModel",transclude:!0,link:function(a,b,d,e){var f=b.children();angular.element(document.body).append(f);e.$render=function(){f.modal(e.$viewValue?"show":"hide")};f.on("shown.bs.modal hidden.bs.modal",function(b){var d=b.type;a.$apply(function(){e.$setViewValue("shown"==d)})})}}}
Lq.$inject=["$parse"];A.directive("ngeoModal",Lq);G.value("gmfAuthenticationTemplateUrl",function(a,b){var d=b.gmfAuthenticationTemplateurl;return void 0!==d?d:"gmf/authentication.html"});function Mq(a){return{scope:{},controller:"GmfAuthenticationController",controllerAs:"authCtrl",templateUrl:a}}Mq.$inject=["gmfAuthenticationTemplateUrl"];G.directive("gmfAuthentication",Mq);
function Nq(a,b,d,e){this.gmfUser=e;this.b=a;this.g=d;this.resetPasswordModalShown=this.changePasswordModalShown=this.changingPassword=!1;this.newPwdConfVal=this.newPwdVal=this.oldPwdVal=this.pwdVal=this.loginVal=this.error=""}Nq.$inject=["gettextCatalog","$scope","gmfAuthentication","gmfUser"];
Nq.prototype.bd=function(){var a=this.oldPwdVal,b=this.newPwdVal,d=this.newPwdConfVal;if(a===b)this.c(this.b.getString("The old and new passwords are the same."));else if(b!==d)this.c(this.b.getString("The passwords don't match."));else{var e=this.b.getString("Could not change password.");this.g.bd(a,b,d).then(function(){this.changePasswordModalShown=!0;this.Af()}.bind(this),this.c.bind(this,e))}};Nq.prototype.changePassword=Nq.prototype.bd;
Nq.prototype.td=function(){var a=this.b.getString("Could not connect.");this.g.td(this.loginVal,this.pwdVal).then(this.f.bind(this),this.c.bind(this,a))};Nq.prototype.login=Nq.prototype.td;Nq.prototype.ud=function(){var a=this.b.getString("Could not log out.");this.g.ud().then(this.f.bind(this),this.c.bind(this,a))};Nq.prototype.logout=Nq.prototype.ud;
Nq.prototype.Fd=function(){if(this.loginVal){var a=this.b.getString("An error occured while reseting the password."),b=function(){this.resetPasswordModalShown=!0;this.f()}.bind(this);this.g.Fd(this.loginVal).then(b,this.c.bind(this,a))}else this.c(this.b.getString("Please, input a login..."))};Nq.prototype.resetPassword=Nq.prototype.Fd;Nq.prototype.Af=function(){this.f();this.changingPassword=!1;this.newPwdConfVal=this.newPwdVal=this.oldPwdVal=""};Nq.prototype.changePasswordReset=Nq.prototype.Af;
Nq.prototype.c=function(a){this.error=a};Nq.prototype.f=function(){this.c("")};G.controller("GmfAuthenticationController",Nq);if("function"==typeof proj4){var Oq=[242E4,103E4,29E5,135E4];proj4.defs("epsg:2056","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs");proj4.defs("EPSG:2056","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=2600000 +y_0=1200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs");zd(ud("epsg:2056"),Oq);zd(ud("EPSG:2056"),Oq)};if("function"==typeof proj4){var Pq=[42E4,3E4,9E5,35E4];proj4.defs("epsg:21781","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs");proj4.defs("EPSG:21781","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs");zd(ud("epsg:21781"),Pq);zd(ud("EPSG:21781"),Pq)};sa.constant("ngeoQueryOptions",{limit:20});function Qq(a,b){Jq.call(this,{srid:21781,mapViewConfig:{center:[632464,185457],Ha:3,zoom:3}},a,b)}x(Qq,Jq);ra("app.DesktopController",Qq);Qq.$inject=["$scope","$injector"];sa.controller("DesktopController",Qq);sa.constant("ngeoQueryOptions",{limit:20});function Rq(a,b){Jq.call(this,{srid:21781,mapViewConfig:{center:[632464,185457],Ha:3,zoom:3}},a,b)}x(Rq,Jq);ra("app.AlternativeDesktopController",Rq);Rq.$inject=["$scope","$injector"];sa.controller("AlternativeDesktopController",Rq);A.value("gmfMobiledisplayqueriesTemplateUrl",function(a,b){var d=b.gmfMobiledisplayqueriesTemplateurl;return void 0!==d?d:"gmf/mobiledisplayqueries.html"});function Sq(a){return{bindToController:!0,controller:"GmfMobiledisplayqueriesController",controllerAs:"ctrl",templateUrl:a,replace:!0,restrict:"E",scope:{featuresStyleFn:"&gmfMobiledisplayqueriesFeaturesstyle",selectedFeatureStyleFn:"&gmfMobiledisplayqueriesSelectedfeaturestyle"}}}Sq.$inject=["gmfMobiledisplayqueriesTemplateUrl"];
G.directive("gmfMobiledisplayqueries",Sq);
function Tq(a,b,d){this.f=a;this.b=b;this.c=new gb;a=d.Bb();var e=this.featuresStyleFn();void 0!==e&&a.ja(e);a.Qg(this.c);this.g=d.Bb();d=this.selectedFeatureStyleFn();void 0===d&&(d=new Vg({color:[255,0,0,.6]}),a=new bh({color:[255,0,0,1],width:2}),d=new eh({fill:d,image:new dh({fill:d,radius:5,stroke:a}),stroke:a}));this.g.ja(d);this.feature=this.source=null;this.currentResult=-1;this.isNext=!0;this.animate=0;this.open=!1;this.f.$watchCollection(function(){return b},function(a,b){0<a.total?this.show():
b!==a&&this.close()}.bind(this))}ra("gmf.MobiledisplayqueriesController",Tq);Tq.$inject=["$scope","ngeoQueryResult","ngeoFeatureOverlayMgr"];Tq.prototype.show=function(){this.clear();Uq(this,0,!1);if(null!==this.source){var a,b,d,e=this.b.Kd;this.c.clear();for(a=0;a<e.length;a++)for(d=e[a].features,b=0;b<d.length;b++)this.c.push(d[b]);Vq(this);this.open=!0}};Tq.prototype.show=Tq.prototype.show;
function Uq(a,b,d){var e=!1;if(b!==a.currentResult){var f,g,h,k=a.feature,l=a.b.Kd;a.currentResult=b;for(f=0;f<l.length;f++)if(g=l[f],h=g.features,b>=h.length)b-=h.length;else{a.source=g;a.feature=g.features[b];e=!0;break}d&&Vq(a,k)}return e}Tq.prototype.previous=function(){var a=this.currentResult-1;0>a&&(a=this.b.total-1);Uq(this,a,!0)&&Wq(this,!1)};Tq.prototype.previous=Tq.prototype.previous;
Tq.prototype.next=function(){var a=this.currentResult+1;a>this.b.total-1&&(a=0);Uq(this,a,!0)&&Wq(this,!0)};Tq.prototype.next=Tq.prototype.next;Tq.prototype.mi=function(){return this.b.total};Tq.prototype.getResultLength=Tq.prototype.mi;Tq.prototype.di=function(){if(!this.feature)return null;var a=eb(this.feature);delete a.boundedBy;delete a[this.feature.b];return a};Tq.prototype.getFeatureValues=Tq.prototype.di;function Wq(a,b){a.isNext=b;a.f.$evalAsync(function(){this.animate++}.bind(a))}
function Vq(a,b){a.g.clear();a.c.remove(a.feature);a.g.oa(a.feature);void 0!==b&&a.c.push(b)}Tq.prototype.close=function(){this.open=!1;this.clear()};Tq.prototype.close=Tq.prototype.close;Tq.prototype.clear=function(){this.source=this.feature=null;this.currentResult=-1;this.c.clear();this.g.clear()};Tq.prototype.clear=Tq.prototype.clear;G.controller("GmfMobiledisplayqueriesController",Tq);A.value("ngeoDecorateInteraction",function(a){Object.defineProperty(a,"active",{get:function(){return a.getActive()},set:function(b){a.setActive(b)}})});function Xq(a){if(a.classList)return a.classList;a=a.className;return ga(a)&&a.match(/\S+/g)||[]}function Yq(a,b){var d;a.classList?d=a.classList.contains(b):(d=Xq(a),d=0<=le(d,b));return d}function Zq(a,b){a.classList?a.classList.add(b):Yq(a,b)||(a.className+=0<a.className.length?" "+b:b)}function $q(a,b){if(a.classList)me(b,function(b){Zq(a,b)});else{var d={};me(Xq(a),function(a){d[a]=!0});me(b,function(a){d[a]=!0});a.className="";for(var e in d)a.className+=0<a.className.length?" "+e:e}}
function ar(a,b){a.classList?a.classList.remove(b):Yq(a,b)&&(a.className=ne(Xq(a),function(a){return a!=b}).join(" "))}function br(a,b){a.classList?me(b,function(b){ar(a,b)}):a.className=ne(Xq(a),function(a){return!(0<=le(b,a))}).join(" ")};function cr(a,b,d){yh.call(this);dr(this,a,b?b:0,d)}x(cr,yh);cr.prototype.clone=function(){var a=new cr(null),b=this.B.slice();Bh(a,this.layout,b);a.c();return a};cr.prototype.cd=function(a){var b=this.B,d=b[this.F]-b[0];return Qb(b[0]-d,b[1]-d,b[0]+d,b[1]+d,a)};function er(a){var b=a.B[a.F]-a.B[0];a=a.B[a.F+1]-a.B[1];return Math.sqrt(b*b+a*a)}cr.prototype.V=function(){return"Circle"};
function dr(a,b,d,e){if(b){Ch(a,e,b,0);a.B||(a.B=[]);e=a.B;b=Dh(e,b);e[b++]=e[0]+d;var f;d=1;for(f=a.F;d<f;++d)e[b++]=e[d];e.length=b}else Bh(a,"XY",null);a.c()};function fr(a,b){ta.call(this,a);this.feature=b}x(fr,ta);
function gr(a){Zl.call(this,{hb:hr,handleEvent:ir,ib:jr});this.da=null;this.D=!1;this.cb=a.source?a.source:null;this.Ea=a.features?a.features:null;this.Sh=a.hl?a.hl:12;this.T=a.type;this.i=kr(this.T);this.bb=a.minPoints?a.minPoints:this.i===lr?3:2;this.za=a.hg?a.hg:Infinity;var b=a.ai;if(!b)if("Circle"===this.T)b=function(a,b){var d=b?b:new cr([NaN,NaN]);dr(d,a[0],Math.sqrt(Hb(a[0],a[1])));return d};else{var d,b=this.i;b===mr?d=Uh:b===nr?d=Mh:b===lr&&(d=ai);b=function(a,b){var g=b;g?g.ba(a):g=new d(a);
return g}}this.G=b;this.N=this.v=this.b=this.u=this.o=this.s=null;this.Kh=a.Df?a.Df*a.Df:36;this.ga=new xi({source:new Ji({pc:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:or()});this.ab=a.bi;this.Zd=a.Aa?a.Aa:Vl;this.na=a.$h?a.$h:Wl;I(this,O("active"),this.ng,this)}x(gr,Zl);function or(){var a=kh();return function(b){return a[b.H().V()]}}n=gr.prototype;n.setMap=function(a){gr.ca.setMap.call(this,a);this.ng()};
function ir(a){this.i!==nr&&this.i!==lr||!this.na(a)||(this.D=!0);var b=!this.D;this.D&&a.type===Ek?(pr(this,a),b=!1):a.type===Dk?b=qr(this,a):a.type===xk&&(b=!1);return $l.call(this,a)&&b}function hr(a){return this.Zd(a)?(this.da=a.pixel,!0):this.D?(this.da=a.pixel,this.s||rr(this,a),!0):!1}
function jr(a){this.D=!1;var b=this.da,d=a.pixel,e=b[0]-d[0],b=b[1]-d[1],d=!0;e*e+b*b<=this.Kh&&(qr(this,a),this.s?this.i===sr?this.Ab():tr(this,a)?this.Ab():pr(this,a):(rr(this,a),this.i===mr&&this.Ab()),d=!1);return d}
function qr(a,b){if(a.s){var d=b.coordinate,e=a.o.H(),f;a.i===mr?f=a.b:a.i===lr?(f=a.b[0],f=f[f.length-1],tr(a,b)&&(d=a.s.slice())):(f=a.b,f=f[f.length-1]);f[0]=d[0];f[1]=d[1];a.G(a.b,e);a.u&&a.u.H().ba(d);e instanceof ai&&a.i!==lr?(a.v||(a.v=new lh(new Mh(null))),e=di(e),d=a.v.H(),d.M(e.layout,e.B)):a.N&&(d=a.v.H(),d.ba(a.N));ur(a)}else d=b.coordinate.slice(),a.u?a.u.H().ba(d):(a.u=new lh(new Uh(d)),ur(a));return!0}
function tr(a,b){var d=!1;if(a.o){var e=!1,f=[a.s];a.i===nr?e=a.b.length>a.bb:a.i===lr&&(e=a.b[0].length>a.bb,f=[a.b[0][0],a.b[0][a.b[0].length-2]]);if(e)for(var e=b.map,g=0,h=f.length;g<h;g++){var k=f[g],l=fm(e,k),m=b.pixel,d=m[0]-l[0],l=m[1]-l[1],m=a.D&&a.na(b)?1:a.Sh;if(d=Math.sqrt(d*d+l*l)<=m){a.s=k;break}}}return d}
function rr(a,b){var d=b.coordinate;a.s=d;a.i===mr?a.b=d.slice():a.i===lr?(a.b=[[d.slice(),d.slice()]],a.N=a.b[0]):(a.b=[d.slice(),d.slice()],a.i===sr&&(a.N=a.b));a.N&&(a.v=new lh(new Mh(a.N)));d=a.G(a.b);a.o=new lh;a.ab&&nh(a.o,a.ab);mh(a.o,d);ur(a);M(a,new fr("drawstart",a.o))}
function pr(a,b){var d=b.coordinate,e=a.o.H(),f,g;if(a.i===nr)a.s=d.slice(),g=a.b,g.push(d.slice()),f=g.length>a.za,a.G(g,e);else if(a.i===lr){g=a.b[0];g.push(d.slice());if(f=g.length>a.za)a.s=g[0];a.G(a.b,e)}ur(a);f&&a.Ab()}
n.Ab=function(){var a=vr(this),b=this.b,d=a.H();this.i===nr?(b.pop(),this.G(b,d)):this.i===lr&&(b[0].pop(),b[0].push(b[0][0]),this.G(b,d));"MultiPoint"===this.T?mh(a,new Vh([b])):"MultiLineString"===this.T?mh(a,new Qh([b])):"MultiPolygon"===this.T&&mh(a,new ei([b]));M(this,new fr("drawend",a));this.Ea&&this.Ea.push(a);this.cb&&this.cb.oa(a)};function vr(a){a.s=null;var b=a.o;b&&(a.o=null,a.u=null,a.v=null,a.ga.K().clear(!0));return b}
n.extend=function(a){var b=a.H();this.o=a;this.b=b.U();a=this.b[this.b.length-1];this.s=a.slice();this.b.push(a.slice());ur(this);M(this,new fr("drawstart",this.o))};n.Pb=tg;function ur(a){var b=[];a.o&&b.push(a.o);a.v&&b.push(a.v);a.u&&b.push(a.u);a=a.ga.K();a.clear(!0);Ai(a,b)}n.ng=function(){var a=this.f,b=this.getActive();a&&b||vr(this);this.ga.setMap(b?a:null)};
function kr(a){var b;"Point"===a||"MultiPoint"===a?b=mr:"LineString"===a||"MultiLineString"===a?b=nr:"Polygon"===a||"MultiPolygon"===a?b=lr:"Circle"===a&&(b=sr);return b}var mr="Point",nr="LineString",lr="Polygon",sr="Circle";function wr(a,b){ta.call(this,a);this.feature=b}x(wr,ta);
function xr(a){a=void 0!==a?a:{};Ml.call(this,{handleEvent:yr});this.continueMsg=this.j=this.Jb=this.Oa=this.s=this.i=null;this.decimals=void 0!==a.decimals?a.decimals:null;this.v=void 0!==a.ke?a.ke:!0;this.startMsg=void 0!==a.startMsg?a.startMsg:gj("SPAN",{},"Click to start drawing.");this.C=null;var b=void 0!==a.style?a.style:[new eh({fill:new Vg({color:"rgba(255, 255, 255, 0.2)"})}),new eh({stroke:new bh({color:"white",width:5})}),new eh({stroke:new bh({color:"#ffcc33",width:3})})];this.u=new xi({source:new Ji,
style:b});this.b=this.o(a.sketchStyle,this.u.K());this.D=!0;I(this.b,O("active"),this.G,this);I(this.b,"drawstart",this.xk,this);I(this.b,"drawend",this.wk,this);I(this,O("active"),this.Vj,this)}x(xr,Ml);
function zr(a,b,d){a=di(a.clone().transform(b,"EPSG:4326")).U();b=0;for(var e=a.length,f=a[e-1][0],g=a[e-1][1],h=0;h<e;h++){var k=a[h][0],l=a[h][1];b+=Bb(k-f)*(2+Math.sin(Bb(g))+Math.sin(Bb(l)));f=k;g=l}a=Math.abs(b*Rm.radius*Rm.radius/2);var m;1E6<a?(null!==d?m=Sa(a/1E6,0,d):m=parseFloat((a/1E6).toPrecision(3)),m+=" km\u00b2"):(null!==d?m=Sa(a,0,d):m=parseFloat(a.toPrecision(3)),m+=" m\u00b2");return m}ra("ngeo.interaction.Measure.getFormattedArea",zr);
ra("ngeo.interaction.Measure.getFormattedCircleArea",function(a,b){var d=Math.PI*Math.pow(er(a),2),e;1E6<d?(null!==b?e=Sa(d/1E6,0,b):e=parseFloat((d/1E6).toPrecision(3)),e+=" km\u00b2"):(null!==b?e=Sa(d,0,b):e=parseFloat(d.toPrecision(3)),e+=" m\u00b2");return e});
function Ar(a,b,d){var e=0;a=a.U();for(var f=0,g=a.length-1;f<g;++f)var h=Jd(a[f],b,"EPSG:4326"),k=Jd(a[f+1],b,"EPSG:4326"),e=e+od(Rm,h,k);var l;1E3<e?(null!==d?l=Sa(e/1E3,0,d):l=parseFloat((e/1E3).toPrecision(3)),l+=" km"):(null!==d?l=Sa(e,0,d):l=parseFloat(e.toPrecision(3)),l+=" m");return l}ra("ngeo.interaction.Measure.getFormattedLength",Ar);function Br(a,b){var d=a.U(),e=d[0],d=d[1];b=null!==b?b:0;e=Sa(e,0,b);d=Sa(d,0,b);return["X: ",e,", Y: ",d].join("")}
function yr(a){if(a.type!=Dk||a.dragging)return!0;var b=this.startMsg;null!==this.j&&(b=this.continueMsg);this.v&&(jj(this.i),this.i.appendChild(b),this.s.setPosition(a.coordinate));return!0}xr.prototype.ci=function(){return this.b};xr.prototype.getDrawInteraction=xr.prototype.ci;n=xr.prototype;n.setMap=function(a){xr.ca.setMap.call(this,a);this.u.setMap(a);var b=this.b.f;null!==b&&b.f.remove(this.b);null!==a&&a.f.push(this.b)};
n.xk=function(a){this.j=a.feature;this.u.K().clear(!0);Cr(this);a=this.j.H();this.C=I(a,"change",function(){this.od(function(a,d){null!==d&&(this.Oa.innerHTML=a,this.Jb.setPosition(d))}.bind(this))},this)};n.wk=function(){Zq(this.Oa,"tooltip-static");this.Jb.set("offset",[0,-7]);M(this,new wr("measureend",this.j));this.j=null;null!==this.C&&H(this.C)};function Dr(a){a.v&&(a.f.j.remove(a.s),null!==a.i&&a.i.parentNode.removeChild(a.i),a.i=null,a.s=null)}
function Cr(a){Er(a);a.Oa=gj("DIV");$q(a.Oa,["tooltip","tooltip-measure"]);a.Jb=new Nn({element:a.Oa,offset:[0,-15],Ge:"bottom-center",Vg:!1});a.f.j.push(a.Jb)}function Er(a){null!==a.Oa&&(a.Oa.parentNode.removeChild(a.Oa),a.Oa=null,a.Jb=null)}
n.Vj=function(){var a=this.getActive();this.D=!1;this.b.setActive(a);this.D=!0;this.f&&(a?this.Jb||(Cr(this),Dr(this),this.v&&(this.i=gj("DIV"),Zq(this.i,"tooltip"),this.s=new Nn({element:this.i,offset:[15,0],Ge:"center-left"}),this.f.j.push(this.s))):(this.u.K().clear(!0),this.f.j.remove(this.Jb),Er(this),Dr(this)))};n.yi=function(){return this.Oa};xr.prototype.getTooltipElement=xr.prototype.yi;xr.prototype.G=function(){this.D&&this.setActive(this.b.getActive())};function Fr(a){a=void 0!==a?a:{};xr.call(this,a);this.continueMsg=void 0!==a.continueMsg?a.continueMsg:gj("SPAN",{},"Click to continue drawing the line.",gj("BR"),"Double-click or click last point to finish.")}x(Fr,xr);ra("ngeo.interaction.MeasureLength",Fr);Fr.prototype.o=function(a,b){return new gr({type:"LineString",source:b,style:a})};Fr.prototype.od=function(a){var b=this.j.H(),d=Y(this.f).Y(),d=Ar(b,d,this.decimals),b=Ah(b);a(d,b)};function Gr(a){Ml.call(this,{handleEvent:Fj});this.s=null;this.j=a.type;this.D=a.minPoints?a.minPoints:"Polygon"===this.j?3:2;this.b=null;this.o=[];this.i=null;this.u=new xi({source:new Ji({pc:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:or(),Qc:!0,Rc:!0});I(this,O("active"),this.v,this);this.set("dirty",!1);this.set("drawing",!1);this.set("valid",!1)}x(Gr,Ml);ra("ngeo.interaction.MobileDraw",Gr);
Gr.prototype.setMap=function(a){this.f&&this.s&&H(this.s);Gr.ca.setMap.call(this,a);a&&(this.s=I(Y(a),O("center"),this.C,this));this.v()};Gr.prototype.fd=function(){return this.get("dirty")};Gr.prototype.getDirty=Gr.prototype.fd;Gr.prototype.Ac=function(){return this.get("drawing")};Gr.prototype.getDrawing=Gr.prototype.Ac;Gr.prototype.we=function(){return this.get("valid")};Gr.prototype.getValid=Gr.prototype.we;Gr.prototype.getFeature=function(){return this.b};Gr.prototype.getFeature=Gr.prototype.getFeature;
Gr.prototype.rc=function(){var a=this.getActive(),b=this.Ac();if(a&&b){var b=this.i.H().U(),d;"Point"===this.j?(this.b||(this.b=new lh(new Uh(b)),M(this,new fr("drawstart",this.b))),a=this.b.H(),a.ba(b)):("LineString"===this.j&&(this.o.push(this.i),this.b?(a=this.b.H(),d=a.U(),d.push(b.slice()),a.ba(d)):(d=[b.slice(),b.slice()],this.b=new lh(new Mh(d)),M(this,new fr("drawstart",this.b)))),this.fd()&&this.set("dirty",!1),a=this.we(),"LineString"===this.j&&(d.length>=this.D?a||this.set("valid",!0):
a&&this.set("valid",!1)),this.i=null,Hr(this))}};Gr.prototype.addToDrawing=Gr.prototype.rc;Gr.prototype.Bf=function(){this.setActive(!1);this.setActive(!0)};Gr.prototype.clearDrawing=Gr.prototype.Bf;Gr.prototype.Ab=function(){var a=this.getActive(),b=this.Ac();a&&b&&(this.i&&this.rc(),this.set("drawing",!1),M(this,new fr("drawend",this.b)))};Gr.prototype.finishDrawing=Gr.prototype.Ab;
Gr.prototype.v=function(){var a=this.f,b=this.getActive();if(a&&b)this.set("drawing",!0),Ir(this),Hr(this),"Point"===this.j&&this.rc();else{if(this.b||0<this.o.length)this.i=this.b=null,this.u.K().clear(!0);this.o=[];this.set("dirty",!1);this.set("drawing",!1);this.set("valid",!1)}this.u.setMap(b?a:null)};
Gr.prototype.C=function(){var a=this.getActive(),b=this.Ac();if(a&&b)if(Ir(this),"Point"===this.j)this.rc();else{if(this.b){a=pl(Y(this.f));if("LineString"===this.j){var b=this.b.H(),d=b.U();d.pop();d.push(a);b.ba(d)}this.fd()||this.set("dirty",!0)}Hr(this)}};function Ir(a){var b=pl(Y(a.f));a.i?a.i.H().ba(b):a.i=new lh(new Uh(b))}function Hr(a){var b=[];a.b&&b.push(a.b);a.i&&b.push(a.i);var d=a.u.K();d.clear(!0);Ai(d,b);Ai(d,a.o)};function Jr(a){a=void 0!==a?a:{};Be(a,{ke:!1});Fr.call(this,a)}x(Jr,Fr);ra("ngeo.interaction.MeasureLengthMobile",Jr);Jr.prototype.o=function(a,b){return new Gr({type:"LineString",style:a,source:b})};G.value("gmfMobileMeasureLengthTemplateUrl",function(a,b){var d=b.gmfMobileMeasureLengthTemplateurl;return void 0!==d?d:"gmf/mobilemeasurelength.html"});function Kr(a){return{restrict:"A",scope:{active:"=gmfMobileMeasureLengthActive",decimals:"<?gmfMobileMeasureLengthDecimals",map:"=gmfMobileMeasureLengthMap",sketchStyle:"=?gmfMobileMeasureLengthSketchStyle"},controller:"GmfMobileMeasureLengthController",controllerAs:"ctrl",bindToController:!0,templateUrl:a}}Kr.$inject=["gmfMobileMeasureLengthTemplateUrl"];
G.directive("gmfMobileMeasureLength",Kr);
function Lr(a,b){a.$watch(function(){return this.active}.bind(this),function(a){this.measure.setActive(a)}.bind(this));void 0===this.sketchStyle&&(this.sketchStyle=new eh({fill:new Vg({color:"rgba(255, 255, 255, 0.2)"}),stroke:new bh({color:"rgba(0, 0, 0, 0.5)",O:[10,10],width:2}),image:new jp({stroke:new bh({color:"rgba(0, 0, 0, 0.7)",width:2}),points:4,radius:8,Ic:0,angle:0})}));this.measure=new Jr({decimals:this.decimals,sketchStyle:this.sketchStyle});this.measure.setActive(this.active);b(this.measure);
this.map.f.push(this.measure);var d=this.drawInteraction=this.measure.b;b(d);Object.defineProperty(this,"hasPoints",{get:function(){return null!==this.drawInteraction.getFeature()}});this.dirty=!1;I(d,O("dirty"),function(){(this.dirty=d.fd())&&a.$apply()},this);this.drawing=!1;I(d,O("drawing"),function(){this.drawing=d.Ac()},this);this.valid=!1;I(d,O("valid"),function(){this.valid=d.we()},this)}Lr.$inject=["$scope","ngeoDecorateInteraction"];Lr.prototype.Eh=function(){this.drawInteraction.rc()};
Lr.prototype.addPoint=Lr.prototype.Eh;Lr.prototype.clear=function(){this.drawInteraction.Bf()};Lr.prototype.clear=Lr.prototype.clear;Lr.prototype.finish=function(){this.drawInteraction.Ab()};Lr.prototype.finish=Lr.prototype.finish;Lr.prototype.je=function(){this.active=!1};Lr.prototype.deactivate=Lr.prototype.je;G.controller("GmfMobileMeasureLengthController",Lr);function Mr(a,b){this.c=a;this.b=b}Mr.$inject=["$http","gmfAltitudeUrl"];Mr.prototype.le=function(a){var b={};b.lon=a[0];b.lat=a[1];return this.c.get(this.b,{params:b,withCredentials:!0}).then(this.g.bind(this))};Mr.prototype.getAltitude=Mr.prototype.le;Mr.prototype.g=function(a){return a.data};G.service("gmfAltitude",Mr);function Nr(a){a=void 0!==a?a:{};Be(a,{ke:!1});xr.call(this,a)}x(Nr,xr);ra("ngeo.interaction.MeasurePointMobile",Nr);Nr.prototype.o=function(a,b){return new Gr({type:"Point",style:a,source:b})};Nr.prototype.od=function(a){var b=this.j.H();Y(this.f).Y();var d=Br(b,this.decimals),b=Ah(b);a(d,b)};G.value("gmfMobileMeasurePointTemplateUrl",function(a,b){var d=b.gmfMobileMeasurePointTemplateurl;return void 0!==d?d:"gmf/mobilemeasurepoint.html"});function Or(a){return{restrict:"A",scope:{active:"=gmfMobileMeasurePointActive",decimals:"<?gmfMobileMeasurePointDecimals",map:"=gmfMobileMeasurePointMap",sketchStyle:"=?gmfMobileMeasurePointSketchStyle"},controller:"GmfMobileMeasurePointController",controllerAs:"ctrl",bindToController:!0,templateUrl:a}}Or.$inject=["gmfMobileMeasurePointTemplateUrl"];
G.directive("gmfMobileMeasurePoint",Or);
function Pr(a,b,d,e,f){this.g=d;this.i=e;this.f=a;b.$watch(function(){return this.active}.bind(this),function(a){this.measure.setActive(a);this.measure.getActive()?(a=Y(this.map),this.c=I(a,"propertychange",this.i(this.b.bind(this),300,!0),this),this.b()):this.c&&(H(this.c),this.c=null)}.bind(this));void 0===this.sketchStyle&&(this.sketchStyle=new eh({fill:new Vg({color:"rgba(255, 255, 255, 0.2)"}),stroke:new bh({color:"rgba(0, 0, 0, 0.5)",O:[10,10],width:2}),image:new jp({stroke:new bh({color:"rgba(0, 0, 0, 0.7)",
width:2}),points:4,radius:8,Ic:0,angle:0})}));this.measure=new Nr({decimals:this.decimals,sketchStyle:this.sketchStyle});this.measure.setActive(this.active);f(this.measure);this.map.f.push(this.measure);this.drawInteraction=this.measure.b;f(this.drawInteraction);this.c=null}Pr.$inject=["gettextCatalog","$scope","gmfAltitude","ngeoDebounce","ngeoDecorateInteraction"];Pr.prototype.je=function(){this.active=!1};Pr.prototype.deactivate=Pr.prototype.je;Pr.prototype.translate=function(a){return this.f.getString(a)};
Pr.prototype.translate=Pr.prototype.translate;
Pr.prototype.b=function(){var a=pl(Y(this.map));this.g.le(a).then(function(a){var d=this.measure.Oa,e=document.createElement("div");e.className="gmf-mobile-measure-point-altitude";ve(a,function(a,b){if(null!==a){var d=document.createElement("div");d.className="gmf-mobile-measure-altitude";var k;k=1E3<a?parseFloat((a/1E3).toPrecision(3))+" km":parseFloat(a.toPrecision(3))+" m";d.innerHTML=[this.translate(b),": ",k].join("");e.appendChild(d)}},this);(a=bj("gmf-mobile-measure-point-altitude",d))&&a.remove();
d.appendChild(e)}.bind(this))};G.controller("GmfMobileMeasurePointController",Pr);G.directive("gmfMobileNav",function(){return{restrict:"A",controller:"gmfMobileNavController",bindToController:!0,controllerAs:"navCtrl",scope:!0,link:function(a,b,d,e){e.Wa(b)}}});function Qr(){this.g=[];this.f=this.b=this.c=null;this.back=this.i.bind(this)}ra("gmf.MobileNavController",Qr);G.controller("gmfMobileNavController",Qr);
Qr.prototype.Wa=function(a){this.c=$(a.find(".active.slide"));this.b=$(a.find("> header"));this.f=$(a.find("header > .go-back"));a.find("[data-toggle=slide-in]").on("click",function(a){var d=$(a.target).parents(".slide");this.g.push(d);d.addClass("slide-out").removeClass("active");a=$($(a.target).attr("data-target"));a.addClass("active");Rr(this,a,!1);this.c=a}.bind(this));this.f.click(this.back.bind(this))};
function Rr(a,b,d){a.b.toggleClass("back",d);a.b.find("nav:not(.active)").remove();a.b.find("nav.active").removeClass("active").addClass("slide-out");a.f.toggleClass("active",0<a.g.length);var e=$("<nav>");e.append($("<span>",{text:b.attr("data-header-title")}));a.b.append(e);window.setTimeout(function(){e.css("display","none");e.offset();e.css("display","");window.setTimeout(function(){e.position();e.addClass("active")},0)},0)}G.controller("gmfMobileNavController",Qr);
Qr.prototype.i=function(){if(!(0>=this.g.length)){this.c.removeClass("active");var a=this.g.pop();a.addClass("active").removeClass("slide-out");Rr(this,a,!0);this.c=a}};G.directive("gmfMobileNavBack",function(){return{require:"^^gmfMobileNav",restrict:"A",scope:!1,link:function(a,b,d,e){a.$watch(d.gmfMobileNavBack,function(){null!==e.c&&e.c.is(b[0])&&e.i()})}}});function Sr(a){return{restrict:"A",scope:!1,link:function(b,d,e){function f(b){a.eg(g,b.coordinate)}var g=b.$eval(e.ngeoMobileQueryMap),h=null;b.$watch(e.ngeoMobileQueryActive,function(b){b?h=I(g,"click",f):(null!==h&&(H(h),h=null),a.clear())})}}}Sr.$inject=["ngeoQuery"];A.directive("ngeoMobileQuery",Sr);G.constant("isMobile",!0);G.constant("gmfAltitudeUrl","https://geomapfish-demo.camptocamp.net/2.0/wsgi/raster");
function Tr(a,b,d){this.searchOverlayVisible=this.rightNavVisible=this.leftNavVisible=!1;var e=a.positionFeatureStyle||new eh({image:new dh({radius:6,fill:new Vg({color:"rgba(230, 100, 100, 1)"}),stroke:new bh({color:"rgba(230, 40, 40, 1)",width:2})})}),f=a.accuracyFeatureStyle||new eh({fill:new Vg({color:"rgba(100, 100, 230, 0.3)"}),stroke:new bh({color:"rgba(40, 40, 230, 1)",width:2})}),g=new Vg({color:[255,170,0,.6]}),h=new bh({color:[255,170,0,1],width:2});this.queryFeatureStyle=new eh({fill:g,
image:new dh({fill:g,radius:5,stroke:h}),stroke:h});this.mobileGeolocationOptions={positionFeatureStyle:e,accuracyFeatureStyle:f,zoom:a.geolocationZoom||9};e={projection:ud("epsg:"+(a.srid||21781))};Be(e,a.mapViewConfig||{});this.map=new Jn({layers:[],view:new ol(e),controls:a.mapControls||[new Fq,new Jl],Ib:a.mapInteractions||Jm({Fe:!1})});b.$on(Ur,function(a){a.stopPropagation();alert("Geo-location failed")}.bind(this));this.searchListeners={open:function(){this.searchOverlayVisible=!0}.bind(this),
close:function(){this.searchOverlayVisible=!1}.bind(this)};rq.call(this,a,b,d)}x(Tr,rq);ra("gmf.AbstractMobileController",Tr);Tr.$inject=["config","$scope","$injector"];Tr.prototype.pl=function(){this.leftNavVisible=!this.leftNavVisible};Tr.prototype.toggleLeftNavVisibility=Tr.prototype.pl;Tr.prototype.ql=function(){this.rightNavVisible=!this.rightNavVisible};Tr.prototype.toggleRightNavVisibility=Tr.prototype.ql;Tr.prototype.lj=function(){this.leftNavVisible=this.rightNavVisible=!1};
Tr.prototype.hideNav=Tr.prototype.lj;Tr.prototype.jg=function(){return this.leftNavVisible||this.rightNavVisible};Tr.prototype.navIsVisible=Tr.prototype.jg;Tr.prototype.mj=function(){this.searchOverlayVisible=!1};Tr.prototype.hideSearchOverlay=Tr.prototype.mj;Tr.prototype.Aj=function(){return this.leftNavVisible};Tr.prototype.leftNavIsVisible=Tr.prototype.Aj;Tr.prototype.cl=function(){return this.rightNavVisible};Tr.prototype.rightNavIsVisible=Tr.prototype.cl;
G.controller("AbstractMobileController",Tr);function Vr(a){Object.defineProperty(a,"tracking",{get:function(){return a.get("tracking")},set:function(b){Wr(a,b)}})}Vr.$inject=["geolocation"];A.value("ngeoDecorateGeolocation",Vr);function Xr(a){cb.call(this);a=a||{};this.b=null;this.i=Id;this.f=void 0;I(this,O("projection"),this.Zj,this);I(this,O("tracking"),this.$j,this);void 0!==a.projection&&this.Jd(ud(a.projection));void 0!==a.wl&&this.set("trackingOptions",a.wl);Wr(this,void 0!==a.vl?a.vl:!1)}x(Xr,cb);n=Xr.prototype;n.ha=function(){Wr(this,!1);Xr.ca.ha.call(this)};n.Zj=function(){var a=this.Y();a&&(this.i=Ad(ud("EPSG:4326"),a),this.b&&this.set("position",this.i(this.b)))};
n.$j=function(){if(Ng){var a=this.get("tracking");a&&void 0===this.f?this.f=t.navigator.geolocation.watchPosition(this.Lk.bind(this),this.Mk.bind(this),this.get("trackingOptions")):a||void 0===this.f||(t.navigator.geolocation.clearWatch(this.f),this.f=void 0)}};
n.Lk=function(a){var b=a.coords;this.set("accuracy",b.accuracy);this.set("altitude",null===b.altitude?void 0:b.altitude);this.set("altitudeAccuracy",null===b.altitudeAccuracy?void 0:b.altitudeAccuracy);this.set("heading",null===b.heading?void 0:Bb(b.heading));this.b?(this.b[0]=b.longitude,this.b[1]=b.latitude):this.b=[b.longitude,b.latitude];a=this.i(this.b);this.set("position",a);this.set("speed",null===b.speed?void 0:b.speed);a=this.b;var d=b.accuracy,b=[],e;for(e=0;32>e;++e)nb(b,Rm.offset(a,d,
2*Math.PI*e/32));b.push(b[0],b[1]);a=new ai(null);a.M("XY",b,[b.length]);a.sc(this.i);this.set("accuracyGeometry",a);this.c()};n.Mk=function(a){a.type="error";Wr(this,!1);M(this,a)};n.le=function(){return this.get("altitude")};n.Y=function(){return this.get("projection")};n.Jd=function(a){this.set("projection",a)};function Wr(a,b){a.set("tracking",b)};var Ur="mobile-geolocation-error";ra("ngeo.MobileGeolocationEventType",{ERROR:Ur});A.directive("ngeoMobileGeolocation",function(){return{restrict:"A",scope:{getMobileMapFn:"&ngeoMobileGeolocationMap",getMobileGeolocationOptionsFn:"&ngeoMobileGeolocationOptions"},controller:"NgeoMobileGeolocationController",controllerAs:"ctrl"}});
function Yr(a,b,d,e){b.on("click",this.Yg.bind(this));b=a.getMobileMapFn();this.s=a;this.g=b;var f=a.getMobileGeolocationOptionsFn()||{};this.b=e.Bb();this.pa=new Xr({projection:Y(b).Y()});this.pa.on("error",function(b){Zr(this);a.$emit(Ur,b)},this);this.f=new lh;f.positionFeatureStyle&&this.f.ja(f.positionFeatureStyle);this.ub=new lh;f.accuracyFeatureStyle&&this.ub.ja(f.accuracyFeatureStyle);this.o=f.zoom;this.j=this.c=!1;I(this.pa,O("accuracyGeometry"),function(){mh(this.ub,this.pa.get("accuracyGeometry")||
null)},this);I(this.pa,O("position"),function(a){this.Re(a)},this);e=Y(b);I(e,O("center"),this.i,this);I(e,O("resolution"),this.i,this);I(e,O("rotation"),this.i,this);d(this.pa)}ra("ngeo.MobileGeolocationController",Yr);Yr.$inject=["$scope","$element","ngeoDecorateGeolocation","ngeoFeatureOverlayMgr"];
Yr.prototype.Yg=function(){if(this.pa.get("tracking")){var a=this.pa.get("position");if(void 0===a)Zr(this),this.s.$emit(Ur,null);else{var b=pl(Y(this.g));a[0]===b[0]&&a[1]===b[1]?Zr(this):(Zr(this),$r(this))}}else $r(this)};Yr.prototype.toggleTracking=Yr.prototype.Yg;function $r(a){a.b.oa(a.f);a.b.oa(a.ub);a.c=!0;Wr(a.pa,!0)}function Zr(a){a.b.clear();a.c=!1;Wr(a.pa,!1)}
Yr.prototype.Re=function(){var a=this.pa.get("position"),b=new Uh(a);mh(this.f,b);this.c&&(this.j=!0,vl(Y(this.g),a),void 0!==this.o&&xl(Y(this.g),this.o),this.j=!1)};Yr.prototype.i=function(){this.c&&!this.j&&(this.c=!1)};A.controller("NgeoMobileGeolocationController",Yr);sa.constant("ngeoQueryOptions",{limit:20});function as(a,b){Tr.call(this,{srid:21781,mapViewConfig:{center:[632464,185457],Ha:3,zoom:3}},a,b)}x(as,Tr);ra("app.MobileController",as);as.$inject=["$scope","$injector"];sa.controller("MobileController",as);function bs(a){a=a||{};this.b=a.font;this.i=a.rotation;this.u=a.scale;this.v=a.text;this.o=a.textAlign;this.s=a.textBaseline;this.c=void 0!==a.fill?a.fill:new Vg({color:"#333"});this.j=void 0!==a.stroke?a.stroke:null;this.g=void 0!==a.offsetX?a.offsetX:0;this.f=void 0!==a.offsetY?a.offsetY:0}bs.prototype.Ma=function(){return this.u};bs.prototype.ta=function(){return this.v};function cs(a){this.c=null;a.has("ngeoMeasureDecimals")&&(this.c=a.get("ngeoMeasureDecimals"))}cs.$inject=["$injector"];cs.prototype.Jd=function(a){this.b=a};cs.prototype.setProjection=cs.prototype.Jd;cs.prototype.ja=function(a){var b=this.Db(a);a.ja(b)};cs.prototype.setStyle=cs.prototype.ja;
cs.prototype.Db=function(a){var b;switch(this.V(a)){case "LineString":var d=this.ve(a);b=this.Bc(a);var e=this.fc(a),d={stroke:new bh({color:e,width:d})};b&&(a=this.gc(a),d.text=ds(a,10));b=new eh(d);break;case "Point":b=this.te(a);d=this.fc(a);b={image:new dh({radius:b,fill:new Vg({color:d})})};this.Bc(a)&&(a=this.gc(a),b.text=ds(a,10));b=new eh(b);break;case "Circle":case "Polygon":case "Rectangle":b=this.ve(a);var d=this.Yf(a),e=this.fc(a),f=Bg(e).slice();f[3]=d;b={fill:new Vg({color:Dg(f)}),stroke:new bh({color:e,
width:b})};this.Bc(a)&&(a=this.gc(a),b.text=ds(a,10));b=new eh(b);break;case "Text":b=this.Wf(a),d=this.te(a),e=this.Mf(a),a=this.fc(a),b=new eh({text:ds(b,d,e,a)})}return b};cs.prototype.getStyle=cs.prototype.Db;cs.prototype.Mf=function(a){return+a.get("angle")};cs.prototype.getAngleProperty=cs.prototype.Mf;cs.prototype.fc=function(a){return a.get("color")};cs.prototype.getColorProperty=cs.prototype.fc;cs.prototype.Wf=function(a){return a.get("name")};cs.prototype.getNameProperty=cs.prototype.Wf;
cs.prototype.Yf=function(a){return+a.get("opacity")};cs.prototype.getOpacityProperty=cs.prototype.Yf;cs.prototype.Bc=function(a){a=a.get("showMeasure");void 0===a&&(a=!1);return a};cs.prototype.getShowMeasureProperty=cs.prototype.Bc;cs.prototype.te=function(a){return+a.get("size")};cs.prototype.getSizeProperty=cs.prototype.te;cs.prototype.ve=function(a){return+a.get("stroke")};cs.prototype.getStrokeProperty=cs.prototype.ve;
function ds(a,b,d,e){return new bs({font:["normal",b+"pt","Arial"].join(" "),text:a,fill:new Vg({color:void 0!==e?e:"#000000"}),stroke:new bh({color:"#ffffff",width:3}),rotation:(void 0!==d?d:0)*Math.PI/180})}cs.prototype.gc=function(a){a=a.H();var b="";a instanceof ai?b=zr(a,this.b,this.c):a instanceof Mh?b=Ar(a,this.b,this.c):a instanceof Uh&&(b=Br(a,this.c));return b};cs.prototype.getMeasure=cs.prototype.gc;
cs.prototype.V=function(a){var b=a.H(),d;b instanceof Uh?d=a.get("isText")?"Text":"Point":b instanceof ai?d=a.get("isCircle")?"Circle":a.get("isRectangle")?"Rectangle":"Polygon":b instanceof Mh&&(d="LineString");return d};cs.prototype.getType=cs.prototype.V;A.service("ngeoFeatureHelper",cs);A.value("ngeoColorpickerTemplateUrl",function(a,b){var d=b.ngeoColorpickerTemplateurl;return void 0!==d?d:"ngeo/colorpicker.html"});function es(a){return{restrict:"A",scope:{colors:"<?ngeoColorpicker",color:"=?ngeoColorpickerColor"},controller:"NgeoColorpickerController",controllerAs:"ctrl",bindToController:!0,templateUrl:a}}es.$inject=["ngeoColorpickerTemplateUrl"];A.directive("ngeoColorpicker",es);
var fs=["#F4EB37 #CDDC39 #62AF44 #009D57 #0BA9CC #4186F0 #3F5BA9 #7C3592 #A61B4A #DB4436 #F8971B #F4B400 #795046".split(" "),"#F9F7A6 #E6EEA3 #B7DBAB #7CCFA9 #93D7E8 #9FC3FF #A7B5D7 #C6A4CF #D698AD #EE9C96 #FAD199 #FFDD5E #B29189".split(" "),["#ffffff","#CCCCCC","#777","#000000"]];function gs(){this.colors=fs}ra("ngeo.ColorpickerController",gs);gs.$inject=["$scope","$element","$attrs"];gs.prototype.Qe=function(a){this.color=a};gs.prototype.setColor=gs.prototype.Qe;
A.controller("NgeoColorpickerController",gs);G.directive("gmfFeaturestyle",function(){return{controller:"GmfFeaturestyleController",scope:{feature:"=gmfFeaturestyleFeature"},bindToController:!0,controllerAs:"fsCtrl",templateUrl:"gmf/featurestyle.html"}});function hs(a,b){this.f=a;this.c=b;this.measure=this.color=null;a.$watch(function(){return this.color}.bind(this),this.j.bind(this));this.g=[];a.$watch(function(){return this.feature}.bind(this),this.o.bind(this))}hs.$inject=["$scope","ngeoFeatureHelper"];
hs.prototype.o=function(a,b){var d=this.g;b&&(d.forEach(function(a){H(a)},this),this.measure=this.color=this.type=null);if(a){"angle color name opacity showMeasure size stroke".split(" ").forEach(function(b){d.push(I(a,O(b),this.b,this))},this);var e=a.H();d.push(I(e,"change",this.i,this));this.type=this.c.V(a);this.color=this.c.fc(a);this.measure=this.c.gc(a)}};hs.prototype.j=function(a){this.feature&&a&&this.feature.get("color")!==a&&this.feature.set("color",a)};
hs.prototype.oi=function(a){return is(this,"angle",a)};hs.prototype.getSetAngle=hs.prototype.oi;hs.prototype.pi=function(a){return is(this,"name",a)};hs.prototype.getSetName=hs.prototype.pi;hs.prototype.ri=function(a){return is(this,"opacity",a)};hs.prototype.getSetOpacity=hs.prototype.ri;hs.prototype.si=function(a){return is(this,"showMeasure",a)};hs.prototype.getSetShowMeasure=hs.prototype.si;hs.prototype.ti=function(a){return is(this,"size",a)};hs.prototype.getSetSize=hs.prototype.ti;
hs.prototype.ui=function(a){return is(this,"stroke",a)};hs.prototype.getSetStroke=hs.prototype.ui;function is(a,b,d){void 0!==d&&a.feature.set(b,d);return a.feature.get(b)}hs.prototype.b=function(){var a=this.feature;a&&this.c.ja(a)};hs.prototype.i=function(){var a=this.feature;this.measure=this.c.gc(a);this.c.Bc(a)&&this.b();this.f.$apply()};G.controller("GmfFeaturestyleController",hs);A.directive("ngeoDrawpoint",function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function(a,b,d,e){a=new gr({type:"Point"});e.Mb(a);e.drawPoint=a;I(a,"drawend",e.Hb.bind(e,"Point"),e);I(a,O("active"),e.Fb,e)}}});A.directive("ngeoDrawrectangle",function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function(a,b,d,e){a=new gr({type:"LineString",ai:function(a,b){b||(b=new ai(null));var d=a[0],e=a[1];b.ba([[d,[d[0],e[1]],e,[e[0],d[1]],d]]);return b},hg:2});e.Mb(a);e.drawRectangle=a;I(a,"drawend",e.Hb.bind(e,"Rectangle"),e);I(a,O("active"),e.Fb,e)}}});A.directive("ngeoDrawtext",function(){return{restrict:"A",require:"^^ngeoDrawfeature",link:function(a,b,d,e){a=new gr({type:"Point"});e.Mb(a);e.drawText=a;I(a,"drawend",e.Hb.bind(e,"Text"),e);I(a,O("active"),e.Fb,e)}}});function js(a){a=void 0!==a?a:{};xr.call(this,a);this.continueMsg=void 0!==a.continueMsg?a.continueMsg:gj("SPAN",{},"Click to continue drawing the polygon.",gj("BR"),"Double-click or click starting point to finish.")}x(js,xr);ra("ngeo.interaction.MeasureArea",js);js.prototype.o=function(a,b){return new gr({type:"Polygon",source:b,style:a})};js.prototype.od=function(a){var b=this.j.H(),d=Y(this.f).Y(),d=zr(b,d,this.decimals),e=null;2<b.U()[0].length&&(e=(new Uh(ci(b))).U());a(d,e)};function ks(a,b){return{restrict:"A",require:"^^ngeoDrawfeature",link:function(d,e,f,g){e=b("Click to start drawing area");f=b("Click to continue drawing<br/>Double-click or click last starting point to finish");d=new js({style:new eh,startMsg:a("<div translate>"+e+"</div>")(d)[0],continueMsg:a("<div translate>"+f+"</div>")(d)[0]});g.Mb(d);g.measureArea=d;I(d,"measureend",g.Hb.bind(g,"Polygon"),g);I(d,O("active"),g.Fb,g)}}}ks.$inject=["$compile","gettext"];A.directive("ngeoMeasurearea",ks);function ls(a){a=void 0!==a?a:{};xr.call(this,a);this.continueMsg=void 0!==a.continueMsg?a.continueMsg:gj("SPAN",{},"Click to finish.")}x(ls,xr);ra("ngeo.interaction.MeasureAzimut",ls);ls.prototype.o=function(a,b){return new ms({source:b,style:a})};ls.prototype.od=function(a){var b=Up(this.j.H().b)[0],d=b.U(),e=d[1][0]-d[0][0],d=d[1][1]-d[0][1],e=Math.round((0<e?1:-1)*Math.acos(d/Math.sqrt(e*e+d*d))*180/Math.PI)%360+"\u00b0",d=Y(this.f).Y(),e=e+("<br/>"+Ar(b,d,this.decimals));a(e,Ah(b))};
function ms(a){Zl.call(this,{hb:ns,handleEvent:os,ib:ps});this.u=null;this.v=void 0!==a.source?a.source:null;this.o=!1;this.i=this.b=null;this.s=new xi({source:new Ji({pc:!1,wrapX:!1}),style:void 0!==a.style?a.style:or()});I(this,O("active"),this.D,this)}x(ms,Zl);ra("ngeo.interaction.DrawAzimut",ms);function ns(a){this.u=a.pixel;return!0}
function ps(a){var b=this.u,d=a.pixel,e=b[0]-d[0],b=b[1]-d[1],d=!0;4>=e*e+b*b&&(qs(this,a),this.o?(a=rs(this),null!==this.v&&this.v.oa(a),M(this,new fr("drawend",a))):(e=a.coordinate,this.o=!0,a=new Mh([e.slice(),e.slice()]),e=new cr(e,0),a=new Sp([a,e]),this.b=new lh,mh(this.b,a),ss(this),M(this,new fr("drawstart",this.b))),d=!1);return d}function os(a){var b=!0;a.type===Dk?b=qs(this,a):a.type===xk&&(b=!1);return $l.call(this,a)&&b}
function qs(a,b){if(a.o){var d=b.coordinate,e=a.b.H().b,f=e[0],g,h;g=f.U();a.i.H().ba(d);h=g[g.length-1];h[0]=d[0];h[1]=d[1];f.ba(g);d=e[1];e=f.B;g=f.F;h=e[0];var k=e[1],l=0,m;for(m=0+g;m<f.B.length;m+=g){var p=e[m],q=e[m+1],l=l+Math.sqrt((p-h)*(p-h)+(q-k)*(q-k));h=p;k=q}d.B[d.F]=d.B[0]+l;d.c();ss(a)}else f=b.coordinate.slice(),null===a.i?(a.i=new lh(new Uh(f)),ss(a)):a.i.H().ba(f);return!0}function ss(a){var b=[];null!==a.b&&b.push(a.b);null!==a.i&&b.push(a.i);a=a.s.K();a.clear(!0);Ai(a,b)}
function rs(a){a.o=!1;var b=a.b;null!==b&&(a.b=null,a.i=null,a.s.K().clear(!0));return b}ms.prototype.Pb=Ej;ms.prototype.D=function(){var a=this.f,b=this.getActive();null!==a&&b||rs(this);this.s.setMap(b?a:null)};ms.prototype.setMap=function(a){ms.ca.setMap.call(this,a);this.D()};function ts(a,b){return{restrict:"A",require:"^^ngeoDrawfeature",link:function(d,e,f,g){e=b("Click to start drawing azimut");f=b("Click to finish");d=new ls({style:new eh,startMsg:a("<div translate>"+e+"</div>")(d)[0],continueMsg:a("<div translate>"+f+"</div>")(d)[0]});g.Mb(d);g.measureAzimut=d;I(d,"measureend",function(a){for(var b=Up(a.feature.H().b)[1],d=b.F,e=b.layout,f=new ai(null,e),d=65*d,q=Array(d),r=0;r<d;r++)q[r]=0;f.M(e,q,[q.length]);for(var e=b.B.slice(0,b.F),b=er(b),d=f.B,q=f.layout,
r=f.F,w=f.fb(),u=d.length/r-1,y,B,C=0;C<=u;++C)B=C*r,y=0+2*Cb(C,u)*Math.PI/u,d[B]=e[0]+b*Math.cos(y),d[B+1]=e[1]+b*Math.sin(y);f.M(q,d,w);a.feature=new lh(f);g.Hb("Circle",a)},g);I(d,O("active"),g.Fb,g)}}}ts.$inject=["$compile","gettext"];A.directive("ngeoMeasureazimut",ts);function us(a,b){return{restrict:"A",require:"^^ngeoDrawfeature",link:function(d,e,f,g){e=b("Click to start drawing length");f=b("Click to continue drawing<br/>Double-click or click last point to finish");d=new Fr({style:new eh,startMsg:a("<div translate>"+e+"</div>")(d)[0],continueMsg:a("<div translate>"+f+"</div>")(d)[0]});g.Mb(d);g.measureLength=d;I(d,"measureend",g.Hb.bind(g,"LineString"),g);I(d,O("active"),g.Fb,g)}}}us.$inject=["$compile","gettext"];A.directive("ngeoMeasurelength",us);A.directive("ngeoDrawfeature",function(){return{controller:"ngeoDrawfeatureController",scope:!0,bindToController:{active:"=ngeoDrawfeatureActive",map:"=ngeoDrawfeatureMap"},controllerAs:"dfCtrl"}});function vs(a,b,d,e,f,g,h,k){void 0===this.active&&(this.active=!1);this.i=f;this.g=g;this.f=h;this.b=k;this.c=[];a.$watch(function(){return this.active}.bind(this),function(a){!1===a&&this.c.forEach(function(a){a.setActive(!1)},this)}.bind(this))}vs.$inject="$scope $compile $sce gettext gettextCatalog ngeoDecorateInteraction ngeoFeatureHelper ngeoFeatures".split(" ");
vs.prototype.Mb=function(a){this.c.push(a);a.setActive(!1);this.g(a);this.map.f.push(a)};vs.prototype.registerInteraction=vs.prototype.Mb;vs.prototype.Fb=function(){this.active=this.c.some(function(a){return a.getActive()},this)};vs.prototype.handleActiveChange=vs.prototype.Fb;
vs.prototype.Hb=function(a,b){var d=new lh(b.feature.H());switch(a){case "Circle":d.set("isCircle",!0);break;case "Text":d.set("isText",!0);break;case "Rectangle":d.set("isRectangle",!0)}var e=this.i.getString(a);d.set("name",e+" "+(ib(this.b)+1));d.set("color","Text"!==a?"#DB4436":"#000000");d.set("angle",0);d.set("opacity",.2);d.set("showMeasure",!1);d.set("size",10);d.set("stroke",1);this.f.ja(d);this.b.push(d)};vs.prototype.handleDrawEnd=vs.prototype.Hb;
A.controller("ngeoDrawfeatureController",vs);function ws(a,b,d){ta.call(this,a);this.features=b;this.mapBrowserPointerEvent=d}x(ws,ta);
function xs(a){Zl.call(this,{hb:ys,Gb:zs,handleEvent:As,ib:Bs});this.za=a.Vh?a.Vh:Hj(Vl,Ul);this.na=this.i=null;this.da=[0,0];this.v=this.N=!1;this.b=new Di;this.D=void 0!==a.Ek?a.Ek:10;this.s=this.ga=!1;this.o=null;this.G=new xi({source:new Ji({pc:!1,wrapX:!!a.wrapX}),style:a.style?a.style:Cs(),Qc:!0,Rc:!0});this.T={Point:this.jk,LineString:this.pg,LinearRing:this.pg,Polygon:this.kk,MultiPoint:this.hk,MultiLineString:this.gk,MultiPolygon:this.ik,GeometryCollection:this.fk};this.u=a.features;this.u.forEach(this.De,
this);I(this.u,"add",this.dk,this);I(this.u,"remove",this.ek,this)}x(xs,Zl);n=xs.prototype;n.De=function(a){var b=a.H();b.V()in this.T&&this.T[b.V()].call(this,a,b);(b=this.f)&&Ds(this,this.da,b);I(a,"change",this.og,this)};function Es(a,b){a.v||(a.v=!0,M(a,new ws("modifystart",a.u,b)))}function Fs(a,b){Gs(a,b);a.i&&0===ib(a.u)&&(a.G.K().Qa(a.i),a.i=null);Fa(b,"change",a.og,a)}
function Gs(a,b){var d=a.b,e=[];d.forEach(function(a){b===a.feature&&e.push(a)});for(var f=e.length-1;0<=f;--f)d.remove(e[f])}n.setMap=function(a){this.G.setMap(a);xs.ca.setMap.call(this,a)};n.dk=function(a){this.De(a.element)};n.og=function(a){this.s||(a=a.target,Fs(this,a),this.De(a))};n.ek=function(a){Fs(this,a.element)};n.jk=function(a,b){var d=b.U(),d={feature:a,geometry:b,ia:[d,d]};this.b.insert(b.I(),d)};
n.hk=function(a,b){var d=b.U(),e,f,g;f=0;for(g=d.length;f<g;++f)e=d[f],e={feature:a,geometry:b,depth:[f],index:f,ia:[e,e]},this.b.insert(b.I(),e)};n.pg=function(a,b){var d=b.U(),e,f,g,h;e=0;for(f=d.length-1;e<f;++e)g=d.slice(e,e+2),h={feature:a,geometry:b,index:e,ia:g},this.b.insert(Jb(g),h)};n.gk=function(a,b){var d=b.U(),e,f,g,h,k,l,m;h=0;for(k=d.length;h<k;++h)for(e=d[h],f=0,g=e.length-1;f<g;++f)l=e.slice(f,f+2),m={feature:a,geometry:b,depth:[h],index:f,ia:l},this.b.insert(Jb(l),m)};
n.kk=function(a,b){var d=b.U(),e,f,g,h,k,l,m;h=0;for(k=d.length;h<k;++h)for(e=d[h],f=0,g=e.length-1;f<g;++f)l=e.slice(f,f+2),m={feature:a,geometry:b,depth:[h],index:f,ia:l},this.b.insert(Jb(l),m)};n.ik=function(a,b){var d=b.U(),e,f,g,h,k,l,m,p,q,r;l=0;for(m=d.length;l<m;++l)for(p=d[l],h=0,k=p.length;h<k;++h)for(e=p[h],f=0,g=e.length-1;f<g;++f)q=e.slice(f,f+2),r={feature:a,geometry:b,depth:[h,l],index:f,ia:q},this.b.insert(Jb(q),r)};
n.fk=function(a,b){var d,e=b.b;for(d=0;d<e.length;++d)this.T[e[d].V()].call(this,a,e[d])};function Hs(a,b){var d=a.i;d?d.H().ba(b):(d=new lh(new Uh(b)),a.i=d,a.G.K().oa(d))}function Is(a,b){return a.index-b.index}
function ys(a){Ds(this,a.pixel,a.map);this.o=[];this.v=!1;var b=this.i;if(b){var d=[],b=b.H().U(),e=Jb([b]),e=Gi(this.b,e),f={};e.sort(Is);for(var g=0,h=e.length;g<h;++g){var k=e[g],l=k.ia,m=v(k.feature),p=k.depth;p&&(m+="-"+p.join("-"));f[m]||(f[m]=Array(2));if(Fb(l[0],b)&&!f[m][0])this.o.push([k,0]),f[m][0]=k;else if(Fb(l[1],b)&&!f[m][1]){if("LineString"!==k.geometry.V()&&"MultiLineString"!==k.geometry.V()||!f[m][0]||0!==f[m][0].index)this.o.push([k,1]),f[m][1]=k}else v(l)in this.na&&!f[m][0]&&
!f[m][1]&&d.push([k,b])}d.length&&Es(this,a);for(a=d.length-1;0<=a;--a)this.wj.apply(this,d[a])}return!!this.i}
function zs(a){this.N=!1;Es(this,a);a=a.coordinate;for(var b=0,d=this.o.length;b<d;++b){for(var e=this.o[b],f=e[0],g=f.depth,h=f.geometry,k=h.U(),l=f.ia,e=e[1];a.length<h.F;)a.push(0);switch(h.V()){case "Point":k=a;l[0]=l[1]=a;break;case "MultiPoint":k[f.index]=a;l[0]=l[1]=a;break;case "LineString":k[f.index+e]=a;l[e]=a;break;case "MultiLineString":k[g[0]][f.index+e]=a;l[e]=a;break;case "Polygon":k[g[0]][f.index+e]=a;l[e]=a;break;case "MultiPolygon":k[g[1]][g[0]][f.index+e]=a,l[e]=a}f=h;this.s=!0;
f.ba(k);this.s=!1}Hs(this,a)}function Bs(a){for(var b,d=this.o.length-1;0<=d;--d)b=this.o[d][0],Ei(this.b,Jb(b.ia),b);this.v&&(M(this,new ws("modifyend",this.u,a)),this.v=!1);return!1}
function As(a){if(!(a instanceof tk))return!0;var b;Y(a.map).f.slice()[1]||a.type!=Dk||this.C||(this.da=a.pixel,Ds(this,a.pixel,a.map));if(this.i&&this.za(a))if(a.type==yk&&this.N)b=!0;else{this.i.H();Es(this,a);b=this.o;var d={},e,f,g,h,k,l,m,p,q;for(k=b.length-1;0<=k;--k)if(g=b[k],p=g[0],h=p.geometry,f=h.U(),q=v(p.feature),p.depth&&(q+="-"+p.depth.join("-")),m=e=l=void 0,0===g[1]?(e=p,l=p.index):1==g[1]&&(m=p,l=p.index+1),q in d||(d[q]=[m,e,l]),g=d[q],void 0!==m&&(g[0]=m),void 0!==e&&(g[1]=e),void 0!==
g[0]&&void 0!==g[1]){e=f;q=!1;m=l-1;switch(h.V()){case "MultiLineString":f[p.depth[0]].splice(l,1);q=!0;break;case "LineString":f.splice(l,1);q=!0;break;case "MultiPolygon":e=e[p.depth[1]];case "Polygon":e=e[p.depth[0]],4<e.length&&(l==e.length-1&&(l=0),e.splice(l,1),q=!0,0===l&&(e.pop(),e.push(e[0]),m=e.length-1))}q&&(this.b.remove(g[0]),this.b.remove(g[1]),e=h,this.s=!0,e.ba(f),this.s=!1,f={depth:p.depth,feature:p.feature,geometry:p.geometry,index:m,ia:[g[0].ia[0],g[1].ia[1]]},this.b.insert(Jb(f.ia),
f),Js(this,h,l,p.depth,-1),this.i&&(this.G.K().Qa(this.i),this.i=null))}b=!0;M(this,new ws("modifyend",this.u,a));this.v=!1}a.type==yk&&(this.N=!1);return $l.call(this,a)&&!b}
function Ds(a,b,d){function e(a,b){return Hb(f,Eb(f,a.ia))-Hb(f,Eb(f,b.ia))}var f=d.Ta(b),g=d.Ta([b[0]-a.D,b[1]+a.D]),h=d.Ta([b[0]+a.D,b[1]-a.D]),g=Jb([g,h]),g=Gi(a.b,g);if(0<g.length){g.sort(e);var h=g[0].ia,k=Eb(f,h),l=fm(d,k);if(Math.sqrt(Hb(b,l))<=a.D){b=fm(d,h[0]);d=fm(d,h[1]);b=Hb(l,b);d=Hb(l,d);a.ga=Math.sqrt(Math.min(b,d))<=a.D;a.ga&&(k=b>d?h[1]:h[0]);Hs(a,k);d={};d[v(h)]=!0;b=1;for(l=g.length;b<l;++b)if(k=g[b].ia,Fb(h[0],k[0])&&Fb(h[1],k[1])||Fb(h[0],k[1])&&Fb(h[1],k[0]))d[v(k)]=!0;else break;
a.na=d;return}}a.i&&(a.G.K().Qa(a.i),a.i=null)}
n.wj=function(a,b){for(var d=a.ia,e=a.feature,f=a.geometry,g=a.depth,h=a.index,k;b.length<f.F;)b.push(0);switch(f.V()){case "MultiLineString":k=f.U();k[g[0]].splice(h+1,0,b);break;case "Polygon":k=f.U();k[g[0]].splice(h+1,0,b);break;case "MultiPolygon":k=f.U();k[g[1]][g[0]].splice(h+1,0,b);break;case "LineString":k=f.U();k.splice(h+1,0,b);break;default:return}this.s=!0;f.ba(k);this.s=!1;k=this.b;k.remove(a);Js(this,f,h,g,1);var l={ia:[d[0],b],feature:e,geometry:f,depth:g,index:h};k.insert(Jb(l.ia),
l);this.o.push([l,1]);d={ia:[b,d[1]],feature:e,geometry:f,depth:g,index:h+1};k.insert(Jb(d.ia),d);this.o.push([d,0]);this.N=!0};function Js(a,b,d,e,f){Ii(a.b,b.I(),function(a){a.geometry===b&&(void 0===e||void 0===a.depth||qb(a.depth,e))&&a.index>d&&(a.index+=f)})}function Cs(){var a=kh();return function(){return a.Point}};function Ks(a){this.b=a.features;this.o=[];this.i=[];this.j=new gb;this.i.push(new xs({features:this.j}));Ml.call(this,{handleEvent:Fj})}x(Ks,Ml);ra("ngeo.interaction.Modify",Ks);Ks.prototype.setActive=function(a){Ks.ca.setActive.call(this,a);Ls(this)};Ks.prototype.setActive=Ks.prototype.setActive;n=Ks.prototype;n.setMap=function(a){var b=this.i,d=this.f;d&&b.forEach(function(a){d.f.remove(a)},this);Ks.ca.setMap.call(this,a);a&&b.forEach(function(b){a.f.push(b)},this);Ls(this)};
function Ls(a){var b=a.f,d=a.getActive(),e=a.o;a.i.forEach(function(a){a.setActive(d&&!!b)},a);d&&b?(a.b.forEach(a.kg,a),e.push(I(a.b,"add",a.Wj,a)),e.push(I(a.b,"remove",a.Xj,a))):(e.forEach(function(a){H(a)},a),a.b.forEach(a.lg,a))}n.Wj=function(a){this.kg(a.element)};n.Xj=function(a){this.lg(a.element)};n.kg=function(a){this.j.push(a)};n.lg=function(a){this.j.remove(a)};G.directive("gmfDrawfeature",function(){return{controller:"GmfDrawfeatureController",scope:{active:"=gmfDrawfeatureActive",map:"<gmfDrawfeatureMap"},bindToController:!0,controllerAs:"efCtrl",templateUrl:"gmf/drawfeature.html"}});
function Ms(a,b,d,e,f){void 0===this.active&&(this.active=!1);this.drawActive=!1;this.drawToolActivate=new pq(this,"drawActive");this.mapSelectActive=!0;this.mapSelectToolActivate=new pq(this,"mapSelectActive");this.g=a;this.i=b;this.features=e;this.j=f;this.selectedFeature=null;this.b=new gb;this.otherActive=!0;this.otherToolActivate=new pq(this,"otherActive");b=this.c=new Ks({features:this.b});b.setActive(!1);d(b);this.map.f.push(b);this.f=[];a.$watch(function(){return this.active}.bind(this),this.Fi.bind(this));
a.$watch(function(){return this.drawActive}.bind(this),function(a){a&&(this.selectedFeature=null)}.bind(this));a.$watch(function(){return this.selectedFeature}.bind(this),function(a,b){b&&this.b.clear();a&&this.b.push(a)}.bind(this));a.$watch(function(){return this.mapSelectActive}.bind(this),this.Vi.bind(this));this.nameProperty="name"}Ms.$inject=["$scope","$timeout","ngeoDecorateInteraction","ngeoFeatures","ngeoToolActivateMgr"];n=Ms.prototype;
n.Fi=function(a){var b=this.f,d=["draw-",v(this)].join("-"),e=["other-",v(this)].join("-"),f=this.j;a?(b.push(I(this.features,"add",this.Ai,this)),b.push(I(this.features,"remove",this.Bi,this)),f.rb(d,this.drawToolActivate,!1),f.rb(d,this.mapSelectToolActivate,!0),f.rb(e,this.drawToolActivate,!1),f.rb(e,this.otherToolActivate,!0),this.mapSelectActive=!0,this.c.setActive(!0)):(b.forEach(function(a){H(a)},this),f.Pc(d,this.drawToolActivate),f.Pc(d,this.mapSelectToolActivate),f.Pc(e,this.drawToolActivate),
f.Pc(e,this.otherToolActivate),this.drawActive=!1,this.c.setActive(!1),this.mapSelectActive=!1,this.selectedFeature=null)};n.Ai=function(a){this.i(function(){this.selectedFeature=a.element;this.drawActive=!1;this.g.$apply()}.bind(this))};n.Bi=function(){this.selectedFeature=null};n.Vi=function(a){a?I(this.map,wk,this.bg,this):Fa(this.map,wk,this.bg,this)};
n.bg=function(a){this.selectedFeature=(a=Ln(this.map,a.pixel,function(a){var d=!1;0<=this.features.b.indexOf(a)&&(d=a);return d}.bind(this)))?a:null;this.g.$apply()};G.controller("GmfDrawfeatureController",Ms);function Ns(a,b){var d=b.exportgpxkml;return function(b,f,g){f=$("<input>").attr({type:"hidden",name:"format",value:f});g=$("<input>").attr({type:"hidden",name:"name",value:g});b=$("<input>").attr({type:"hidden",name:"doc",value:b});var h=$("<form>").attr({method:"POST",action:d});h.append(f,g,b);angular.element(a[0].body).append(h);h[0].submit();h.remove()}}Ns.$inject=["$document","gmfServiceUrls"];G.factory("gmfExportFeatures",Ns);var Os=[4E3,3750,3500,3250,3E3,2750,2500,2250,2E3,1750,1500,1250,1E3,750,650,500,250,100,50,20,10,5,2.5,2,1.5,1,.5],Ps=new ag({extent:[42E4,3E4,9E5,35E4],Ia:Os,Ce:Os.map(function(a,b){return String(b)})});function Qs(a){cg.call(this,{ka:[Rs],url:"https://ows{1-4}.asitvd.ch/wmts/1.0.0/{Layer}/default/default/0/21781/{TileMatrix}/{TileRow}/{TileCol}.png",projection:"EPSG:21781",requestEncoding:"REST",layer:a.layer,style:"default",matrixSet:"21781",format:"image/png",ra:Ps})}x(Qs,cg);
ra("gmf.source.AsitVD",Qs);var Rs=new md({html:"g\u00e9odonn\u00e9es &copy; Etat de Vaud & &copy; contributeurs OpenStreetMap"});var Ss=[4E3,3750,3500,3250,3E3,2750,2500,2250,2E3,1750,1500,1250,1E3,750,650,500,250,100,50,20,10,5,2.5,2,1.5,1,.5],Ts=new ag({extent:[42E4,3E4,9E5,35E4],Ia:Ss,Ce:Ss.map(function(a,b){return String(b)})});
function Us(a){var b=a.format?a.format:"png";cg.call(this,{ka:[Vs],url:"https://wmts{5-9}.geo.admin.ch/1.0.0/{Layer}/default/{Time}/21781/{TileMatrix}/{TileRow}/{TileCol}."+b,dimensions:{Time:a.timestamp},projection:"EPSG:21781",requestEncoding:"REST",layer:a.layer,style:"default",matrixSet:"21781",format:"image/"+b,ra:Ts})}x(Us,cg);ra("gmf.source.Swisstopo",Us);var Vs=new md({html:'&copy; <a href="http://www.swisstopo.admin.ch">swisstopo</a>'});(function(){function a(a){a.put("ngeo/popup.html",'<h4 class="popover-title ngeo-popup-title"> <span>{{title}}</span> <button type=button class=close ng-click="open = false"> &times;</button> </h4> <div class=popover-content ng-bind-html=content></div> ');a.put("gmf/layertree.html",'<div ng-if=::!layertreeCtrl.isRoot id=node-{{::layertreeCtrl.uid}} ng-class="[layertreeCtrl.node.children ? \'group\' : \'leaf\', \'depth-\' + layertreeCtrl.depth, gmfLayertreeCtrl.getResolutionStyle(layertreeCtrl.node), gmfLayertreeCtrl.getNoSourceStyle(layertreeCtrl), gmfLayertreeCtrl.getNodeState(layertreeCtrl)]"> <a ng-if=::layertreeCtrl.node.children data-toggle=collapse href=#layer-group-{{::layertreeCtrl.uid}} aria-expanded="{{::layertreeCtrl.node.isExpanded || false}}" class="fa expand-node fa-fw"> </a> <a href ng-click=::gmfLayertreeCtrl.toggleActive(layertreeCtrl)> <span class=layerIcon ng-if=::!layertreeCtrl.node.children> <img ng-src={{::gmfLayertreeCtrl.getLegendIconURL(layertreeCtrl)}}> </span> <span class=state></span> <span class=name>{{layertreeCtrl.node.name | translate}}</span> </a> <span class=rightButtons> <span class=metadata ng-if=::layertreeCtrl.node.metadata.metadataUrl> <span ng-if="::gmfLayertreeCtrl.openLinksInNewWindow === true"> <a title="{{\'More informations\'|translate}}" href={{::layertreeCtrl.node.metadata.metadataUrl}} target=blank_></a> </span> <span ng-if="::gmfLayertreeCtrl.openLinksInNewWindow !== true"> <a title="{{\'More informations\'|translate}}" href ng-click=gmfLayertreeCtrl.displayMetadata(layertreeCtrl)></a> </span> </span> <span class=zoom title="{{\'Zoom to a visible level\'|translate}}" ng-click=::gmfLayertreeCtrl.zoomToResolution(layertreeCtrl.node)></span> <span class=legendButton ng-if="::(gmfLayertreeCtrl.getLegendURL(layertreeCtrl) && layertreeCtrl.node.metadata.legend == \'true\')"> <a title="{{\'Show/hide legend\'|translate}}" data-toggle=collapse href=#node-{{::layertreeCtrl.uid}}-legend></a> </span> </span> <span class=legend> <div id=node-{{::layertreeCtrl.uid}}-legend class=collapse ng-class="::[layertreeCtrl.node.metadata.isLegendExpanded == \'true\' ? \'in\' : \'\']"> <a data-toggle=collapse href=#node-{{::layertreeCtrl.uid}}-legend> <img ng-src={{gmfLayertreeCtrl.getLegendURL(layertreeCtrl)}}> </a> </div> </span> </div> <ul id=layer-group-{{::layertreeCtrl.uid}} ng-if=::layertreeCtrl.node.children ng-class="{collapse: !layertreeCtrl.isRoot, in : layertreeCtrl.node.isExpanded}"> <li class=gmf-layertree-node ng-repeat="node in layertreeCtrl.node.children" ng-class="\'depth-\' + layertreeCtrl.depth" ngeo-layertree=node ngeo-layertree-notroot ngeo-layertree-map=layertreeCtrl.map ngeo-layertree-nodelayerexpr=layertreeCtrl.nodelayerExpr ngeo-layertree-listenersexpr=layertreeCtrl.listenersExpr> </li> </ul> ');
a.put("ngeo/scaleselector.html",'<div ng-class="::{\'dropdown\': true, \'dropup\': scaleselectorCtrl.options.dropup}"> <button type=button class="btn btn-primary" data-toggle=dropdown> <span ng-bind-html=scaleselectorCtrl.currentScale></span>&nbsp;<span class=caret></span> </button> <ul class=dropdown-menu role=menu> <li ng-repeat="zoomLevel in ::scaleselectorCtrl.zoomLevels"> <a href ng-click=scaleselectorCtrl.changeZoom(zoomLevel) ng-bind-html=scaleselectorCtrl.getScale(zoomLevel)> </a> </li> </ul> </div> ');
a.put("gmf/mobilemeasurelength.html",'<a class="btn btn-default" ng-if="ctrl.drawing && (!ctrl.valid)" ng-click=ctrl.addPoint()> <span class="fa fa-check"></span> {{\'Set as starting point\' | translate}} </a> <a class="btn btn-default" ng-if=ctrl.dirty ng-click=ctrl.addPoint()> <span class="fa fa-plus"></span> {{\'Add new point\' | translate}} </a> <a class="btn btn-default" ng-if="ctrl.drawing && ctrl.valid && !ctrl.dirty" ng-click=ctrl.finish()> <span class="fa fa-check"></span> {{\'Terminate\' | translate}} </a> <a class="btn btn-default" ng-if=ctrl.valid ng-click=ctrl.clear()> <span class="fa fa-repeat"></span> {{\'Clear\' | translate}} </a> <a class="btn btn-default" ng-if=ctrl.active ng-click=ctrl.deactivate()> <span class="fa fa-times"></span> {{\'Close\' | translate}} </a> ');
a.put("gmf/mobilebackgroundlayerselector.html",'<ul class=gmf-mobile-backgroundlayerselector> <li ng-repeat="layer in ::ctrl.bgLayers" ng-click=ctrl.setLayer(layer)> <div class=gmf-check> <span class=gmf-icon ng-class="{\'gmf-icon-check\': ctrl.bgLayer == layer}"> </span> </div> <div class=gmf-text>{{layer.get("label") | translate}}</div> <img class=gmf-thumb ng-src="{{::layer.get(\'metadata\')[\'thumbnail\']}}"> <div class=gmf-eol></div> </li> </ul> ');a.put("gmf/mobilemeasurepoint.html",'<a class="btn btn-default" ng-if=ctrl.active ng-click=ctrl.deactivate()> <span class="fa fa-times"></span> {{\'Close\' | translate}} </a> ');
a.put("gmf/featurestyle.html","<div ng-if=\"fsCtrl.feature && fsCtrl.type\" class=form-horizontal> <div class=form-group> <div class=col-xs-12> <input ng-model=fsCtrl.getSetName ng-model-options=\"{getterSetter: true}\" class=\"form-control gmf-featurestyle-name\"> </div> </div> <div class=form-group ng-if=\"fsCtrl.type !== 'Text'\"> <div class=col-xs-12> <span class=gmf-featurestyle-measure> {{ fsCtrl.measure }} </span> </div> </div> <div class=form-group> <div ngeo-colorpicker ngeo-colorpicker-color=fsCtrl.color class=col-xs-12> </div> </div> <div ng-if=\"fsCtrl.type === 'Point'\" class=form-group> <label class=\"control-label col-xs-4\">{{'Size' | translate}}</label> <div class=col-xs-8> <input type=range min=3 max=20 step=1 ng-model=fsCtrl.getSetSize ng-model-options=\"{getterSetter: true}\"> </div> </div> <div ng-if=\"fsCtrl.type === 'Text'\" class=form-group> <label class=\"control-label col-xs-4\">{{'Size' | translate}}</label> <div class=col-xs-8> <input type=range min=8 max=30 step=1 ng-model=fsCtrl.getSetSize ng-model-options=\"{getterSetter: true}\"> </div> </div> <div ng-if=\"fsCtrl.type === 'Circle' || fsCtrl.type === 'LineString' || fsCtrl.type === 'Polygon' || fsCtrl.type === 'Rectangle'\" class=form-group> <label class=\"control-label col-xs-4\">{{'Stroke' | translate}}</label> <div class=col-xs-8> <input type=range min=0.5 max=5 step=0.5 ng-model=fsCtrl.getSetStroke ng-model-options=\"{getterSetter: true}\"> </div> </div> <div ng-if=\"fsCtrl.type === 'Circle' || fsCtrl.type === 'Polygon' || fsCtrl.type === 'Rectangle'\" class=form-group> <label class=\"control-label col-xs-4\">{{'Opacity' | translate}}</label> <div class=col-xs-8> <input type=range min=0 max=1 step=0.05 ng-model=fsCtrl.getSetOpacity ng-model-options=\"{getterSetter: true}\"> </div> </div> <div ng-if=\"fsCtrl.type === 'Text'\" class=form-group> <label class=\"control-label col-xs-4\">{{'Angle' | translate}}</label> <div class=col-xs-8> <input type=range min=-180 max=180 step=22.5 ng-model=fsCtrl.getSetAngle ng-model-options=\"{getterSetter: true}\"> </div> </div> <div ng-if=\"fsCtrl.type !== 'Text'\" class=form-group> <div class=col-xs-12> <input id=gmf-featurestyle-showmeasure type=checkbox ng-model=fsCtrl.getSetShowMeasure ng-model-options=\"{getterSetter: true}\"> <label ng-switch=fsCtrl.type for=gmf-featurestyle-showmeasure class=control-label> <span ng-switch-when=Circle> {{'Display surface' | translate}} </span> <span ng-switch-when=Polygon> {{'Display surface' | translate}} </span> <span ng-switch-when=Rectangle> {{'Display surface' | translate}} </span> <span ng-switch-when=LineString> {{'Display length' | translate}} </span> <span ng-switch-when=Point> {{'Display coordinates' | translate}} </span> </label> </div> </div> </div>");
a.put("gmf/search.html",'<div class=gmf-search> <input type=text placeholder="{{\'Search\u2026\' | translate}}" class=form-control ng-model=ctrl.input_value ngeo-search=ctrl.options ngeo-search-datasets=ctrl.datasets ngeo-search-listeners=ctrl.listeners> <span class="clear-button ng-hide" ng-hide="!ctrl.clearButton || ctrl.input_value == \'\'" ng-click=ctrl.onClearButton()></span> <input data-ng-model=color data-ng-change=ctrl.setStyleColor(color)> </div> ');a.put("gmf/drawfeature.html",'<div> <h2>{{\'Draw & Measure\' | translate}}</h2> <hr> <ngeo-drawfeature ngeo-btn-group class=btn-group ngeo-drawfeature-active=efCtrl.drawActive ngeo-drawfeature-map=efCtrl.map> <a href translate ngeo-btn ngeo-drawpoint class="btn btn-default ngeo-drawfeature-point" ng-class="{active: dfCtrl.drawPoint.active}" ng-model=dfCtrl.drawPoint.active></a> <a href translate ngeo-btn ngeo-measurelength class="btn btn-default ngeo-drawfeature-linestring" ng-class="{active: dfCtrl.measureLength.active}" ng-model=dfCtrl.measureLength.active></a> <a href translate ngeo-btn ngeo-measurearea class="btn btn-default ngeo-drawfeature-polygon" ng-class="{active: dfCtrl.measureArea.active}" ng-model=dfCtrl.measureArea.active></a> <a href translate ngeo-btn ngeo-measureazimut class="btn btn-default ngeo-drawfeature-circle" ng-class="{active: dfCtrl.measureAzimut.active}" ng-model=dfCtrl.measureAzimut.active></a> <a href translate ngeo-btn ngeo-drawrectangle class="btn btn-default ngeo-drawfeature-rectangle" ng-class="{active: dfCtrl.drawRectangle.active}" ng-model=dfCtrl.drawRectangle.active></a> <a href translate ngeo-btn ngeo-drawtext class="btn btn-default ngeo-drawfeature-text" ng-class="{active: dfCtrl.drawText.active}" ng-model=dfCtrl.drawText.active></a> </ngeo-drawfeature> <hr> <div ng-switch=efCtrl.selectedFeature> <div ng-switch-when=null> <div class=ngeo-drawfeature-actionbuttons> <button class="btn btn-default"> {{\'Export\' | translate}} </button> <button ng-click=efCtrl.features.clear(); class="btn btn-default"> {{\'Delete All\' | translate}} </button> </div> <div class=gmf-eol></div> <ul class=gmf-drawfeature-featurelist> <li ng-repeat="feature in efCtrl.features.getArray()" ng-click="efCtrl.selectedFeature = feature;"> {{ feature.get(efCtrl.nameProperty) }} </li> </ul> </div> <div ng-switch-default> <div class=ngeo-drawfeature-actionbuttons> <button ng-click="efCtrl.selectedFeature = null;" class="btn btn-default"> {{\'<- List\' | translate}} </button> <button class="btn btn-default"> {{\'Export\' | translate}} </button> <button ng-click=efCtrl.features.remove(efCtrl.selectedFeature); class="btn btn-default"> {{\'Delete\' | translate}} </button> </div> <gmf-featurestyle gmf-featurestyle-feature=efCtrl.selectedFeature> </gmf-featurestyle> </div> </div> </div>');
a.put("gmf/authentication.html","<div ng-if=authCtrl.gmfUser.username> <div class=form-group> <span>{{'Logged in as' | translate}}</span> <strong>{{ ::authCtrl.gmfUser.username }}</strong>. </div> <form name=logoutForm role=form ng-submit=authCtrl.logout() ng-controller=GmfAuthenticationController ng-class=\"{'has-error': authCtrl.error}\" ng-if=!authCtrl.changingPassword> <div class=form-group> <input type=submit class=\"form-control btn btn-primary\" value=\"{{'Logout' | translate}}\"> </div> <span ng-show=authCtrl.error class=help-block>{{ authCtrl.error }}</span> <div class=form-group> <input type=button class=\"form-control btn btn-default\" value=\"{{'Change password' | translate}}\" ng-click=\"authCtrl.changingPassword = true\"> </div> </form> <form name=changePasswordForm role=form ng-submit=authCtrl.changePassword() ng-controller=GmfAuthenticationController ng-class=\"{'has-error': authCtrl.error}\" ng-if=authCtrl.changingPassword> <div class=form-group> <input type=password class=form-control name=oldpassword ng-model=authCtrl.oldPwdVal required=required placeholder=\"{{'Old password' | translate}}\"> </div> <div class=form-group> <input type=password class=form-control name=newpassword ng-model=authCtrl.newPwdVal required=required placeholder=\"{{'New password' | translate}}\"> </div> <div class=form-group> <input type=password class=form-control name=newpasswordconfirm ng-model=authCtrl.newPwdConfVal required=required placeholder=\"{{'Confirm new password' | translate}}\"> </div> <div class=form-group> <input type=submit class=\"form-control btn btn-primary\" value=\"{{'Change password' | translate}}\"> </div> <div class=form-group> <span ng-show=authCtrl.error class=help-block>{{ authCtrl.error }}</span> <input type=button class=\"form-control btn btn-default\" value=\"{{'Cancel' | translate}}\" ng-click=authCtrl.changePasswordReset()> </div> </form> <ngeo-modal ng-model=authCtrl.changePasswordModalShown> <div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=\"{{'Close' | translate}}\"> <span aria-hidden=true>&times;</span> </button> <h4 class=modal-title> {{'Password Changed' | translate}} </h4> </div> <div class=modal-body> {{'Your password has succesfully been changed.' | translate}} </div> <div class=modal-footer> <button type=button class=\"btn btn-default\" data-dismiss=modal>{{'OK' | translate}}</button> </div> </ngeo-modal> </div> <div ng-if=!authCtrl.gmfUser.username> <form name=loginForm role=form ng-submit=authCtrl.login() ng-controller=GmfAuthenticationController ng-class=\"{'has-error': authCtrl.error}\"> <div class=form-group> <input type=text class=form-control name=login ng-model=authCtrl.loginVal required=required placeholder=\"{{'Username' | translate}}\"> </div> <div class=form-group> <input type=password class=form-control name=password ng-model=authCtrl.pwdVal required=required placeholder=\"{{'Password' | translate}}\"> </div> <div class=form-group> <input type=submit class=\"form-control btn btn-primary\" value=\"{{'Connect' | translate}}\"> </div> <span ng-show=authCtrl.error class=help-block>{{ authCtrl.error }}</span> <div class=form-group> <a ng-click=authCtrl.resetPassword() href>{{'Password forgotten?' | translate}}</a> </div> </form> <ngeo-modal ng-model=authCtrl.resetPasswordModalShown> <div class=modal-header> <button type=button class=close data-dismiss=modal aria-label=\"{{'Close' | translate}}\"> <span aria-hidden=true>&times;</span> </button> <h4 class=modal-title> {{'Password forgotten?' | translate}} </h4> </div> <div class=modal-body> {{ ::authCtrl.translate( 'A new password has just been sent to you by e-mail.') }} </div> <div class=modal-footer> <button type=button class=\"btn btn-default\" data-dismiss=modal>{{'OK' | translate}}</button> </div> </ngeo-modal> </div> ");
a.put("gmf/themeselector.html","<ul class=gmf-theme-selector> <li ng-repeat=\"theme in tsCtrl.themes\" ng-click=tsCtrl.setTheme(theme)> <div class=gmf-check> <span class=gmf-icon ng-class=\"{'gmf-icon-check': tsCtrl.currentTheme['name'] == theme.name}\"> </span> </div> <div class=gmf-text>{{theme.name | translate}}</div> <img class=gmf-thumb ng-src={{::theme.icon}}> <div class=gmf-eol></div> </li> </ul> ");a.put("ngeo/layertree.html",'<span ng-if=::!layertreeCtrl.isRoot>{{::layertreeCtrl.node.name}}</span> <input type=checkbox ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-model=layertreeCtrl.getSetActive ng-model-options="{getterSetter: true}"> <ul ng-if=::layertreeCtrl.node.children> <li ng-repeat="node in ::layertreeCtrl.node.children" ngeo-layertree=::node ngeo-layertree-notroot ngeo-layertree-map=layertreeCtrl.map ngeo-layertree-nodelayerexpr=layertreeCtrl.nodelayerExpr ngeo-layertree-listenersexpr=layertreeCtrl.listenersExpr> </li> </ul> ');
a.put("ngeo/colorpicker.html",'<table class=palette> <tr ng-repeat="colors in ::ctrl.colors"> <td ng-repeat="color in ::colors" ng-click=ctrl.setColor(color) ng-class="{\'selected\': color == ctrl.color}"> <div ng-style="::{\'background-color\': color}"></div> </td> </tr> </table> ');a.put("gmf/mobiledisplayqueries.html","<div class=mobiledisplayqueries ng-show=ctrl.open ng-swipe-disable-mouse ng-swipe-left=ctrl.next() ng-swipe-right=ctrl.previous()> <button class=collapse-button type=button ng-init=\"ctrl.collapse = true\" ng-click=\"ctrl.collapse = !ctrl.collapse\" ng-class=\"[ctrl.collapse ? 'up' : 'down']\"></button> <div class=displayqueries-container> <button type=button class=close ng-click=ctrl.close()></button> <div class=animation-container ng-class=\"[ctrl.collapse ? '' : 'detailed', ctrl.isNext ? 'next' : 'previous']\"> <div ng-animate-swap=ctrl.animate class=slide-animation> <div class=header> <p class=title>{{ctrl.source.label | translate}}</p> <p class=subtitle>{{ctrl.getFeatureValues()[ctrl.source.identifierAttributeField]}}</p> </div> <div class=details> <table> <tr ng-repeat=\"(key, value) in ctrl.getFeatureValues()\"> <td class=key>{{key | translate}}</td> <td class=value>{{value}}</td> </tr> </table> </div> </div> </div> <div class=navigate> <button type=button class=previous ng-show=\"ctrl.getResultLength() - 1\" ng-click=ctrl.previous()></button> <span>{{'Result' | translate}}</span> <span>{{ctrl.currentResult + 1}}</span> <span>/</span> <span>{{ctrl.getResultLength()}}</span> <button type=button class=next ng-show=\"ctrl.getResultLength() - 1\" ng-click=ctrl.next()></button> </div> </div> </div> ")}
a.$inject=["$templateCache"];G.run(a)})();var Ws=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function Xs(a,b,d){a.push(parseFloat(b.getAttribute("lon")),parseFloat(b.getAttribute("lat")));"ele"in d?(a.push(d.ele),delete d.ele):a.push(0);"time"in d?(a.push(d.time),delete d.time):a.push(0);return a}function Ys(a,b){var d=b[b.length-1],e=a.getAttribute("href");null!==e&&(d.link=e);sc(Zs,a,b)}function $s(a,b){b[b.length-1].extensionsNode_=a}
V(Ws,{rte:kc(function(a,b){var d=b[0],e=W({flatCoordinates:[]},at,a,b);if(e){var f=e.flatCoordinates;delete e.flatCoordinates;var g=new Mh(null);g.M("XYZM",f);sh(g,!1,d);d=new lh(g);d.wa(e);return d}}),trk:kc(function(a,b){var d=b[0],e=W({flatCoordinates:[],ends:[]},bt,a,b);if(e){var f=e.flatCoordinates;delete e.flatCoordinates;var g=e.ends;delete e.ends;var h=new Qh(null);h.M("XYZM",f,g);sh(h,!1,d);d=new lh(h);d.wa(e);return d}}),wpt:kc(function(a,b){var d=b[0],e=W({},ct,a,b);if(e){var f=Xs([],a,
e),f=new Uh(f,"XYZM");sh(f,!1,d);d=new lh(f);d.wa(e);return d}})});
var Zs=V(Ws,{text:Q(X,"linkText"),type:Q(X,"linkType")}),at=V(Ws,{name:Q(X),cmt:Q(X),desc:Q(X),src:Q(X),link:Ys,number:Q(Ac),extensions:$s,type:Q(X),rtept:function(a,b){var d=W({},dt,a,b);d&&Xs(b[b.length-1].flatCoordinates,a,d)}}),dt=V(Ws,{ele:Q(yc),time:Q(xc)}),bt=V(Ws,{name:Q(X),cmt:Q(X),desc:Q(X),src:Q(X),link:Ys,number:Q(Ac),type:Q(X),extensions:$s,trkseg:function(a,b){var d=b[b.length-1];sc(et,a,b);d.ends.push(d.flatCoordinates.length)}}),et=V(Ws,{trkpt:function(a,b){var d=W({},ft,a,b);d&&Xs(b[b.length-
1].flatCoordinates,a,d)}}),ft=V(Ws,{ele:Q(yc),time:Q(xc)}),ct=V(Ws,{ele:Q(yc),time:Q(xc),magvar:Q(yc),geoidheight:Q(yc),name:Q(X),cmt:Q(X),desc:Q(X),src:Q(X),link:Ys,sym:Q(X),type:Q(X),fix:Q(X),sat:Q(Ac),hdop:Q(yc),vdop:Q(yc),pdop:Q(yc),ageofdgpsdata:Q(yc),dgpsid:Q(Ac),extensions:$s});function gt(a,b,d){a.setAttribute("href",b);b=d[d.length-1].properties;tc({node:a},ht,qc,[b.linkText,b.linkType],d,it)}
function jt(a,b,d){var e=d[d.length-1],f=e.node.namespaceURI,g=e.properties;a.setAttributeNS(null,"lat",b[1]);a.setAttributeNS(null,"lon",b[0]);switch(e.geometryLayout){case "XYZM":0!==b[3]&&(g.time=b[3]);case "XYZ":0!==b[2]&&(g.ele=b[2]);break;case "XYM":0!==b[2]&&(g.time=b[2])}b=kt[f];e=rc(g,b);tc({node:a,properties:g},lt,qc,e,d,b)}
var it=["text","type"],ht=V(Ws,{text:S(Ec),type:S(Ec)}),mt=V(Ws,"name cmt desc src link number type rtept".split(" ")),nt=V(Ws,{name:S(Ec),cmt:S(Ec),desc:S(Ec),src:S(Ec),link:S(gt),number:S(Gc),type:S(Ec),rtept:nc(S(jt))}),ot=V(Ws,"name cmt desc src link number type trkseg".split(" ")),rt=V(Ws,{name:S(Ec),cmt:S(Ec),desc:S(Ec),src:S(Ec),link:S(gt),number:S(Gc),type:S(Ec),trkseg:nc(S(function(a,b,d){tc({node:a,geometryLayout:b.layout,properties:{}},pt,qt,b.U(),d)}))}),qt=oc("trkpt"),pt=V(Ws,{trkpt:S(jt)}),
kt=V(Ws,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),lt=V(Ws,{ele:S(Fc),time:S(function(a,b){var d=new Date(1E3*b),d=d.getUTCFullYear()+"-"+Sa(d.getUTCMonth()+1,2)+"-"+Sa(d.getUTCDate(),2)+"T"+Sa(d.getUTCHours(),2)+":"+Sa(d.getUTCMinutes(),2)+":"+Sa(d.getUTCSeconds(),2)+"Z";a.appendChild(ec.createTextNode(d))}),magvar:S(Fc),geoidheight:S(Fc),name:S(Ec),cmt:S(Ec),desc:S(Ec),src:S(Ec),link:S(gt),sym:S(Ec),type:S(Ec),fix:S(Ec),
sat:S(Gc),hdop:S(Fc),vdop:S(Fc),pdop:S(Fc),ageofdgpsdata:S(Fc),dgpsid:S(Gc)});
V(Ws,{rte:S(function(a,b,d){var e=d[0],f=eb(b);a={node:a,properties:f};if(b=b.H())b=sh(b,!0,e),a.geometryLayout=b.layout,f.rtept=b.U();e=mt[d[d.length-1].node.namespaceURI];f=rc(f,e);tc(a,nt,qc,f,d,e)}),trk:S(function(a,b,d){var e=d[0],f=eb(b);a={node:a,properties:f};if(b=b.H())b=sh(b,!0,e),f.trkseg=Rh(b);e=ot[d[d.length-1].node.namespaceURI];f=rc(f,e);tc(a,rt,qc,f,d,e)}),wpt:S(function(a,b,d){var e=d[0],f=d[d.length-1];f.properties=eb(b);if(b=b.H())b=sh(b,!0,e),f.geometryLayout=b.layout,jt(a,b.U(),
d)})});function st(){this.Ba=null}x(st,ph);function tt(a){return"string"===typeof a?a:""}n=st.prototype;n.V=function(){return"text"};n.readFeature=function(a){return ut(this,tt(a))};n.readFeatures=function(a){a=tt(a);var b=[];for(a=a.substring(1);0<a.length;){var d=a.indexOf(")"),e=ut(this,a.substring(0,d+1));b.push(e);a=a.substring(d+1)}return b};n.readGeometry=function(a){return vt(this,tt(a))};n.Dd=function(a){tt(a);return this.Ba};n.writeFeature=function(a,b){return wt(this,a,rh(this,b))};
n.writeFeatures=function(a,b){var d=rh(this,b),e=[];if(0<a.length){e.push("F");for(var f=0,g=a.length;f<g;++f)e.push(wt(this,a[f],d))}return e.join("")};n.writeGeometry=function(a,b){return xt(this,a,rh(this,b))};var yt=["http://www.google.com/kml/ext/2.2"],Z=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],zt=[255,255,255,1],At=new Vg({color:zt}),Bt=[20,2],Ct=[64,64],Dt=new Rk({anchor:Bt,Ud:"bottom-left",Vd:"pixels",Wd:"pixels",crossOrigin:"anonymous",rotation:0,scale:.5,size:Ct,src:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),Et=new bh({color:zt,width:1}),Ft=new bs({font:"bold 16px Helvetica",
fill:At,stroke:new bh({color:[51,51,51,1],width:2}),scale:.8});new eh({fill:At,image:Dt,text:Ft,stroke:Et,zIndex:0});var Gt={fraction:"fraction",pixels:"pixels"};function Ht(a){a=fc(a);if(a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}
function It(a){a=fc(a);for(var b=[],d=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i,e;e=d.exec(a);)b.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),a=a.substr(e[0].length);return""!==a?void 0:b}function Jt(a){var b=fc(a);return a.baseURI?ap(a.baseURI,b.trim()).toString():b.trim()}function Kt(a){a=yc(a);if(void 0!==a)return Math.sqrt(a)}function Lt(a,b){return W(null,Mt,a,b)}
function Nt(a,b){var d=W({B:[],bh:[]},Ot,a,b);if(d){var e=d.B,d=d.bh,f,g;f=0;for(g=Math.min(e.length,d.length);f<g;++f)e[4*f+3]=d[f];d=new Mh(null);d.M("XYZM",e);return d}}function Pt(a,b){var d=W({},Qt,a,b),e=W(null,Rt,a,b);if(e){var f=new Mh(null);f.M("XYZ",e);f.wa(d);return f}}function St(a,b){var d=W({},Qt,a,b),e=W(null,Rt,a,b);if(e){var f=new ai(null);f.M("XYZ",e,[e.length]);f.wa(d);return f}}
function Tt(a,b){var d=W([],Ut,a,b);if(!d)return null;if(0===d.length)return new Sp(d);var e=!0,f=d[0].V(),g,h,k;h=1;for(k=d.length;h<k;++h)if(g=d[h],g.V()!=f){e=!1;break}if(e){if("Point"==f){g=d[0];e=g.layout;f=g.B;h=1;for(k=d.length;h<k;++h)g=d[h],nb(f,g.B);g=new Vh(null);g.M(e,f);Vt(g,d);return g}return"LineString"==f?(g=new Qh(null),Th(g,d),Vt(g,d),g):"Polygon"==f?(g=new ei(null),ii(g,d),Vt(g,d),g):"GeometryCollection"==f?new Sp(d):null}return new Sp(d)}
function Wt(a,b){var d=W({},Qt,a,b),e=W(null,Rt,a,b);if(e){var f=new Uh(null);f.M("XYZ",e);f.wa(d);return f}}function Xt(a,b){var d=W({},Qt,a,b),e=W([null],Yt,a,b);if(e&&e[0]){var f=new ai(null),g=e[0],h=[g.length],k,l;k=1;for(l=e.length;k<l;++k)nb(g,e[k]),h.push(g.length);f.M("XYZ",g,h);f.wa(d);return f}}
function Zt(a,b){var d=W({},$t,a,b);if(!d)return null;var e="fillStyle"in d?d.fillStyle:At,f=d.fill;void 0===f||f||(e=null);var f="imageStyle"in d?d.imageStyle:Dt,g="textStyle"in d?d.textStyle:Ft,h="strokeStyle"in d?d.strokeStyle:Et,d=d.outline;void 0===d||d||(h=null);return[new eh({fill:e,image:f,stroke:h,text:g,zIndex:void 0})]}
function Vt(a,b){var d=b.length,e=Array(b.length),f=Array(b.length),g,h,k,l;k=l=!1;for(h=0;h<d;++h)g=b[h],e[h]=g.get("extrude"),f[h]=g.get("altitudeMode"),k=k||void 0!==e[h],l=l||f[h];k&&a.set("extrude",e);l&&a.set("altitudeMode",f)}function au(a,b){sc(bu,a,b)}
var cu=V(Z,{value:lc(X)}),bu=V(Z,{Data:function(a,b){var d=a.getAttribute("name");if(null!==d){var e=W(void 0,cu,a,b);e&&(b[b.length-1][d]=e)}},SchemaData:function(a,b){sc(du,a,b)}}),Qt=V(Z,{extrude:Q(vc),altitudeMode:Q(X)}),Mt=V(Z,{coordinates:lc(It)}),Yt=V(Z,{innerBoundaryIs:function(a,b){var d=W(void 0,eu,a,b);d&&b[b.length-1].push(d)},outerBoundaryIs:function(a,b){var d=W(void 0,fu,a,b);d&&(b[b.length-1][0]=d)}}),Ot=V(Z,{when:function(a,b){var d=b[b.length-1].bh,e=fc(a);if(e=/^\s*(\d{4})($|-(\d{2})($|-(\d{2})($|T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?)))))\s*$/.exec(e)){var f=
Date.UTC(parseInt(e[1],10),e[3]?parseInt(e[3],10)-1:0,e[5]?parseInt(e[5],10):1,e[7]?parseInt(e[7],10):0,e[8]?parseInt(e[8],10):0,e[9]?parseInt(e[9],10):0);if(e[10]&&"Z"!=e[10]){var g="-"==e[11]?-1:1,f=f+60*g*parseInt(e[12],10);e[13]&&(f+=3600*g*parseInt(e[13],10))}d.push(f)}else d.push(0)}},V(yt,{coord:function(a,b){var d=b[b.length-1].B,e=fc(a);(e=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(e))?d.push(parseFloat(e[1]),
parseFloat(e[2]),parseFloat(e[3]),0):d.push(0,0,0,0)}})),Rt=V(Z,{coordinates:lc(It)}),gu=V(Z,{href:Q(Jt)},V(yt,{x:Q(yc),y:Q(yc),w:Q(yc),h:Q(yc)})),hu=V(Z,{Icon:Q(function(a,b){var d=W({},gu,a,b);return d?d:null}),heading:Q(yc),hotSpot:Q(function(a){var b=a.getAttribute("xunits"),d=a.getAttribute("yunits");return{x:parseFloat(a.getAttribute("x")),af:Gt[b],y:parseFloat(a.getAttribute("y")),bf:Gt[d]}}),scale:Q(Kt)}),eu=V(Z,{LinearRing:lc(Lt)}),iu=V(Z,{color:Q(Ht),scale:Q(Kt)}),ju=V(Z,{color:Q(Ht),width:Q(yc)}),
Ut=V(Z,{LineString:kc(Pt),LinearRing:kc(St),MultiGeometry:kc(Tt),Point:kc(Wt),Polygon:kc(Xt)}),ku=V(yt,{Track:kc(Nt)});V(Z,{ExtendedData:au,Link:function(a,b){sc(lu,a,b)},address:Q(X),description:Q(X),name:Q(X),open:Q(vc),phoneNumber:Q(X),visibility:Q(vc)});var lu=V(Z,{href:Q(Jt)}),fu=V(Z,{LinearRing:lc(Lt)}),mu=V(Z,{Style:Q(Zt),key:Q(X),styleUrl:Q(function(a){var b=fc(a).trim();return a.baseURI?ap(a.baseURI,b).toString():b})});
V(Z,{ExtendedData:au,MultiGeometry:Q(Tt,"geometry"),LineString:Q(Pt,"geometry"),LinearRing:Q(St,"geometry"),Point:Q(Wt,"geometry"),Polygon:Q(Xt,"geometry"),Style:Q(Zt),StyleMap:function(a,b){var d=W(void 0,nu,a,b);if(d){var e=b[b.length-1];Array.isArray(d)?e.Style=d:"string"===typeof d&&(e.styleUrl=d)}},address:Q(X),description:Q(X),name:Q(X),open:Q(vc),phoneNumber:Q(X),styleUrl:Q(Jt),visibility:Q(vc)},V(yt,{MultiTrack:Q(function(a,b){var d=W([],ku,a,b);if(d){var e=new Qh(null);Th(e,d);return e}},
"geometry"),Track:Q(Nt,"geometry")}));
var ou=V(Z,{color:Q(Ht),fill:Q(vc),outline:Q(vc)}),du=V(Z,{SimpleData:function(a,b){var d=a.getAttribute("name");if(null!==d){var e=X(a);b[b.length-1][d]=e}}}),$t=V(Z,{IconStyle:function(a,b){var d=W({},hu,a,b);if(d){var e=b[b.length-1],f="Icon"in d?d.Icon:{},g;g=(g=f.href)?g:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";var h,k,l,m=d.hotSpot;m?(h=[m.x,m.y],k=m.af,l=m.bf):"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"===g?(h=Bt,l=k="pixels"):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(g)&&
(h=[.5,0],l=k="fraction");var p,m=f.x,q=f.y;void 0!==m&&void 0!==q&&(p=[m,q]);var r,m=f.w,f=f.h;void 0!==m&&void 0!==f&&(r=[m,f]);var w,f=d.heading;void 0!==f&&(w=Bb(f));d=d.scale;"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"==g&&(r=Ct,void 0===d&&(d=.5));h=new Rk({anchor:h,Ud:"bottom-left",Vd:k,Wd:l,crossOrigin:"anonymous",offset:p,mg:"bottom-left",rotation:w,scale:d,size:r,src:g});e.imageStyle=h}},LabelStyle:function(a,b){var d=W({},iu,a,b);d&&(b[b.length-1].textStyle=new bs({fill:new Vg({color:"color"in
d?d.color:zt}),scale:d.scale}))},LineStyle:function(a,b){var d=W({},ju,a,b);d&&(b[b.length-1].strokeStyle=new bh({color:"color"in d?d.color:zt,width:"width"in d?d.width:1}))},PolyStyle:function(a,b){var d=W({},ou,a,b);if(d){var e=b[b.length-1];e.fillStyle=new Vg({color:"color"in d?d.color:zt});var f=d.fill;void 0!==f&&(e.fill=f);d=d.outline;void 0!==d&&(e.outline=d)}}}),nu=V(Z,{Pair:function(a,b){var d=W({},mu,a,b);if(d){var e=d.key;e&&"normal"==e&&((e=d.styleUrl)&&(b[b.length-1]=e),(d=d.Style)&&
(b[b.length-1]=d))}}});function pu(a,b){var d=Ag(b),d=[255*(4==d.length?d[3]:1),d[2],d[1],d[0]],e;for(e=0;4>e;++e){var f=parseInt(d[e],10).toString(16);d[e]=1==f.length?"0"+f:f}Ec(a,d.join(""))}function qu(a,b,d){tc({node:a},ru,su,[b],d)}
function tu(a,b,d){var e={node:a};b.gb()&&a.setAttribute("id",b.gb());a=eb(b);var f=b.i;f&&(f=f.call(b,0))&&(f=Array.isArray(f)?f[0]:f,this.c&&(a.Style=f),(f=f.ta())&&(a.name=f.ta()));f=uu[d[d.length-1].node.namespaceURI];a=rc(a,f);tc(e,vu,qc,a,d,f);a=d[0];(b=b.H())&&(b=sh(b,!0,a));tc(e,vu,wu,[b],d)}function xu(a,b,d){var e=b.B;a={node:a};a.layout=b.layout;a.stride=b.F;tc(a,yu,zu,[e],d)}
function Au(a,b,d){var e=b.layout,f=b.B,g=b.b;b=[];var h=0,k,l;k=0;for(l=g.length;k<l;++k){var m=g[k],p=new Oh(null);Ph(p,e,f.slice(h,m));b.push(p);h=m}e=b.shift();a={node:a};tc(a,Bu,Cu,b,d);tc(a,Bu,Du,[e],d)}function Eu(a,b){Fc(a,Math.round(b*b*1E6)/1E6)}V(Z,["Document","Placemark"]);V(Z,{Document:S(function(a,b,d){tc({node:a},Fu,Gu,b,d,void 0,this)}),Placemark:S(tu)});
var Fu=V(Z,{Placemark:S(tu)}),Hu={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry"},Iu=V(Z,["href"],V(yt,["x","y","w","h"])),Ju=V(Z,{href:S(Ec)},V(yt,{x:S(Fc),y:S(Fc),w:S(Fc),h:S(Fc)})),Ku=V(Z,["scale","heading","Icon","hotSpot"]),Mu=V(Z,{Icon:S(function(a,b,d){a={node:a};var e=Iu[d[d.length-1].node.namespaceURI],f=rc(b,e);tc(a,Ju,qc,f,d,e);e=Iu[yt[0]];f=rc(b,e);tc(a,Ju,Lu,f,d,e)}),
heading:S(Fc),hotSpot:S(function(a,b){a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("xunits",b.af);a.setAttribute("yunits",b.bf)}),scale:S(Eu)}),Nu=V(Z,["color","scale"]),Ou=V(Z,{color:S(pu),scale:S(Eu)}),Pu=V(Z,["color","width"]),Qu=V(Z,{color:S(pu),width:S(Fc)}),ru=V(Z,{LinearRing:S(xu)}),Ru=V(Z,{LineString:S(xu),Point:S(xu),Polygon:S(Au)}),uu=V(Z,"name open visibility address phoneNumber description styleUrl Style".split(" ")),vu=V(Z,{MultiGeometry:S(function(a,b,d){a={node:a};
var e=b.V(),f,g;if("MultiPoint"==e){f=b.B;g=b.layout;b=b.F;var e=[],h,k;h=0;for(k=f.length;h<k;h+=b){var l=new Uh(null);l.M(g,f.slice(h,h+b));e.push(l)}f=e;g=Su}else if("MultiLineString"==e)f=Rh(b),g=Tu;else if("MultiPolygon"==e){f=b.layout;g=b.B;b=b.b;e=[];h=0;var m,p;k=0;for(l=b.length;k<l;++k){var q=b[k].slice(),r=q[q.length-1];if(0!==h)for(m=0,p=q.length;m<p;++m)q[m]-=h;m=new ai(null);m.M(f,g.slice(h,r),q);e.push(m);h=r}f=e;g=Uu}tc(a,Ru,g,f,d)}),LineString:S(xu),LinearRing:S(xu),Point:S(xu),Polygon:S(Au),
Style:S(function(a,b,d){a={node:a};var e={},f=b.g,g=b.b,h=b.f;b=b.ta();h instanceof Rk&&(e.IconStyle=h);b&&(e.LabelStyle=b);g&&(e.LineStyle=g);f&&(e.PolyStyle=f);b=Vu[d[d.length-1].node.namespaceURI];e=rc(e,b);tc(a,Wu,qc,e,d,b)}),address:S(Ec),description:S(Ec),name:S(Ec),open:S(Dc),phoneNumber:S(Ec),styleUrl:S(Ec),visibility:S(Dc)}),yu=V(Z,{coordinates:S(function(a,b,d){d=d[d.length-1];var e=d.layout;d=d.stride;var f;"XY"==e||"XYM"==e?f=2:("XYZ"==e||"XYZM"==e)&&(f=3);var g,h=b.length,k="";if(0<h){k+=
b[0];for(e=1;e<f;++e)k+=","+b[e];for(g=d;g<h;g+=d)for(k+=" "+b[g],e=1;e<f;++e)k+=","+b[g+e]}Ec(a,k)})}),Bu=V(Z,{outerBoundaryIs:S(qu),innerBoundaryIs:S(qu)}),Xu=V(Z,{color:S(pu)}),Vu=V(Z,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Wu=V(Z,{IconStyle:S(function(a,b,d){a={node:a};var e={},f=b.lb(),g=b.oe(),h={href:b.c.s};if(f){h.w=f[0];h.h=f[1];var k=b.zc(),l=b.Ua();l&&g&&0!==l[0]&&l[1]!==f[1]&&(h.x=l[0],h.y=g[1]-(l[1]+f[1]));k&&0!==k[0]&&k[1]!==f[1]&&(e.hotSpot={x:k[0],af:"pixels",y:f[1]-k[1],
bf:"pixels"})}e.Icon=h;f=b.Ma();1!==f&&(e.scale=f);b=b.u;0!==b&&(e.heading=b);b=Ku[d[d.length-1].node.namespaceURI];e=rc(e,b);tc(a,Mu,qc,e,d,b)}),LabelStyle:S(function(a,b,d){a={node:a};var e={},f=b.c;f&&(e.color=f.c);(b=b.Ma())&&1!==b&&(e.scale=b);b=Nu[d[d.length-1].node.namespaceURI];e=rc(e,b);tc(a,Ou,qc,e,d,b)}),LineStyle:S(function(a,b,d){a={node:a};var e=Pu[d[d.length-1].node.namespaceURI];b=rc({color:b.c,width:b.b},e);tc(a,Qu,qc,b,d,e)}),PolyStyle:S(function(a,b,d){tc({node:a},Xu,Yu,[b.c],d)})});
function Lu(a,b,d){return ec.createElementNS(yt[0],"gx:"+d)}function Gu(a,b){return ec.createElementNS(b[b.length-1].node.namespaceURI,"Placemark")}function wu(a,b){if(a){var d=Hu[a.V()];return ec.createElementNS(b[b.length-1].node.namespaceURI,d)}}var Yu=oc("color"),zu=oc("coordinates"),Cu=oc("innerBoundaryIs"),Su=oc("Point"),Tu=oc("LineString"),su=oc("LinearRing"),Uu=oc("Polygon"),Du=oc("outerBoundaryIs");(function(){var a={},b={aa:a};(function(d){if("object"===typeof a&&"undefined"!==typeof b)b.aa=d();else{var e;"undefined"!==typeof window?e=window:"undefined"!==typeof global?e=global:"undefined"!==typeof self?e=self:e=this;e.fm=d()}})(function(){return function e(a,b,h){function k(m,q){if(!b[m]){if(!a[m]){var r="function"==typeof require&&require;if(!q&&r)return r(m,!0);if(l)return l(m,!0);r=Error("Cannot find module '"+m+"'");throw r.code="MODULE_NOT_FOUND",r;}r=b[m]={aa:{}};a[m][0].call(r.aa,function(b){var e=
a[m][1][b];return k(e?e:b)},r,r.aa,e,a,b,h)}return b[m].aa}for(var l="function"==typeof require&&require,m=0;m<h.length;m++)k(h[m]);return k}({1:[function(a,b){function g(a){var b;a&&a.length&&(b=a,a=b.length);a=new Uint8Array(a||0);b&&a.set(b);a.Jg=l.Jg;a.$e=l.$e;a.Fg=l.Fg;a.fh=l.fh;a.Le=l.Le;a.eh=l.eh;a.He=l.He;a.dh=l.dh;a.toString=l.toString;a.write=l.write;a.slice=l.slice;a.copy=l.copy;a.yh=!0;return a}function h(a){for(var b=a.length,e=[],f=0,g,h;f<b;f++){g=a.charCodeAt(f);if(55295<g&&57344>
g)if(h)if(56320>g){e.push(239,191,189);h=g;continue}else g=h-55296<<10|g-56320|65536,h=null;else{56319<g||f+1===b?e.push(239,191,189):h=g;continue}else h&&(e.push(239,191,189),h=null);128>g?e.push(g):2048>g?e.push(g>>6|192,g&63|128):65536>g?e.push(g>>12|224,g>>6&63|128,g&63|128):e.push(g>>18|240,g>>12&63|128,g>>6&63|128,g&63|128)}return e}b.aa=g;var k=a("ieee754"),l,m,p;l={Jg:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},$e:function(a,b){this[b]=a;this[b+1]=a>>>8;this[b+
2]=a>>>16;this[b+3]=a>>>24},Fg:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+(this[a+3]<<24)},Le:function(a){return k.read(this,a,!0,23,4)},He:function(a){return k.read(this,a,!0,52,8)},eh:function(a,b){return k.write(this,a,b,!0,23,4)},dh:function(a,b){return k.write(this,a,b,!0,52,8)},toString:function(a,b,e){var f=a="";e=Math.min(this.length,e||this.length);for(b=b||0;b<e;b++){var g=this[b];127>=g?(a+=decodeURIComponent(f)+String.fromCharCode(g),f=""):f+="%"+g.toString(16)}return a+=decodeURIComponent(f)},
write:function(a,b){for(var e=a===m?p:h(a),f=0;f<e.length;f++)this[b+f]=e[f]},slice:function(a,b){return this.subarray(a,b)},copy:function(a,b){b=b||0;for(var e=0;e<this.length;e++)a[b+e]=this[e]}};l.fh=l.$e;g.byteLength=function(a){m=a;p=h(a);return p.length};g.isBuffer=function(a){return!(!a||!a.yh)}},{ieee754:3}],2:[function(a,b){(function(g){function h(a){this.Sa=k.isBuffer(a)?a:new k(a||0);this.J=0;this.length=this.Sa.length}b.aa=h;var k=g.Hl||a("./buffer");h.f=0;h.g=1;h.c=2;h.b=5;var l=Math.pow(2,
63);h.prototype={destroy:function(){this.Sa=null},Ke:function(a,b,e){for(e=e||this.length;this.J<e;){var f=this.ma(),g=this.J;a(f>>3,b,this);this.J===g&&this.gl(f)}return b},Sk:function(){var a=this.Sa.Le(this.J);this.J+=4;return a},Qk:function(){var a=this.Sa.He(this.J);this.J+=8;return a},ma:function(){var a=this.Sa,b,e,f,g,h;b=a[this.J++];if(128>b)return b;b=b&127;f=a[this.J++];if(128>f)return b|f<<7;f=(f&127)<<7;g=a[this.J++];if(128>g)return b|f|g<<14;g=(g&127)<<14;h=a[this.J++];if(128>h)return b|
f|g|h<<21;e=a[this.J++];b=(b|f|g|(h&127)<<21)+268435456*(e&127);if(128>e)return b;e=a[this.J++];b+=34359738368*(e&127);if(128>e)return b;e=a[this.J++];b+=4398046511104*(e&127);if(128>e)return b;e=a[this.J++];b+=562949953421312*(e&127);if(128>e)return b;e=a[this.J++];b+=72057594037927936*(e&127);if(128>e)return b;e=a[this.J++];if(128>e)return b+0x7fffffffffffffff*(e&127);throw Error("Expected varint not more than 10 bytes");},Yk:function(){var a=this.J,b=this.ma();if(b<l)return b;for(var e=this.J-
2;255===this.Sa[e];)e--;e<a&&(e=a);for(var f=b=0;f<e-a+1;f++)var g=~this.Sa[a+f]&127,b=b+(4>f?g<<7*f:g*Math.pow(2,7*f));return-b-1},Me:function(){var a=this.ma();return 1===a%2?(a+1)/-2:a/2},Ok:function(){return!!this.ma()},Ne:function(){var a=this.ma()+this.J,b=this.Sa.toString("utf8",this.J,a);this.J=a;return b},gl:function(a){a=a&7;if(a===h.f)for(;127<this.Sa[this.J++];);else if(a===h.c)this.J=this.ma()+this.J;else if(a===h.b)this.J+=4;else if(a===h.g)this.J+=8;else throw Error("Unimplemented type: "+
a);},finish:function(){this.length=this.J;this.J=0;return this.Sa.slice(0,this.length)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./buffer":1}],3:[function(a,b,g){g.read=function(a,b,e,f,g){var q;q=8*g-f-1;var r=(1<<q)-1,w=r>>1,u=-7;g=e?g-1:0;var y=e?-1:1,B=a[b+g];g+=y;e=B&(1<<-u)-1;B>>=-u;for(u+=q;0<u;e=256*e+a[b+g],g+=y,u-=8);q=e&(1<<-u)-1;e>>=-u;for(u+=f;0<u;q=256*q+a[b+g],g+=y,u-=8);if(0===e)e=1-w;else{if(e===r)return q?
NaN:Infinity*(B?-1:1);q+=Math.pow(2,f);e=e-w}return(B?-1:1)*q*Math.pow(2,e-f)};g.write=function(a,b,e,f,g,q){var r,w=8*q-g-1,u=(1<<w)-1,y=u>>1,B=23===g?Math.pow(2,-24)-Math.pow(2,-77):0;q=f?0:q-1;var C=f?1:-1,D=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,f=u):(f=Math.floor(Math.log(b)/Math.LN2),1>b*(r=Math.pow(2,-f))&&(f--,r*=2),b=1<=f+y?b+B/r:b+B*Math.pow(2,1-y),2<=b*r&&(f++,r/=2),f+y>=u?(b=0,f=u):1<=f+y?(b=(b*r-1)*Math.pow(2,g),f+=y):(b=b*Math.pow(2,y-1)*Math.pow(2,
g),f=0));for(;8<=g;a[e+q]=b&255,q+=C,b/=256,g-=8);f=f<<g|b;for(w+=g;0<w;a[e+q]=f&255,q+=C,f/=256,w-=8);a[e+q-C]|=128*D}},{}]},{},[2])(2)})})();(function(){var a={},b={aa:a};(function(d){if("object"===typeof a&&"undefined"!==typeof b)b.aa=d();else{var e;"undefined"!==typeof window?e=window:"undefined"!==typeof global?e=global:"undefined"!==typeof self?e=self:e=this;e.jm=d()}})(function(){return function e(a,b,h){function k(m,q){if(!b[m]){if(!a[m]){var r="function"==typeof require&&require;if(!q&&r)return r(m,!0);if(l)return l(m,!0);r=Error("Cannot find module '"+m+"'");throw r.code="MODULE_NOT_FOUND",r;}r=b[m]={aa:{}};a[m][0].call(r.aa,function(b){var e=
a[m][1][b];return k(e?e:b)},r,r.aa,e,a,b,h)}return b[m].aa}for(var l="function"==typeof require&&require,m=0;m<h.length;m++)k(h[m]);return k}({1:[function(a,b){b.aa.Vl=a("./lib/vectortile.js");b.aa.Wl=a("./lib/vectortilefeature.js");b.aa.Xl=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":2,"./lib/vectortilefeature.js":3,"./lib/vectortilelayer.js":4}],2:[function(a,b){function g(a,b,e){3===a&&(a=new h(e,e.ma()+e.J),a.length&&(b[a.name]=a))}var h=a("./vectortilelayer");b.aa=function(a,b){this.layers=
a.Ke(g,{},b)}},{"./vectortilelayer":4}],3:[function(a,b){function g(a,b,e,f,g){this.properties={};this.extent=e;this.type=0;this.Zb=a;this.hf=-1;this.Uc=f;this.Wc=g;a.Ke(h,this,b)}function h(a,b,e){if(1==a)b.Yl=e.ma();else if(2==a)for(a=e.ma()+e.J;e.J<a;){var f=b.Uc[e.ma()],g=b.Wc[e.ma()];b.properties[f]=g}else 3==a?b.type=e.ma():4==a&&(b.hf=e.J)}a("point-geometry");b.aa=g;g.c=["Unknown","Point","LineString","Polygon"];g.prototype.bbox=function(){var a=this.Zb;a.J=this.hf;for(var b=a.ma()+a.J,e=1,
f=0,g=0,h=0,w=Infinity,u=-Infinity,y=Infinity,B=-Infinity;a.J<b;)if(f||(f=a.ma(),e=f&7,f=f>>3),f--,1===e||2===e)g+=a.Me(),h+=a.Me(),g<w&&(w=g),g>u&&(u=g),h<y&&(y=h),h>B&&(B=h);else if(7!==e)throw Error("unknown command "+e);return[w,y,u,B]}},{"point-geometry":5}],4:[function(a,b){function g(a,b){this.version=1;this.name=null;this.extent=4096;this.length=0;this.Zb=a;this.Uc=[];this.Wc=[];this.Tc=[];a.Ke(h,this,b);this.length=this.Tc.length}function h(a,b,e){15===a?b.version=e.ma():1===a?b.name=e.Ne():
5===a?b.extent=e.ma():2===a?b.Tc.push(e.J):3===a?b.Uc.push(e.Ne()):4===a&&b.Wc.push(k(e))}function k(a){for(var b=null,e=a.ma()+a.J;a.J<e;)b=a.ma()>>3,b=1===b?a.Ne():2===b?a.Sk():3===b?a.Qk():4===b?a.Yk():5===b?a.ma():6===b?a.Me():7===b?a.Ok():null;return b}var l=a("./vectortilefeature.js");b.aa=g;g.prototype.feature=function(a){if(0>a||a>=this.Tc.length)throw Error("feature index out of bounds");this.Zb.J=this.Tc[a];a=this.Zb.ma()+this.Zb.J;return new l(this.Zb,a,this.extent,this.Uc,this.Wc)}},{"./vectortilefeature.js":3}],
5:[function(a,b){function g(a,b){this.x=a;this.y=b}b.aa=g;g.prototype={clone:function(){return new g(this.x,this.y)},add:function(a){return this.clone().ph(a)},rotate:function(a){return this.clone().Ah(a)},round:function(){return this.clone().Bh()},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.Xh(a))},Xh:function(a){var b=a.x-this.x;a=a.y-this.y;return b*b+a*a},angle:function(){return Math.atan2(this.y,this.x)},ph:function(a){this.x+=a.x;this.y+=a.y;
return this},Ah:function(a){var b=Math.cos(a);a=Math.sin(a);var e=a*this.x+b*this.y;this.x=b*this.x-a*this.y;this.y=e;return this},Bh:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};g.c=function(a){return a instanceof g?a:Array.isArray(a)?new g(a[0],a[1]):a}},{}]},{},[1])(1)})})();function Zu(a,b){b[b.length-1].Mc[a.getAttribute("k")]=a.getAttribute("v")}var $u=[null],av=V($u,{nd:function(a,b){b[b.length-1].lc.push(a.getAttribute("ref"))},tag:Zu});
V($u,{node:function(a,b){var d=b[0],e=b[b.length-1],f=a.getAttribute("id"),g=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];e.nodes[f]=g;var h=W({Mc:{}},bv,a,b);ya(h.Mc)||(g=new Uh(g),sh(g,!1,d),d=new lh(g),d.f=f,d.c(),d.wa(h.Mc),e.features.push(d))},way:function(a,b){for(var d=b[0],e=a.getAttribute("id"),f=W({lc:[],Mc:{}},av,a,b),g=b[b.length-1],h=[],k=0,l=f.lc.length;k<l;k++)nb(h,g.nodes[f.lc[k]]);f.lc[0]==f.lc[f.lc.length-1]?(k=new ai(null),k.M("XY",h,[h.length])):(k=new Mh(null),
k.M("XY",h));sh(k,!1,d);d=new lh(k);d.f=e;d.c();d.wa(f.Mc);g.features.push(d)}});var bv=V($u,{tag:Zu});function cv(a,b){return W({},dv,a,b)}function ev(a,b){return W({},fv,a,b)}function gv(a,b){var d=cv(a,b);if(d){var e=[Bc(a.getAttribute("width")),Bc(a.getAttribute("height"))];d.size=e;return d}}function hv(a,b){return W([],iv,a,b)}var jv=[null,"http://www.opengis.net/wms"];V(jv,{Service:Q(function(a,b){return W({},kv,a,b)}),Capability:Q(function(a,b){return W({},lv,a,b)})});
var lv=V(jv,{Request:Q(function(a,b){return W({},mv,a,b)}),Exception:Q(function(a,b){return W([],nv,a,b)}),Layer:Q(function(a,b){return W({},ov,a,b)})}),kv=V(jv,{Name:Q(X),Title:Q(X),Abstract:Q(X),KeywordList:Q(hv),OnlineResource:Q(dc),ContactInformation:Q(function(a,b){return W({},pv,a,b)}),Fees:Q(X),AccessConstraints:Q(X),LayerLimit:Q(Ac),MaxWidth:Q(Ac),MaxHeight:Q(Ac)}),pv=V(jv,{ContactPersonPrimary:Q(function(a,b){return W({},qv,a,b)}),ContactPosition:Q(X),ContactAddress:Q(function(a,b){return W({},
rv,a,b)}),ContactVoiceTelephone:Q(X),ContactFacsimileTelephone:Q(X),ContactElectronicMailAddress:Q(X)}),qv=V(jv,{ContactPerson:Q(X),ContactOrganization:Q(X)}),rv=V(jv,{AddressType:Q(X),Address:Q(X),City:Q(X),StateOrProvince:Q(X),PostCode:Q(X),Country:Q(X)}),nv=V(jv,{Format:kc(X)}),ov=V(jv,{Name:Q(X),Title:Q(X),Abstract:Q(X),KeywordList:Q(hv),CRS:mc(X),EX_GeographicBoundingBox:Q(function(a,b){var d=W({},sv,a,b);if(d){var e=d.westBoundLongitude,f=d.southBoundLatitude,g=d.eastBoundLongitude,d=d.northBoundLatitude;
return void 0===e||void 0===f||void 0===g||void 0===d?void 0:[e,f,g,d]}}),BoundingBox:mc(function(a){var b=[zc(a.getAttribute("minx")),zc(a.getAttribute("miny")),zc(a.getAttribute("maxx")),zc(a.getAttribute("maxy"))],d=[zc(a.getAttribute("resx")),zc(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:d}}),Dimension:mc(function(a){return{name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:wc(a.getAttribute("multipleValues")),
nearestValue:wc(a.getAttribute("nearestValue")),current:wc(a.getAttribute("current")),values:X(a)}}),Attribution:Q(function(a,b){return W({},tv,a,b)}),AuthorityURL:mc(function(a,b){var d=cv(a,b);if(d)return d.name=a.getAttribute("name"),d}),Identifier:mc(X),MetadataURL:mc(function(a,b){var d=cv(a,b);if(d)return d.type=a.getAttribute("type"),d}),DataURL:mc(cv),FeatureListURL:mc(cv),Style:mc(function(a,b){return W({},uv,a,b)}),MinScaleDenominator:Q(yc),MaxScaleDenominator:Q(yc),Layer:mc(function(a,
b){var d=b[b.length-1],e=W({},ov,a,b);if(e){var f=wc(a.getAttribute("queryable"));void 0===f&&(f=d.queryable);e.queryable=void 0!==f?f:!1;f=Bc(a.getAttribute("cascaded"));void 0===f&&(f=d.cascaded);e.cascaded=f;f=wc(a.getAttribute("opaque"));void 0===f&&(f=d.opaque);e.opaque=void 0!==f?f:!1;f=wc(a.getAttribute("noSubsets"));void 0===f&&(f=d.noSubsets);e.noSubsets=void 0!==f?f:!1;(f=zc(a.getAttribute("fixedWidth")))||(f=d.fixedWidth);e.fixedWidth=f;(f=zc(a.getAttribute("fixedHeight")))||(f=d.fixedHeight);
e.fixedHeight=f;["Style","CRS","AuthorityURL"].forEach(function(a){a in d&&(e[a]=(e[a]||[]).concat(d[a]))});"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in e||(e[a]=d[a])});return e}})}),tv=V(jv,{Title:Q(X),OnlineResource:Q(dc),LogoURL:Q(gv)}),sv=V(jv,{westBoundLongitude:Q(yc),eastBoundLongitude:Q(yc),southBoundLatitude:Q(yc),northBoundLatitude:Q(yc)}),mv=V(jv,{GetCapabilities:Q(ev),GetMap:Q(ev),GetFeatureInfo:Q(ev)}),
fv=V(jv,{Format:mc(X),DCPType:mc(function(a,b){return W({},vv,a,b)})}),vv=V(jv,{HTTP:Q(function(a,b){return W({},wv,a,b)})}),wv=V(jv,{Get:Q(cv),Post:Q(cv)}),uv=V(jv,{Name:Q(X),Title:Q(X),Abstract:Q(X),LegendURL:mc(gv),StyleSheetURL:Q(cv),StyleURL:Q(cv)}),dv=V(jv,{Format:Q(X),OnlineResource:Q(dc)}),iv=V(jv,{Keyword:kc(X)});(function(){var a={},b={aa:a};(function(d){if("object"===typeof a&&"undefined"!==typeof b)b.aa=d();else{var e;"undefined"!==typeof window?e=window:"undefined"!==typeof global?e=global:"undefined"!==typeof self?e=self:e=this;e.gm=d()}})(function(){return function e(a,b,h){function k(m,q){if(!b[m]){if(!a[m]){var r="function"==typeof require&&require;if(!q&&r)return r(m,!0);if(l)return l(m,!0);r=Error("Cannot find module '"+m+"'");throw r.code="MODULE_NOT_FOUND",r;}r=b[m]={aa:{}};a[m][0].call(r.aa,function(b){var e=
a[m][1][b];return k(e?e:b)},r,r.aa,e,a,b,h)}return b[m].aa}for(var l="function"==typeof require&&require,m=0;m<h.length;m++)k(h[m]);return k}({1:[function(a,b,g){a=a("./processor");g.Tl=a},{"./processor":2}],2:[function(a,b){function g(a){var b=!0;try{new ImageData(10,10)}catch(e){b=!1}return function(e){var f=e.buffers,g=e.meta,h=e.width,k=e.height,l=f.length,m=f[0].byteLength;if(e.imageOps){m=Array(l);for(e=0;e<l;++e){var z=m,N=e,U;U=new Uint8ClampedArray(f[e]);var T=h,J=k;U=b?new ImageData(U,T,
J):{data:U,width:T,height:J};z[N]=U}h=a(m,g).data}else{h=new Uint8ClampedArray(m);k=Array(l);z=Array(l);for(e=0;e<l;++e)k[e]=new Uint8ClampedArray(f[e]),z[e]=[0,0,0,0];for(f=0;f<m;f+=4){for(e=0;e<l;++e)N=k[e],z[e][0]=N[f],z[e][1]=N[f+1],z[e][2]=N[f+2],z[e][3]=N[f+3];e=a(z,g);h[f]=e[0];h[f+1]=e[1];h[f+2]=e[2];h[f+3]=e[3]}}return h.buffer}}function h(a,b){var e=Object.keys(a.Bj||{}).map(function(b){return"var "+b+" = "+a.Bj[b].toString()+";"}).concat(["var __minion__ = ("+g.toString()+")(",a.zk.toString(),
");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),e=URL.createObjectURL(new Blob(e,{type:"text/javascript"})),e=new Worker(e);e.addEventListener("message",b);return e}function k(a,b){var e=g(a.zk);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:e(a),meta:a.meta}})},0)}}}function l(a){this.Pd=!!a.em;var b;0===a.ll?b=0:this.Pd?b=1:b=a.ll||1;var e=[];
if(b)for(var f=0;f<b;++f)e[f]=h(a,this.lf.bind(this,f));else e[0]=k(a,this.lf.bind(this,0));this.Xc=e;this.mf=[];this.Vc=0;this.Yb={};this.Qd=null}var m=a("./util").Uj;l.prototype.destroy=function(){for(var a in this)this[a]=null;this.vh=!0};l.prototype.wh=function(){if(0===this.Vc&&0<this.mf.length){var a=this.Qd=this.mf.shift(),b=a.jc[0].width,e=a.jc[0].height,f=a.jc.map(function(a){return a.data.buffer}),g=this.Xc.length;this.Vc=g;if(1===g)this.Xc[0].postMessage({buffers:f,meta:a.Gj,imageOps:this.Pd,
width:b,height:e},f);else for(var h=4*Math.ceil(a.jc[0].data.length/4/g),k=0;k<g;++k){for(var l=k*h,m=[],z=0,N=f.length;z<N;++z)m.push(f[k].slice(l,l+h));this.Xc[k].postMessage({buffers:m,meta:a.Gj,imageOps:this.Pd,width:b,height:e},m)}}};l.prototype.lf=function(a,b){this.vh||(this.Yb[a]=b.data,--this.Vc,0===this.Vc&&this.zh())};l.prototype.zh=function(){var a=this.Qd,b=this.Xc.length,e,f;if(1===b)e=new Uint8ClampedArray(this.Yb[0].buffer),f=this.Yb[0].meta;else{var g=a.jc[0].data.length;e=new Uint8ClampedArray(g);
f=Array(g);for(var g=4*Math.ceil(g/4/b),h=0;h<b;++h){var k=h*g;e.set(new Uint8ClampedArray(this.Yb[h].buffer),k);f[h]=this.Yb[h].meta}}this.Qd=null;this.Yb={};a.am(null,m(e,a.jc[0].width,a.jc[0].height),f);this.wh()};b.aa=l},{"./util":3}],3:[function(a,b,g){var h=!0;try{new ImageData(10,10)}catch(l){h=!1}var k=document.createElement("canvas").getContext("2d");g.Uj=function(a,b,e){if(h)return new ImageData(a,b,e);b=k.createImageData(b,e);b.data.set(a);return b}},{}]},{},[1])(1)})})();function xv(a){function b(a){a.each(function(a){function f(){var a=d3.mouse(this)[0],a=u.invert(a);b.highlight(a)}function g(){b.Cf()}if(void 0===a)d3.select(this).selectAll("svg").remove();else{z=Math.max(this.clientWidth-e.right-e.left,0);u=d3.scale.linear().range([0,z]);D=Math.max(this.clientHeight-e.top-e.bottom,0);y=d3.scale.linear().range([D,0]);var k=d3.svg.axis().scale(u).orient("bottom"),l=d3.svg.axis().scale(y).orient("left"),p=d3.svg.area().x(function(a){return u(h.dist(a))}).y0(D).y1(function(a){return y(h.z(a))}),
E=d3.svg.line().x(function(a){return u(h.dist(a))}).y(function(a){return y(h.z(a))});w=d3.select(this).selectAll("svg").data([a]);var J=w.enter().append("svg");void 0!==m&&J.append("defs").append("style").attr("type","text/css").text(m);J=J.append("g");b.Ug([]);J.style("font","11px Arial");J.append("path").attr("class","area").style("fill","rgba(222, 222, 222, 0.5)");J.append("path").attr("class","line").style("stroke","#F00").style("fill","none");J.insert("g",":first-child").attr("class","grid-y");
d||(J.append("g").attr("class","x axis").attr("transform","translate(0,"+D+")"),J.append("text").attr("class","x label").attr("text-anchor","end").attr("x",z-4).attr("y",D-4),J.append("g").attr("class","y axis"),J.append("text").attr("class","y label").attr("text-anchor","end").attr("y",6).attr("dy",".75em").attr("transform","rotate(-90)").style("fill","grey").text("elevation (m)"),J.append("g").attr("class","metas").attr("transform","translate("+(z+3)+", 0)"));J.append("g").attr("class","pois");
var $a=J.append("g").attr("class","y grid-hover");$a.append("svg:line").attr("stroke-dasharray","5,5");$a.append("text");$a=J.append("g").attr("class","x grid-hover");$a.append("svg:line").attr("stroke-dasharray","5,5");$a.append("text");J.append("rect").attr("class","overlay").attr("width",z).attr("height",D).style("fill","none").style("pointer-events","all");w.attr("width",z+e.left+e.right).attr("height",D+e.top+e.bottom);C=w.select("g").attr("transform","translate("+e.left+","+e.top+")");T=d3.extent(a,
function(a){return h.dist(a)});u.domain(T);a=d3.extent(a,function(a){return h.z(a)});y.domain(a);void 0!==B?B(u,y,z,D):(J=.1*(a[1]-a[0]),y.domain([a[0]-J,a[1]+J]));C.select(".area").transition().attr("d",p);C.select(".line").transition().attr("d",E);2E3<T[1]?(N=1E3,U="km"):(N=1,U="m");d||(k.tickFormat(function(a){return q.xtick(a/N,U)}),r&&k.tickValues([0,u.domain()[1]]),l.tickFormat(function(a){return q.ytick(a,"m")}),C.select(".x.axis").transition().call(k),C.select(".x.label").text("distance ("+
U+")").style("fill","grey").style("shape-rendering","crispEdges"),10>D/15&&l.ticks(D/15),C.select(".y.axis").transition().call(l));C.select(".grid-y").transition().call(l.tickSize(-z,0).tickFormat("")).selectAll(".tick line").style("stroke","#ccc").style("opacity",.7);C.selectAll(".axis").selectAll("path, line").style("fill","none").style("stroke","#000").style("shape-rendering","crispEdges");C.selectAll(".grid-hover line").style("stroke","#222").style("opacity",.8);C.select(".overlay").on("mouseout",
g).on("mousemove",f)}})}var d=void 0!==a.light?a.light:!1,e=d?{top:0,right:0,bottom:0,left:0}:{top:10,right:20,bottom:30,left:40},f=void 0!==a.hoverCallback?a.hoverCallback:ba,g=void 0!==a.outCallback?a.outCallback:ba,h=a.elevationExtractor,k=d3.bisector(function(a){return h.dist(a)}).left,l=a.poiExtractor,m=a.styleDefs,p=void 0!==a.poiLabelAngle?a.poiLabelAngle:-60,q={xhover:function(a,b){return parseFloat(a.toPrecision(3))+" "+b},yhover:function(a){return Math.round(a)+" m"},xtick:function(a){return a},
ytick:function(a){return a}};void 0!==a.formatter&&Be(q,a.formatter);var r=void 0!==a.lightXAxis?a.lightXAxis:!1,w,u,y,B=a.scaleModifier,C,D,z,N,U,T;b.Cf=function(){C.selectAll(".grid-hover").style("display","none");g.call(null)};b.highlight=function(a){var b=w.datum();a=k(b,a);if(!(a>=b.length)){b=b[a];a=h.z(b);var d=h.dist(b);C.select(".x.grid-hover").style("display","inline").select("line").attr("x1",u(d)).attr("y1",D).attr("x2",u(d)).attr("y2",y(a));C.select(".y.grid-hover").style("display","inline").select("line").attr("x1",
u(0)).attr("y1",y(a)).attr("x2",z).attr("y2",y(a));var e=d>T[1]/2,g=u(d),g=g+(e?-10:10);C.select(".x.grid-hover text").text(q.xhover(d/N,U)).style("text-anchor",e?"end":"start").attr("transform","translate("+g+","+(D-10)+")");C.select(".y.grid-hover text").text(q.yhover(a,"m")).style("text-anchor",e?"end":"start").attr("transform","translate("+g+","+(y(a)-10)+")");f.call(null,b,d/N,U,a,"m")}};b.Ug=function(a){a=void 0!==a?a:[];var b=w.select("g"),e=w.datum();a=b.select(".pois").selectAll(".poi").data(a,
function(a){var b=k(e,Math.round(10*l.dist(a))/10,1);if(b=e[b])b=h.z(b),l.z(a,b);return l.id(a)});b=a.enter().append("g").attr("class","poi");b.append("text").attr("x",d?0:9).attr("dy",".35em").attr("text-anchor",d?"middle":"start");b.append("line").style("shape-rendering","crispEdges");a.style("opacity",0).transition().duration(1E3).delay(100).style("opacity",1);a.selectAll("text").attr("transform",function(a){return d?["translate(",u(l.dist(a)),",",y(l.z(a))-10,")"].join(""):["translate(",u(l.dist(a)),
",",y(l.z(a))-20,") rotate(",p,")"].join("")}).text(function(a){return l.sort(a)+(d?"":" - "+l.title(a))});a.selectAll("line").style("stroke","grey").attr("x1",function(a){return u(l.dist(a))}).attr("y1",function(){return y(y.domain()[0])}).attr("x2",function(a){return u(l.dist(a))}).attr("y2",function(a){return y(l.z(a))});a.exit().remove()};return b}ra("ngeo.profile",xv);A.directive("ngeoControl",function(){return{restrict:"A",link:function(a,b,d){var e=a.$eval(d.ngeoControl);a=a.$eval(d.ngeoControlMap);e.C=aj(b[0]);a.C.push(e)}}});ra("ngeo.DesktopGeolocationEventType",{ERROR:"desktop-geolocation-error"});A.directive("ngeoDesktopGeolocation",function(){return{restrict:"A",scope:{getDesktopMapFn:"&ngeoDesktopGeolocationMap",getDesktopGeolocationOptionsFn:"&ngeoDesktopGeolocationOptions"},controller:"NgeoDesktopGeolocationController",controllerAs:"ctrl"}});
function yv(a,b,d,e){b.on("click",this.toggle.bind(this));this.f=b=a.getDesktopMapFn();var f=a.getDesktopGeolocationOptionsFn()||{};this.j=a;this.b=e.Bb();this.pa=new Xr({projection:Y(b).Y()});this.pa.on("error",function(b){zv(this);a.$emit("desktop-geolocation-error",b)},this);this.g=new lh;f.positionFeatureStyle&&this.g.ja(f.positionFeatureStyle);this.ub=new lh;f.accuracyFeatureStyle&&this.ub.ja(f.accuracyFeatureStyle);this.i=f.zoom;this.c=!1;I(this.pa,O("accuracyGeometry"),function(){mh(this.ub,
this.pa.get("accuracyGeometry")||null)},this);I(this.pa,O("position"),function(a){this.Re(a)},this);d(this.pa)}ra("ngeo.DesktopGeolocationController",yv);yv.$inject=["$scope","$element","ngeoDecorateGeolocation","ngeoFeatureOverlayMgr"];yv.prototype.toggle=function(){this.c?zv(this):(this.b.oa(this.g),this.b.oa(this.ub),Wr(this.pa,!0),this.c=!0)};yv.prototype.toggle=yv.prototype.toggle;function zv(a){a.b.clear();a.c=!1}
yv.prototype.Re=function(){var a=this.pa.get("position");if(void 0===a)zv(this),this.j.$emit("desktop-geolocation-error",null);else{var b=new Uh(a);mh(this.g,b);vl(Y(this.f),a);void 0!==this.i&&xl(Y(this.f),this.i);Wr(this.pa,!1)}};A.controller("NgeoDesktopGeolocationController",yv);function Av(a){return{restrict:"A",scope:{fileContent:"=ngeoFilereader",supported:"=?ngeoFilereaderSupported"},link:function(b,d){var e="FileReader"in a;(b.supported=e)&&d.bind("change",function(d){var e=new a.FileReader;e.onload=function(a){b.$apply(function(){b.fileContent=a.target.result})};e.readAsText(d.target.files[0])})}}}Av.$inject=["$window"];A.directive("ngeoFilereader",Av);A.directive("ngeoProfile",function(){return{restrict:"A",link:function(a,b,d){function e(){void 0!==h&&(g.datum(k).call(h),void 0!==k&&h.Ug(l))}var f=d.ngeoProfileOptions,g=d3.select(b[0]),h,k,l;a.$watchCollection(f,function(b){b=ye(b);if(void 0!==b){if(void 0!==b.hoverCallback){var d=b.hoverCallback;b.hoverCallback=function(){d.apply(null,arguments);a.$applyAsync()}}if(void 0!==b.outCallback){var f=b.outCallback;b.outCallback=function(){f();a.$applyAsync()}}h=xv(b);e()}});a.$watch(d.ngeoProfile,
function(a){k=a;e()});a.$watch(d.ngeoProfilePois,function(a){l=a;e()});a.$watch(d.ngeoProfileHighlight,function(a){void 0!==a&&(0<a?h.highlight(a):h.Cf())})}}});A.directive("ngeoRecenter",function(){return{restrict:"A",link:function(a,b,d){function e(b){var d=b.attr("ngeo-extent");if(void 0!==d){var e=km(f);tl(Y(f),a.$eval(d),e)}b=b.attr("ngeo-zoom");void 0!==b&&xl(Y(f),a.$eval(b))}var f=a.$eval(d.ngeoRecenterMap);b.on("click",function(a){e(angular.element(a.target))});b.on("change",function(a){e(angular.element(a.target.options[a.target.selectedIndex]))})}}});A.value("ngeoScaleselectorTemplateUrl",function(a,b){var d=b.ngeoScaleselectorTemplateurl;return void 0!==d?d:"ngeo/scaleselector.html"});function Bv(a){return{restrict:"A",scope:!0,controller:"NgeoScaleselectorController",templateUrl:a}}Bv.$inject=["ngeoScaleselectorTemplateUrl"];A.directive("ngeoScaleselector",Bv);
function Cv(a,b,d){this.scales=a.$eval(d.ngeoScaleselector);a.$watch(function(){return Object.keys(this.scales).length}.bind(this),function(){this.zoomLevels=Object.keys(this.scales).map(Number);this.zoomLevels.sort(lb)}.bind(this));this.c=a.$eval(d.ngeoScaleselectorMap);b=a.$eval(d.ngeoScaleselectorOptions);this.options=Dv(b);this.f=a;this.b=null;this.currentScale=void 0;null!==Y(this.c)&&(b=sl(Y(this.c)),void 0!==b&&(this.currentScale=this.Ma(b)));I(this.c,O("view"),this.i,this);Ev(this);a.scaleselectorCtrl=
this}ra("ngeo.ScaleselectorController",Cv);Cv.$inject=["$scope","$element","$attrs"];function Dv(a){void 0===a?a={dropup:!1}:void 0===a.dropup&&(a.dropup=!1);return a}Cv.prototype.Ma=function(a){return this.scales[a.toString()]};Cv.prototype.getScale=Cv.prototype.Ma;Cv.prototype.Lh=function(a){xl(Y(this.c),a)};Cv.prototype.changeZoom=Cv.prototype.Lh;Cv.prototype.g=function(){var a=Y(this.c),b=this.scales[sl(a).toString()];this.f.$applyAsync(function(){this.currentScale=b}.bind(this))};
Cv.prototype.i=function(){Ev(this);this.g()};function Ev(a){null!==a.b&&H(a.b);var b=Y(a.c);a.b=I(b,O("resolution"),a.g,a)}A.controller("NgeoScaleselectorController",Cv);function Fv(a){Tn.call(this);this.b=a;this.c={}}x(Fv,Tn);var Gv=[];Fv.prototype.f=function(a,b,d,e){ea(b)||(b&&(Gv[0]=b.toString()),b=Gv);for(var f=0;f<b.length;f++){var g=lo(a,b[f],d||this.handleEvent,e||!1,this.b||this);if(!g)break;this.c[g.key]=g}return this};
Fv.prototype.oc=function(a,b,d,e,f){if(ea(b))for(var g=0;g<b.length;g++)this.oc(a,b[g],d,e,f);else d=d||this.handleEvent,f=f||this.b||this,d=mo(d),e=!!e,b=a&&a[$n]?ho(a.i,String(b),d,e,f):a?(a=no(a))?ho(a,b,d,e,f):null:null,b&&(so(b),delete this.c[b.key]);return this};function Hv(a){ve(a.c,function(a,d){this.c.hasOwnProperty(d)&&so(a)},a);a.c={}}Fv.prototype.Na=function(){Fv.ca.Na.call(this);Hv(this)};Fv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Iv(){Tn.call(this);this.i=new eo(this);this.ga=this;this.G=null}x(Iv,Tn);Iv.prototype[$n]=!0;Iv.prototype.removeEventListener=function(a,b,d,e){ro(this,a,b,d,e)};
function Jv(a,b){var d,e=a.G;if(e)for(d=[];e;e=e.G)d.push(e);var e=a.ga,f=b,g=f.type||f;if(ga(f))f=new Xn(f,e);else if(f instanceof Xn)f.target=f.target||e;else{var h=f,f=new Xn(g,e);Be(f,h)}var h=!0,k;if(d)for(var l=d.length-1;!f.g&&0<=l;l--)k=f.c=d[l],h=Kv(k,g,!0,f)&&h;f.g||(k=f.c=e,h=Kv(k,g,!0,f)&&h,f.g||(h=Kv(k,g,!1,f)&&h));if(d)for(l=0;!f.g&&l<d.length;l++)k=f.c=d[l],h=Kv(k,g,!1,f)&&h;return h}
Iv.prototype.Na=function(){Iv.ca.Na.call(this);if(this.i){var a=this.i,b=0,d;for(d in a.listeners){for(var e=a.listeners[d],f=0;f<e.length;f++)++b,co(e[f]);delete a.listeners[d];a.c--}}this.G=null};Iv.prototype.f=function(a,b,d,e){return this.i.add(String(a),b,!1,d,e)};Iv.prototype.oc=function(a,b,d,e){return this.i.remove(String(a),b,d,e)};
function Kv(a,b,d,e){b=a.i.listeners[String(b)];if(!b)return!0;b=b.concat();for(var f=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.mc&&h.ad==d){var k=h.listener,l=h.pd||h.src;h.wb&&go(a.i,h);f=!1!==k.call(l,e)&&f}}return f&&0!=e.Og};function Lv(a,b,d){Iv.call(this);this.target=a;this.handle=b||a;this.R=d||new pj(NaN,NaN,NaN,NaN);this.s=$i(a);this.c=new Fv(this);a=pa(Wn,this.c);this.u?a.call(void 0):(this.o||(this.o=[]),this.o.push(aa(void 0)?oa(a,void 0):a));this.j=this.g=this.D=this.S=this.screenY=this.screenX=this.clientY=this.clientX=0;this.b=!1;this.v=0;lo(this.handle,["touchstart","mousedown"],this.Te,!1,this)}x(Lv,Iv);var Mv=t.document&&t.document.documentElement&&!!t.document.documentElement.setCapture;n=Lv.prototype;
n.Na=function(){Lv.ca.Na.call(this);ro(this.handle,["touchstart","mousedown"],this.Te,!1,this);Hv(this.c);Mv&&this.s.releaseCapture();this.handle=this.target=null};
n.Te=function(a){var b="mousedown"==a.type;if(this.b||b&&(!(Qn?0==a.b.button:"click"==a.type||a.b.button&Zn[0])||Ge&&He&&a.f))Jv(this,"earlycancel");else{if(0==this.v)if(Jv(this,new Nv("start",this,a.clientX,a.clientY)))this.b=!0,b&&a.preventDefault();else return;else b&&a.preventDefault();var b=this.s,d=b.documentElement,e=!Mv;this.c.f(b,["touchmove","mousemove"],this.Xi,e);this.c.f(b,["touchend","mouseup"],this.ed,e);Mv?(d.setCapture(!1),this.c.f(d,"losecapture",this.ed)):this.c.f(b?b.parentWindow||
b.defaultView:window,"blur",this.ed);this.fa&&this.c.f(this.fa,"scroll",this.yk,e);this.clientX=this.S=a.clientX;this.clientY=this.D=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.g=this.target.offsetLeft;this.j=this.target.offsetTop;this.C=fj(Yi(this.s).c)}};n.ed=function(a){Hv(this.c);Mv&&this.s.releaseCapture();this.b?(this.b=!1,Jv(this,new Nv("end",this,a.clientX,a.clientY,0,Ov(this,this.g),Pv(this,this.j)))):Jv(this,"earlycancel")};
n.Xi=function(a){var b=1*(a.clientX-this.clientX),d=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.b){var e=this.S-this.clientX,f=this.D-this.clientY;if(e*e+f*f>this.v)if(Jv(this,new Nv("start",this,a.clientX,a.clientY)))this.b=!0;else{this.u||this.ed(a);return}}d=Qv(this,b,d);b=d.x;d=d.y;this.b&&Jv(this,new Nv("beforedrag",this,a.clientX,a.clientY,0,b,d))&&(Rv(this,a,b,d),a.preventDefault())};
function Qv(a,b,d){var e=fj(Yi(a.s).c);b+=e.x-a.C.x;d+=e.y-a.C.y;a.C=e;a.g+=b;a.j+=d;return new Wi(Ov(a,a.g),Pv(a,a.j))}n.yk=function(a){var b=Qv(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Rv(this,a,b.x,b.y)};function Rv(a,b,d,e){a.target.style.left=d+"px";a.target.style.top=e+"px";Jv(a,new Nv("drag",a,b.clientX,b.clientY,0,d,e))}function Ov(a,b){var d=a.R,e=isNaN(d.left)?null:d.left,d=isNaN(d.width)?0:d.width;return Math.min(null!=e?e+d:Infinity,Math.max(null!=e?e:-Infinity,b))}
function Pv(a,b){var d=a.R,e=isNaN(d.top)?null:d.top,d=isNaN(d.height)?0:d.height;return Math.min(null!=e?e+d:Infinity,Math.max(null!=e?e:-Infinity,b))}function Nv(a,b,d,e,f,g,h){Xn.call(this,a);this.clientX=d;this.clientY=e;this.left=aa(g)?g:b.g;this.top=aa(h)?h:b.j}x(Nv,Xn);function Sv(){Iv.call(this);this.g=[];this.s=[];this.S={};this.v=new Fv(this);this.Z=!1}x(Sv,Iv);function Tv(a,b){b.b=0;b.c=void 0;a.g.push(b)}function Uv(a,b){a.Pf=b}n=Sv.prototype;
n.Wa=function(){if(!this.Z){for(var a=0,b=this.g.length;a<b;a++)for(var d=lj(this.g[a]),e=0,f=d.length;e<f;++e){var g=d[e],h=this.Pf(g),k=v(h);this.S[k]=g;this.N&&(this.v.f(g,"mouseover",this.Li),this.v.f(g,"mouseout",this.Ki));this.fa&&(this.v.f(h,"mouseover",this.Ji),this.v.f(h,"mouseout",this.Ii));this.s.push(g);this.v.f(h,["mousedown","touchstart"],this.cj)}this.Z=!0}};
n.Na=function(){this.v.xa();for(var a=0,b=this.g.length;a<b;a++){var d=this.g[a];d.b=void 0;d.c=void 0}this.g.length=0;this.s.length=0;this.S=null;Vv(this);Sv.ca.Na.call(this)};function Wv(a,b){for(var d=0,e=a.g.length;d<e;d++){var f=a.g[d];f.bc=xj(f)}d=0;for(e=a.s.length;d<e;d++)f=a.s[d],f!=b&&(f.bc=xj(f))}
n.cj=function(a){var b=v(a.c);this.c=this.S[b];a:{for(var b=this.c,d=b.cloneNode(!0),e=b.getElementsByTagName("TEXTAREA"),f=d.getElementsByTagName("TEXTAREA"),g=0;g<e.length;g++)f[g].value=e[g].value;switch(b.tagName){case "TR":b=gj("TABLE",null,gj("TBODY",null,d));break a;case "TD":case "TH":b=gj("TABLE",null,gj("TBODY",null,gj("TR",null,d)));break a;case "TEXTAREA":d.value=b.value;default:b=d}}this.b=b;this.T&&$q(this.b,this.T||[]);this.b.style.margin="0";this.b.style.position="absolute";this.b.style.visibility=
"hidden";$i(this.c).body.appendChild(this.b);var d=tj(this.c),b=this.b,e=d,h,d=tj(b);e instanceof Wi&&(h=e.y,e=e.x);f=b.offsetLeft+(e-d.x);f instanceof Wi?(e=f.x,h=f.y):(e=f,h=b.offsetTop+(Number(h)-d.y));b.style.left=uj(e);b.style.top=uj(h);this.j=new Lv(this.b);this.j.v=Math.pow(0,2);lo(this.j,"start",this.Ni,!1,this);lo(this.j,"end",this.Hi,!1,this);lo(this.j,"earlycancel",this.be,!1,this);this.j.Te(a)};
n.Ni=function(a){Jv(this,new Xv("beforedragstart",0,0,this.c))?(this.D=this.c.parentNode,this.da=mj(this.c),this.R=this.D,this.C?$q(this.c,this.C||[]):this.c.style.visibility="hidden",a=vj(this.b),this.b.j=a.width/2,this.b.g=a.height/2,this.b.style.visibility="",this.c.style.display="none",Wv(this,this.c),this.c.style.display="",lo(this.j,"drag",this.Mi,!1,this),Jv(this,new Xv("dragstart",0,0,this.c))):(a.preventDefault(),this.be())};
n.Mi=function(){var a=tj(this.b),a=new Wi(a.x+this.b.j,a.y+this.b.g),b;a:{b=null;if("none"!=this.c.style.display){b=this.c.parentNode;var d=xj(b);if(Yv(a,d))break a}for(var d=0,e=this.g.length;d<e;d++){var f=this.g[d];if(f!=b&&Yv(a,f.bc)){b=f;break a}}b=null}var g;if(b){if(null==b)throw Error("getHoverNextItem_ called with null hoverList.");var h,k,d=!1,e=void 0;switch(b.b){case 0:g=a.y;h=Zv;k=$v;break;case 4:d=!0;case 2:g=a.x;h=aw;k=$v;break;case 5:d=!0;case 3:g=a.x,h=bw,k=cw}for(var f=null,l,m=
lj(b),p=0,q=m.length;p<q;p++){var r=m[p];if(r!=this.c){var w=h(r.bc);if(d){var u=dw(r,a);aa(e)||(e=u);k(g,w)&&(void 0==l||u<e||u==e&&(k(w,l)||w==l))&&(f=r,l=w);u<e&&(e=u)}else k(g,w)&&(void 0==l||k(w,l))&&(f=r,l=w)}}g=null!==f&&dw(f,a)>e?null:f}else g=null;if(!Jv(this,new Xv("beforedragmove",0,0,this.c,0,0,0,b,g)))return!1;if(b)this.c.parentNode==b&&mj(this.c)==g||b.insertBefore(this.c,g),this.c.style.display="",b.c&&Zq(b,b.c);else for(this.c.style.display="none",h=0,k=this.g.length;h<k;h++)l=this.g[h],
l.c&&ar(l,l.c);b!=this.R&&(this.R=b,Wv(this,this.c));Jv(this,new Xv("dragmove",0,0,this.c,0,0,0,b,g));return!1};n.be=function(){Vv(this);this.j=this.b=this.da=this.D=this.R=this.c=null;for(var a=0,b=this.g.length;a<b;a++)this.g[a].bc=null;a=0;for(b=this.s.length;a<b;a++)this.s[a].bc=null};n.Hi=function(){if(!Jv(this,new Xv("beforedragend",0,0,this.c)))return!1;Vv(this);Jv(this,new Xv("dragend",0,0,this.c));this.be();return!0};
function Vv(a){Wn(a.j);a.b&&kj(a.b);a.c&&"none"==a.c.style.display&&(a.D.insertBefore(a.c,a.da),a.c.style.display="");a.C&&a.c?br(a.c,a.C||[]):a.c&&(a.c.style.visibility="");for(var b=0,d=a.g.length;b<d;b++){var e=a.g[b];e.c&&ar(e,e.c)}}n.Pf=function(a){return a};n.Li=function(a){$q(a.c,this.N||[])};n.Ki=function(a){br(a.c,this.N||[])};n.Ji=function(a){$q(a.c,this.fa||[])};n.Ii=function(a){br(a.c,this.fa||[])};function Yv(a,b){return a.x>b.left&&a.x<b.left+b.width&&a.y>b.top&&a.y<b.top+b.height}
function dw(a,b){var d=a.bc;return Math.abs(b.y-(d.top+(d.height-1)/2))}function Zv(a){return a.top+a.height-1}function aw(a){return a.left+a.width-1}function bw(a){return a.left||0}function $v(a,b){return a<b}function cw(a,b){return a>b}function Xv(a,b,d,e,f,g,h,k,l){Xn.call(this,a);this.Rh=e;this.pj=k;this.qj=l}x(Xv,Xn);function ew(){return{restrict:"A",link:function(a,b,d){function e(){for(var d=b.children(),e=0;e<d.length;++e)angular.element(d[e]).data("idx",e);null!==h&&h.xa();h=new Sv;Tv(h,b[0]);Uv(h,function(a){return bj(g.handleClassName,a)});void 0!==g.draggerClassName&&(h.T=Ia(g.draggerClassName).split(" "));var m=-1,p=null;lo(h,"dragstart",function(){m=-1;p=null});lo(h,"dragmove",function(a){var b=a.qj;m=null===b?-1:angular.element(b).data("idx");p=a.pj});lo(h,"dragend",function(b){var d=angular.element(b.Rh).data("idx");
-1!=m?m!=d&&(m>d&&m--,a.$apply(function(){f.splice(m,0,f.splice(d,1)[0])})):null!==p&&a.$apply(function(){f.push(f.splice(d,1)[0])})});h.Wa()}var f=a.$eval(d.ngeoSortable),g=function(a){void 0===a?a={handleClassName:"handle"}:void 0===a.handleClassName&&(a.handleClassName="handle");return a}(a.$eval(d.ngeoSortableOptions)),h=null;a.$watchCollection(function(){return f},function(){e()})}}}ew.$inject=["$timeout"];A.directive("ngeoSortable",ew);var fw={LineString:"LineString",Point:"Point",Polygon:"Polygon",MultiLineString:"LineString",MultiPoint:"Point",MultiPolygon:"Polygon"};function gw(a){this.Ba=null;a=void 0!==a?a:{};this.g=void 0!==a.accuracy?a.accuracy:1;this.f=void 0!==a.encodeStyles?a.encodeStyles:!0;this.i=void 0!==a.properties?a.properties:hw;this.b=this.c=0}x(gw,st);ra("ngeo.format.FeatureHash",gw);function hw(a){return eb(a)}
function iw(a){var b=a<<1;0>a&&(b=~b);a=b;for(b="";32<=a;)b+=".-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz".charAt(32|a&31),a>>=5;return b+=".-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz".charAt(a)}
function jw(a,b,d){b=fw[b];for(var e=0;e<a.length;++e){var f=a[e],g=f.g,h=f.f,k=f.b,f=f.ta();"Polygon"==b?null!==g&&(h=k,k=d,kw(g,k),null!==h&&lw(h,k)):"LineString"==b?null!==k&&lw(k,d):"Point"==b&&null!==h&&(g=d,h instanceof dh&&(k=h.g,0<g.length&&g.push("'"),g.push(encodeURIComponent("pointRadius*"+k)),k=h.f,null!==k&&kw(k,g),h=h.c,null!==h&&lw(h,g)));null!==f&&(g=f,f=d,h=g.b,void 0!==h&&(h=h.split(" "),3<=h.length&&(0<f.length&&f.push("'"),f.push(encodeURIComponent("fontSize*"+h[1])))),g=g.c,null!==
g&&kw(g,f,"fontColor"))}}function kw(a,b,d){d=void 0!==d?d:"fillColor";a=a.c;null!==a&&(a=Ag(a),a=vg(a),0<b.length&&b.push("'"),b.push(encodeURIComponent(d+"*"+a)))}function lw(a,b){var d=a.c;null!==d&&(d=Ag(d),d=vg(d),0<b.length&&b.push("'"),b.push(encodeURIComponent("strokeColor*"+d)));d=a.b;void 0!==d&&(0<b.length&&b.push("'"),b.push(encodeURIComponent("strokeWidth*"+d)))}
function mw(a,b,d,e,f){for(var g=e.length,h=0;h<g;++h)d=nw(this,a,b,d,e[h]-b),0!==h&&f.push("'"),f.push(d),d=e[h];return d}
var pw={P:function(a){a=a.substring(2,a.length-1);a=ow(this,a);var b=new Vh(null);b.M("XY",a);return b},L:function(a){a=a.substring(2,a.length-1);var b=[],d=[];a=a.split("'");for(var e=0,f=a.length;e<f;++e)b=ow(this,a[e],b),d[e]=b.length;a=new Qh(null);a.M("XY",b,d);return a},A:function(a){a=a.substring(2,a.length-1);var b=[],d=[];a=a.split(")(");for(var e=0,f=a.length;e<f;++e)for(var g=a[e].split("'"),h=d[e]=[],k=0,l=g.length;k<l;++k){var b=ow(this,g[k],b),m=b.length;0===k?(b[m++]=b[0],b[m++]=b[1]):
(b[m++]=b[h[k-1]],b[m++]=b[h[k-1]+1]);h[k]=m}a=new ei(null);fi(a,"XY",b,d);return a},l:function(a){a=a.substring(2,a.length-1);a=ow(this,a);var b=new Mh(null);b.M("XY",a);return b},p:function(a){a=a.substring(2,a.length-1);a=ow(this,a);var b=new Uh(null);b.M("XY",a);return b},a:function(a){a=a.substring(2,a.length-1);var b=[],d=[];a=a.split("'");for(var e=0,f=a.length;e<f;++e){var b=ow(this,a[e],b),g=b.length;0===e?(b[g++]=b[0],b[g++]=b[1]):(b[g++]=b[d[e-1]],b[g++]=b[d[e-1]+1]);d[e]=g}a=new ai(null);
a.M("XY",b,d);return a}},qw={MultiLineString:function(a){var b=a.fb(),d=b.length,e=a.B;a=a.F;for(var f=0,g=["L("],h=0;h<d;++h){var k=b[h],f=nw(this,e,a,f,k);0!==h&&g.push("'");g.push(f);f=k}g.push(")");return g.join("")},MultiPoint:function(a){var b=a.B;return"P("+nw(this,b,a.F,0,b.length)+")"},MultiPolygon:function(a){var b=a.B,d=a.F;a=a.b;for(var e=a.length,f=0,g=["A"],h=0;h<e;++h){var k=a[h];g.push("(");f=mw.call(this,b,d,f,k,g);g.push(")")}return g.join("")},LineString:function(a){var b=a.B;return"l("+
nw(this,b,a.F,0,b.length)+")"},Point:function(a){var b=a.B;return"p("+nw(this,b,a.F,0,b.length)+")"},Polygon:function(a){var b=["a("];mw.call(this,a.B,a.F,0,a.fb(),b);b.push(")");return b.join("")}};
function ow(a,b,d){var e=b.length,f=0;d=void 0!==d?d:[];for(var g=d.length;f<e;){var h,k=0,l=0;do h=".-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz".indexOf(b.charAt(f++)),l|=(h&31)<<k,k+=5;while(32<=h);a.c+=l&1?~(l>>1):l>>1;l=k=0;do h=".-_!*ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghjkmnpqrstuvwxyz".indexOf(b.charAt(f++)),l|=(h&31)<<k,k+=5;while(32<=h);a.b+=l&1?~(l>>1):l>>1;d[g++]=a.c*a.g;d[g++]=a.b*a.g}return d}
function nw(a,b,d,e,f){for(var g="";e<f;e+=d){var h=b[e],k=b[e+1],h=Math.floor(h/a.g),k=Math.floor(k/a.g),l=h-a.c,m=k-a.b;a.c=h;a.b=k;g+=iw(l)+iw(m)}return g}
function ut(a,b){var d=b.indexOf("~"),e=vt(a,0<=d?b.substring(0,d)+")":b),e=new lh(e);if(0<=d){for(var f=b.substring(d+1,b.length-1),d=f.indexOf("~"),g=(0<=d?f.substring(0,d):f).split("'"),h=0;h<g.length;++h){var k=decodeURIComponent(g[h]).split("*");e.set(k[0],k[1])}if(0<=d){for(var l,m,p,q,r,w,d=f.substring(d+1).split("'"),f=0;f<d.length;++f)h=decodeURIComponent(d[f]).split("*"),g=h[0],h=h[1],"fillColor"===g?l=h:"fontSize"==g?m=h:"fontColor"==g?p=h:"pointRadius"==g?q=+h:"strokeColor"==g?r=h:"strokeWidth"==
g&&(w=+h);d=null;void 0!==l&&(d=new Vg({color:l}));l=null;void 0!==r&&void 0!==w&&(l=new bh({color:r,width:w}));r=null;void 0!==q&&(r=new dh({radius:q,fill:d,stroke:l}),d=l=null);q=null;void 0!==m&&void 0!==p&&(q=new bs({font:m+" sans-serif",fill:new Vg({color:p})}));m=new eh({fill:d,image:r,stroke:l,text:q});e.ja(m)}}return e}function vt(a,b){var d=pw[b[0]];a.c=0;a.b=0;return d.call(a,b)}
function wt(a,b,d){var e=[],f="",g=b.H();null!=g&&(f=xt(a,g,d));0<f.length&&(f=f.substring(0,f.length-1),e.push(f));var h=[];ve(a.i(b),function(a,d){if(d!==b.b){0!==h.length&&h.push("'");var e=encodeURIComponent(d.replace(/[()'*]/g,"_")+"*"+a.toString().replace(/[()'*]/g,"_"));h.push(e)}});0<h.length&&(e.push("~"),Array.prototype.push.apply(e,h));a.f&&(a=b.i,void 0!==a&&(a=a.call(b,0),null!==a&&(d=[],a=ea(a)?a:[a],jw(a,g.V(),d),0<d.length&&(e.push("~"),Array.prototype.push.apply(e,d)))));e.push(")");
return e.join("")}function xt(a,b,d){var e=qw[b.V()];b=sh(b,!0,d);a.c=0;a.b=0;return e.call(a,b)};A.value("ngeoDecorateLayer",function(a){Object.defineProperty(a,"visible",{configurable:!0,get:function(){return Qd(a)},set:function(b){a.Za(b)}});Object.defineProperty(a,"opacity",{configurable:!0,get:function(){return Math.round(100*Pd(a))/100+""},set:function(b){a.set("opacity",+b)}})});A.value("ngeoFeatures",new gb);var rw={LineString:"LineString",Point:"Point",Polygon:"Polygon",MultiLineString:"LineString",MultiPoint:"Point",MultiPolygon:"Polygon"};function sw(a,b){this.c=a;this.b=b}sw.prototype.cancel=function(a,b){return this.b["delete"](this.c+"/cancel/"+a,void 0!==b?b:{})};sw.prototype.cancel=sw.prototype.cancel;sw.prototype.Qh=function(a,b,d,e,f){d={dpi:d};tw(this,a,b,d);a={map:d};Be(a,f);return{attributes:a,layout:e}};sw.prototype.createSpec=sw.prototype.Qh;
function tw(a,b,d,e){var f=Y(b),g=pl(f),h=f.Y(),k=f.X(),f=rl(f);e.center=g;e.projection=h.c;e.rotation=180*f/Math.PI;e.scale=d;e.layers=[];Sd(gg(b)).b.slice().reverse().forEach(function(a){if(Qd(a)){var b=e.layers;if(a instanceof Xd){if(a.K()instanceof hf){var d=a.K(),f=d.o;if(void 0!==f){a=Pd(a);var d=d.b,g={TRANSPARENT:!0};Be(g,d);delete g.LAYERS;delete g.FORMAT;delete g.VERSION;a={baseURL:uw(f),imageFormat:"FORMAT"in d?d.FORMAT:"image/png",layers:d.LAYERS.split(","),customParams:g,type:"wms",opacity:a,
version:d.VERSION};b.push(a)}}}else if(a instanceof Yd){if(a.K()instanceof cg){for(var f=a.K(),g=f.Y(),h=f.ra,u=h.o,d=[],y=0,B=u.length;y<B;++y){var C=Math.pow(2,y);d.push({identifier:u[y],scaleDenominator:h.X(y)*yd(g)/2.8E-4,tileSize:Ib(Ef(h,y)),topLeftCorner:h.Ua(y),matrixSize:[C,C]})}g=f.o;h=Object.keys(g);u=f.$a[0];y=f.la();0<=u.indexOf("{Layer}")&&(u=u.replace("{Layer}",y));a={baseURL:uw(u),dimensions:h,dimensionParams:g,imageFormat:f.G,layer:f.la(),matrices:d,matrixSet:f.D,opacity:Pd(a),requestEncoding:f.ga,
style:f.Db(),type:"WMTS",version:f.da};b.push(a)}}else if(a instanceof xi){f=a.K();f.j?d=f.j.b:f.b&&(d=Fi(f.b),ya(f.f)||nb(d,xa(f.f)));f=d;d=new Wp;g=[];h={version:2};u=0;for(y=f.length;u<y;++u){var B=f[u],D=null,C=B.i;void 0!==C?D=C.call(B,k):(C=a.j,void 0!==C&&(D=C.call(a,B,k)));C=Pp(d,B);D=null===D||ea(D)?D:[D];if(null!==D&&0<D.length)for(var z=!1,N=0,U=D.length;N<U;++N){var T=D[N],J=v(T).toString(),ca=T.H(),L;if(ca){var R=B.clone();mh(R,ca);L=Pp(d,R);ca=R.H();g.push(L)}else{L=C;ca=B.H();if(null==
ca)continue;z||(g.push(L),z=!0)}var P=ca.V();null===L.properties&&(L.properties={});ca="_ngeo_style_"+N;R=T;if(P in rw){var F=rw[P],P="["+ca+" = '"+J+"']";if(!(P in h)){T={symbolizers:[]};h[P]=T;var P=R.g,K=R.f,E=R.b,R=R.ta();if("Polygon"==F)null!==P&&(F=T.symbolizers,K={type:"polygon"},vw(K,P),null!==E&&ww(K,E),F.push(K));else if("LineString"==F)null!==E&&(P=T.symbolizers,F={type:"line"},ww(F,E),P.push(F));else if("Point"==F&&null!==K){P=T.symbolizers;F=K;E=void 0;if(F instanceof dh)E={type:"point"},
E.pointRadius=F.g,K=F.f,null!==K&&vw(E,K),F=F.c,null!==F&&ww(E,F);else if(F instanceof Rk){if(K=F.c.s,void 0!==K){E={type:"point",externalGraphic:K,graphicFormat:"image/png"};K=F.C;null!==K&&(E.graphicOpacity=K);K=F.lb();if(null!==K){var Ha=F.Ma();isNaN(Ha)&&(Ha=1);E.graphicWidth=K[0]*Ha;E.graphicHeight=K[1]*Ha}F=F.u;isNaN(F)&&(F=0);E.rotation=180*F/Math.PI}}else F instanceof jp&&(K=F.c,null!==K&&(E={type:"point"},4===K?E.graphicName="square":3===K?E.graphicName="triangle":5===K?E.graphicName="star":
8===K&&(E.graphicName="cross"),K=F.lb(),null!==K&&(E.graphicWidth=K[0],E.graphicHeight=K[1]),K=F.u,isNaN(K)||0===K||(E.rotation=180*K/Math.PI),K=F.C,null!==K&&(E.graphicOpacity=K),K=F.b,null!==K&&ww(E,K),F=F.o,null!==F&&vw(E,F)));void 0!==E&&P.push(E)}null!==R&&(T=T.symbolizers,P={type:"Text"},E=R.ta(),void 0!==E&&(P.label=E,E=R.o,void 0!==E&&(P.labelAlign=E),E=R.i,void 0!==E&&(P.labelRotation=(180*E/Math.PI).toString()),E=R.b,void 0!==E&&(E=E.split(" "),3<=E.length&&(P.fontWeight=E[0],P.fontSize=
E[1],P.fontFamily=E.splice(2).join(" "))),E=R.j,null!==E&&(F=Ag(E.c),P.haloColor=vg(F),P.haloOpacity=F[3],E=E.b,void 0!==E&&(P.haloRadius=E)),E=R.c,null!==E&&(E=Ag(E.c),P.fontColor=vg(E)),void 0!==P.labelAlign&&(P.c=R.g,P.b=-R.f),T.push(P)))}}L.properties[ca]=J}}0<g.length&&(a={geoJson:{type:"FeatureCollection",features:g},opacity:Pd(a),style:h,type:"geojson"},b.push(a))}}},a)}function uw(a){var b=document.createElement("a");b.href=encodeURI(a);return decodeURI(b.href)}
function vw(a,b){var d=b.c;null!==d&&(d=Ag(d),a.fillColor=vg(d),a.fillOpacity=d[3])}function ww(a,b){var d=b.c;null!==d&&(d=Ag(d),a.strokeColor=vg(d),a.strokeOpacity=d[3]);d=b.g;null!==d&&(a.strokeDashstyle=d.join(" "));d=b.b;void 0!==d&&(a.strokeWidth=d)}sw.prototype.Ph=function(a,b){var d=this.c+"/report.pdf",e={headers:{"Content-Type":"application/json; charset=UTF-8"}};Be(e,void 0!==b?b:{});return this.b.post(d,a,e)};sw.prototype.createReport=sw.prototype.Ph;
sw.prototype.vi=function(a,b){return this.b.get(this.c+"/status/"+a+".json",void 0!==b?b:{})};sw.prototype.getStatus=sw.prototype.vi;sw.prototype.ki=function(a){return this.c+"/report/"+a};sw.prototype.getReportUrl=sw.prototype.ki;function xw(a){return function(b){return new sw(b,a)}}xw.$inject=["$http"];A.factory("ngeoCreatePrint",xw);function yw(){}
yw.prototype.Oh=function(a,b){var d=this;return function(e){var f=e.context,g=e.frameState,h=g.W.resolution;e=g.size[0]*g.va;var k=g.size[1]*g.va,l=e/2,m=k/2,p=a(),q=b(g),g=p[0]/72/39.37*q/h/2;d.c=p[0]/72/39.37*q/2;h=p[1]/72/39.37*q/h/2;d.b=p[1]/72/39.37*q/2;p=l-g;q=m-h;l+=g;m+=h;f.beginPath();f.moveTo(0,0);f.lineTo(e,0);f.lineTo(e,k);f.lineTo(0,k);f.lineTo(0,0);f.closePath();f.moveTo(p,q);f.lineTo(p,m);f.lineTo(l,m);f.lineTo(l,q);f.lineTo(p,q);f.closePath();f.fillStyle="rgba(0, 5, 25, 0.5)";f.fill()}};
yw.prototype.createPrintMaskPostcompose=yw.prototype.Oh;yw.prototype.ji=function(a,b,d,e){a=Math.min(a[0]*b*2834.64/d[0],a[1]*b*2834.64/d[1]);b=-1;d=0;for(var f=e.length;d<f;++d)a>e[d]&&(b=e[d]);return b};yw.prototype.getOptimalScale=yw.prototype.ji;yw.prototype.ii=function(a,b,d){return Math.max(b[0]*d/(2834.64*a[0]),b[1]*d/(2834.64*a[1]))};yw.prototype.getOptimalResolution=yw.prototype.ii;A.service("ngeoPrintUtils",yw);A.value("ngeoSyncArrays",function(a,b,d,e,f){var g=e.$watchCollection(function(){return a},function(){var e,g,h;if(d)for(e=a.length-1,h=0;0<=e;--e)f(a[e])&&(b[h++]=a[e]);else for(e=0,g=a.length,h=0;e<g;++e)f(a[e])&&(b[h++]=a[e]);b.length=h}),h=e.$watchCollection(function(){return b},function(){var e,g,h;if(d)for(e=0,g=a.length,h=b.length-1;e<g;++e)f(a[e])&&(a[e]=b[h--]);else for(e=0,g=a.length,h=0;e<g;++e)f(a[e])&&(a[e]=b[h++])});return function(){g();h()}});}).call(window);
//# sourceMappingURL=desktop.js.map
